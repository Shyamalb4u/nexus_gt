/*! For license information please see main.f8dfb524.js.LICENSE.txt */
(()=>{var e={33:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},301:(e,t,n)=>{"use strict";n.d(t,{ER:()=>s,Im:()=>c,dZ:()=>l,eX:()=>o,e_:()=>a});var r=n(1834),i=n(6765);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function o(){return BigInt(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function a(e,t,n){return{id:n||s(),jsonrpc:"2.0",method:e,params:t}}function c(e,t){return{id:e,jsonrpc:"2.0",result:t}}function l(e,t,n){return{id:e,jsonrpc:"2.0",error:u(t,n)}}function u(e,t){return"undefined"===typeof e?(0,r.vG)(i.zR):("string"===typeof e&&(e=Object.assign(Object.assign({},(0,r.vG)(i.fO)),{message:e})),"undefined"!==typeof t&&(e.data=t),(0,r.mE)(e.code)&&(e=(0,r.rI)(e.code)),e)}},364:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6613);r.__exportStar(n(364),t),r.__exportStar(n(6454),t)},568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(8251);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},632:(e,t,n)=>{"use strict";n.d(t,{IJsonRpcProvider:()=>o.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>a.q$,isJsonRpcError:()=>c.U$,isJsonRpcRequest:()=>c.p3,isJsonRpcResponse:()=>c.tq,isJsonRpcResult:()=>c.xT,isLocalhostUrl:()=>a.z,isWsUrl:()=>a.A1,parseConnectionError:()=>r.eF,payloadId:()=>s.ER});n(6765);var r=n(1834),i=n(3587);n.o(i,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),n.o(i,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),n.o(i,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),n.o(i,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),n.o(i,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),n.o(i,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),n.o(i,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),n.o(i,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),n.o(i,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),n.o(i,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),n.o(i,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),n.o(i,"isReactNative")&&n.d(t,{isReactNative:function(){return i.isReactNative}}),n.o(i,"isWsUrl")&&n.d(t,{isWsUrl:function(){return i.isWsUrl}}),n.o(i,"payloadId")&&n.d(t,{payloadId:function(){return i.payloadId}});var s=n(301),o=n(940),a=n(1385),c=n(3985)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},883:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>Un,FA:()=>Dn,TZ:()=>Ln,UF:()=>Bn});var r=n(9379),i=n(3901),s=n(8661);function o(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const c="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function u(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),o(e),e}class h{clone(){return this._cloneInto()}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(c&&"function"==typeof c.getRandomValues)return c.getRandomValues(new Uint8Array(e));if(c&&"function"==typeof c.randomBytes)return c.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class f extends h{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=u(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=l(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let o=s;o<r;o++)t[o]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const c=l(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let o=0;o<h;o++)c.setUint32(4*o,d[o],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const p=BigInt(2**32-1),g=BigInt(32);function m(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&p),l:Number(e>>g&p)}:{h:0|Number(e>>g&p),l:0|Number(e&p)}}const y={fromBig:m,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=m(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<g|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[w,v]=y.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),b=new Uint32Array(80),E=new Uint32Array(80);class x extends f{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)b[y]=e.getUint32(t),E[y]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|b[w-15],t=0|E[w-15],n=y.rotrSH(e,t,1)^y.rotrSH(e,t,8)^y.shrSH(e,t,7),r=y.rotrSL(e,t,1)^y.rotrSL(e,t,8)^y.shrSL(e,t,7),i=0|b[w-2],s=0|E[w-2],o=y.rotrSH(i,s,19)^y.rotrBH(i,s,61)^y.shrSH(i,s,6),a=y.rotrSL(i,s,19)^y.rotrBL(i,s,61)^y.shrSL(i,s,6),c=y.add4L(r,a,E[w-7],E[w-16]),l=y.add4H(c,n,o,b[w-7],b[w-16]);b[w]=0|l,E[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:x}=this;for(let A=0;A<80;A++){const e=y.rotrSH(u,h,14)^y.rotrSH(u,h,18)^y.rotrBH(u,h,41),t=y.rotrSL(u,h,14)^y.rotrSL(u,h,18)^y.rotrBL(u,h,41),S=u&d^~u&p,I=h&f^~h&g,k=y.add5L(x,t,I,v[A],E[A]),P=y.add5H(k,m,e,S,w[A],b[A]),O=0|k,N=y.rotrSH(n,r,28)^y.rotrBH(n,r,34)^y.rotrBH(n,r,39),C=y.rotrSL(n,r,28)^y.rotrBL(n,r,34)^y.rotrBL(n,r,39),R=n&i^n&o^i&o,T=r&s^r&a^s&a;m=0|p,x=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=y.add(0|c,0|l,0|P,0|O)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const _=y.add3L(O,C,T);n=y.add3H(_,P,N,R),r=0|_}({h:n,l:r}=y.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=y.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=y.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=y.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=y.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=y.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=y.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:x}=y.add(0|this.Hh,0|this.Hl,0|m,0|x)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,x)}roundClean(){b.fill(0),E.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const A=function(e){const t=t=>e().update(u(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new x),S=BigInt(0),I=BigInt(1),k=BigInt(2);function P(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function O(e){if(!P(e))throw new Error("Uint8Array expected")}function N(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R(e){O(e);let t="";for(let n=0;n<e.length;n++)t+=C[e[n]];return t}function T(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?S:BigInt("0x"+e)}const _=48,B=57,j=65,U=70,L=97,D=102;function M(e){return e>=_&&e<=B?e-_:e>=j&&e<=U?e-(j-10):e>=L&&e<=D?e-(L-10):void 0}function F(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=M(e.charCodeAt(s)),n=M(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function z(e){return O(e),T(R(Uint8Array.from(e).reverse()))}function H(e,t){return F(e.toString(16).padStart(2*t,"0"))}function q(e,t){return H(e,t).reverse()}function V(e,t,n){let r;if("string"==typeof t)try{r=F(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!P(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function W(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];O(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const K=e=>"bigint"==typeof e&&S<=e;function G(e,t,n,r){if(!function(e,t,n){return K(e)&&K(t)&&K(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Q=e=>(k<<BigInt(e-1))-I,J={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||P(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=J[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Z(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const X=BigInt(0),$=BigInt(1),ee=BigInt(2),te=BigInt(3),ne=BigInt(4),re=BigInt(5),ie=BigInt(8);function se(e,t){const n=e%t;return n>=X?n:t+n}function oe(e,t,n){if(t<X)throw new Error("invalid exponent, negatives unsupported");if(n<=X)throw new Error("invalid modulus");if(n===$)return X;let r=$;for(;t>X;)t&$&&(r=r*e%n),e=e*e%n,t>>=$;return r}function ae(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function ce(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,i=X,s=$;for(;n!==X;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==$)throw new Error("invert: does not exist");return se(i,t)}function le(e){if(e%ne===te){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ie===re){const t=(e-re)/ie;return function(e,n){const r=e.mul(n,ee),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,ee),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-$)/ee;let n,r,i;for(n=e-$,r=0;n%ee===X;n/=ee,r++);for(i=ee;i<e&&oe(i,t,e)!==e-$;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+$)/ne;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+$)/ee;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,$<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const ue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function he(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function de(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=he(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Q(i),ZERO:X,ONE:$,create:t=>se(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return X<=t&&t<e},is0:e=>e===X,isOdd:e=>(e&$)===$,neg:t=>se(-t,e),eql:(e,t)=>e===t,sqr:t=>se(t*t,e),add:(t,n)=>se(t+n,e),sub:(t,n)=>se(t-n,e),mul:(t,n)=>se(t*n,e),pow:(e,t)=>function(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===$)return t;let r=e.ONE,i=t;for(;n>X;)n&$&&(r=e.mul(r,i)),i=e.sqr(i),n>>=$;return r}(a,e,t),div:(t,n)=>se(t*ce(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ce(t,e),sqrt:r.sqrt||(t=>(o||(o=le(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?q(e,s):H(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?z(e):function(e){return T(R(e))}(e)}});return Object.freeze(a)}const fe=BigInt(0),pe=BigInt(1);function ge(e,t){const n=t.negate();return e?n:t}function me(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ye(e,t){me(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const we=new WeakMap,ve=new WeakMap;function be(e){return ve.get(e)||1}function Ee(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>S;e>>=I,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function xe(e){return function(e){Y(e,ue.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),Y(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,r.A)((0,r.A)((0,r.A)({},he(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const Ae=BigInt(0),Se=BigInt(1),Ie=BigInt(2),ke=BigInt(8),Pe={zip215:!0};function Oe(e){const t=function(e){const t=xe(e);return Y(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze((0,r.A)({},t))}(e),{Fp:n,n:i,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:l}=t,u=Ie<<BigInt(8*c)-Se,h=n.create,d=de(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:Ae}}}),p=t.adjustScalarBytes||(e=>e),g=t.domain||((e,t,n)=>{if(N("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function m(e,t){G("coordinate "+e,t,Ae,u)}function y(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const w=Z((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?ke:n.inv(s));const a=h(r*t),c=h(i*t),l=h(s*t);if(o)return{x:Ae,y:Se};if(l!==Se)throw new Error("invZ was invalid");return{x:a,y:c}}),v=Z(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=h(i*i),l=h(s*s),u=h(o*o),d=h(u*u),f=h(c*n);if(h(u*h(f+l))!==h(d+h(r*h(c*l))))throw new Error("bad point: equation left != right (1)");if(h(i*s)!==h(o*a))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,m("x",e),m("y",t),m("z",n),m("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return m("x",t),m("y",n),new b(t,n,Se,h(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(b.fromAffine)}static msm(e,t){return Ee(b,d,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=h(t*o),c=h(i*r),l=h(n*o),u=h(s*r);return a===c&&l===u}is0(){return this.equals(b.ZERO)}negate(){return new b(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=h(n*n),o=h(r*r),a=h(Ie*h(i*i)),c=h(e*s),l=n+r,u=h(h(l*l)-s-o),d=c+o,f=d-a,p=c-o,g=h(u*f),m=h(d*p),y=h(u*p),w=h(f*d);return new b(g,m,w,y)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:u,et:d}=e;if(n===BigInt(-1)){const e=h((s-i)*(l+c)),t=h((s+i)*(l-c)),n=h(t-e);if(n===Ae)return this.double();const r=h(o*Ie*d),f=h(a*Ie*u),p=f+r,g=t+e,m=f-r,y=h(p*n),w=h(g*m),v=h(p*m),E=h(n*g);return new b(y,w,E,v)}const f=h(i*c),p=h(s*l),g=h(a*r*d),m=h(o*u),w=h((i+s)*(c+l)-f-p),v=m-g,E=m+g,x=h(p-n*f),A=h(w*v),S=h(E*x),I=h(w*x),k=h(v*E);return new b(A,S,k,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;G("scalar",t,Se,i);const{p:n,f:r}=this.wNAF(t);return b.normalizeZ([n,r])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.ZERO;const n=e;return G("scalar",n,Ae,i),n===Ae?x:this.is0()||n===Se?this:A.wNAFCachedUnsafe(this,n,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return A.unsafeLadder(this,i).is0()}toAffine(e){return w(this,e)}clearCofactor(){const{h:e}=t;return e===Se?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=V("pointHex",e,o),N("zip215",r);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const l=z(a),d=r?u:n.ORDER;G("pointHex.y",l,Ae,d);const p=h(l*l),g=h(p-Se),m=h(i*p-s);let{isValid:y,value:w}=f(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Se)===Se,E=0!==(128&c);if(!r&&w===Ae&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==v&&(w=h(-w)),b.fromAffine({x:w,y:l})}static fromPrivateKey(e){return k(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=q(t,n.BYTES);return r[r.length-1]|=e&Se?128:0,r}toHex(){return R(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Se,h(t.Gx*t.Gy)),b.ZERO=new b(Ae,Se,Se,Ae);const{BASE:E,ZERO:x}=b,A=function(e,t){return{constTimeNegate:ge,hasPrecomputes:e=>1!==be(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>fe;)n&pe&&(r=r.add(i)),i=i.double(),n>>=pe;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=ye(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=ye(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&l);i>>=h,n>o&&(n-=u,i+=pe);const s=t,d=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?c=c.add(ge(f,r[s])):a=a.add(ge(p,r[d]))}return{p:a,f:c}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=ye(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===fe)break;let n=Number(i&c);if(i>>=u,n>a&&(n-=l,i+=pe),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=we.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&we.set(t,n(r))),r},wNAFCached(e,t,n){const r=be(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=be(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){me(n,t),ve.set(e,n),we.delete(e)}}}(b,8*c);function S(e){return se(e,i)}function I(e){return S(z(e))}function k(e){const t=n.BYTES;e=V("private key",e,t);const r=V("hashed private key",o(e),2*t),i=p(r.slice(0,t)),s=r.slice(t,2*t),a=I(i),c=E.multiply(a),l=c.toRawBytes();return{head:i,prefix:s,scalar:a,point:c,pointBytes:l}}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=W(...n);return I(o(g(i,V("context",e),!!s)))}const O=Pe;return E._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return k(e).pointBytes},sign:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=V("message",e),s&&(e=s(e));const{prefix:o,scalar:a,pointBytes:c}=k(t),l=P(r.context,o,e),u=E.multiply(l).toRawBytes(),h=S(l+P(r.context,u,c,e)*a);return G("signature.s",h,Ae,i),V("result",W(u,q(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O;const{context:o,zip215:a}=i,c=n.BYTES;e=V("signature",e,2*c),t=V("message",t),r=V("publicKey",r,c),void 0!==a&&N("zip215",a),s&&(t=s(t));const l=z(e.slice(c,2*c));let u,h,d;try{u=b.fromHex(r,a),h=b.fromHex(e.slice(0,c),a),d=E.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=P(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>a(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const Ne=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ce=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Re=BigInt(1),Te=BigInt(2);BigInt(3);const _e=BigInt(5),Be=BigInt(8);function je(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ue(e,t){const n=Ne,r=se(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ne,o=e*e%s*e%s,a=ae(o,Te,s)*o%s,c=ae(a,Re,s)*e%s,l=ae(c,_e,s)*c%s,u=ae(l,t,s)*l%s,h=ae(u,n,s)*u%s,d=ae(h,r,s)*h%s,f=ae(d,i,s)*d%s,p=ae(f,i,s)*d%s,g=ae(p,t,s)*l%s;return{pow_p_5_8:ae(g,Te,s)*e%s,b2:o}}(e*se(r*r*t,n)).pow_p_5_8;let s=se(e*r*i,n);const o=se(t*s*s,n),a=s,c=se(s*Ce,n),l=o===e,u=o===se(-e,n),h=o===se(-e*Ce,n);return l&&(s=a),(u||h)&&(s=c),((e,t)=>(se(e,t)&$)===$)(s,n)&&(s=se(-s,n)),{isValid:l||u,value:s}}const Le=de(Ne,void 0,!0),De=Oe({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Le,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Be,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:A,randomBytes:d,adjustScalarBytes:je,uvRatio:Ue}),Me="EdDSA",Fe="JWT",ze=".",He="base64url",qe="utf8",Ve="utf8",We=":",Ke="did",Ge="key",Qe="base58btc",Je="z",Ye="K36",Ze=32;function Xe(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function $e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Xe(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function et(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=$e(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Xe(n)}var tt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const nt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class rt{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class it{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ot(this,e)}}class st{constructor(e){this.decoders=e}or(e){return ot(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const ot=(e,t)=>new st((0,r.A)((0,r.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class at{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new rt(e,t,n),this.decoder=new it(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ct=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new at(t,n,r,i)},lt=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=tt(r,n);return ct({prefix:t,name:n,encode:i,decode:e=>nt(s(e))})},ut=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return ct({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},ht=ct({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var dt=Object.freeze({__proto__:null,identity:ht});const ft=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pt=Object.freeze({__proto__:null,base2:ft});const gt=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mt=Object.freeze({__proto__:null,base8:gt});const yt=lt({prefix:"9",name:"base10",alphabet:"0123456789"});var wt=Object.freeze({__proto__:null,base10:yt});const vt=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bt=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Et=Object.freeze({__proto__:null,base16:vt,base16upper:bt});const xt=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),At=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),St=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),It=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kt=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Pt=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ot=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nt=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ct=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rt=Object.freeze({__proto__:null,base32:xt,base32upper:At,base32pad:St,base32padupper:It,base32hex:kt,base32hexupper:Pt,base32hexpad:Ot,base32hexpadupper:Nt,base32z:Ct});const Tt=lt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_t=lt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Bt=Object.freeze({__proto__:null,base36:Tt,base36upper:_t});const jt=lt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ut=lt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lt=Object.freeze({__proto__:null,base58btc:jt,base58flickr:Ut});const Dt=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mt=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ft=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zt=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ht=Object.freeze({__proto__:null,base64:Dt,base64pad:Mt,base64url:Ft,base64urlpad:zt});const qt=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Vt=qt.reduce((e,t,n)=>(e[n]=t,e),[]),Wt=qt.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const Kt=ct({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Vt[t],"")},decode:function(e){const t=[];for(const n of e){const e=Wt[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var Gt=Object.freeze({__proto__:null,base256emoji:Kt}),Qt=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Zt;)n[r++]=255&t|Jt,t/=128;for(;t&Yt;)n[r++]=255&t|Jt,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Jt=128,Yt=-128,Zt=Math.pow(2,31);var Xt=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&en)<<s:(r&en)*Math.pow(2,s),s+=7}while(r>=$t);return e.bytes=o-n,i},$t=128,en=127;var tn=Math.pow(2,7),nn=Math.pow(2,14),rn=Math.pow(2,21),sn=Math.pow(2,28),on=Math.pow(2,35),an=Math.pow(2,42),cn=Math.pow(2,49),ln=Math.pow(2,56),un=Math.pow(2,63),hn={encode:Qt,decode:Xt,encodingLength:function(e){return e<tn?1:e<nn?2:e<rn?3:e<sn?4:e<on?5:e<an?6:e<cn?7:e<ln?8:e<un?9:10}};const dn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hn.encode(e,t,n),t},fn=e=>hn.encodingLength(e),pn=(e,t)=>{const n=t.byteLength,r=fn(e),i=r+fn(n),s=new Uint8Array(i+n);return dn(e,s,0),dn(n,s,r),s.set(t,i),new gn(e,n,t,s)};class gn{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const mn=e=>{let{name:t,code:n,encode:r}=e;return new yn(t,n,r)};class yn{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?pn(this.code,t):t.then(e=>pn(this.code,e))}throw Error("Unknown type, must be binary type")}}const wn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),vn=mn({name:"sha2-256",code:18,encode:wn("SHA-256")}),bn=mn({name:"sha2-512",code:19,encode:wn("SHA-512")});var En=Object.freeze({__proto__:null,sha256:vn,sha512:bn});const xn=nt,An={code:0,name:"identity",encode:xn,digest:e=>pn(0,xn(e))};var Sn=Object.freeze({__proto__:null,identity:An});new TextEncoder,new TextDecoder;const In=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},dt),pt),mt),wt),Et),Rt),Bt),Lt),Ht),Gt);function kn(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,r.A)((0,r.A)({},En),Sn);const Pn=kn("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),On=kn("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=$e((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Nn=(0,r.A)({utf8:Pn,"utf-8":Pn,hex:In.base16,latin1:On,ascii:On,binary:On},In);function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Nn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Nn[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):Xe(globalThis.Buffer.from(e,"utf-8"))}function Tn(e){return(0,s.j)(Cn(Rn(e,He),qe))}function _n(e){return Cn(Rn((0,s.h)(e),qe),He)}function Bn(e){const t=Rn(Ye,Qe),n=Je+Cn(et([t,e]),Qe);return[Ke,Ge,n].join(We)}function jn(e){return Cn(e,He)}function Un(e){const t=e.split(ze),n=Tn(t[0]),r=Tn(t[1]),i=function(e){return Rn(e,He)}(t[2]);return{header:n,payload:r,signature:i,data:Rn(t.slice(0,2).join(ze),Ve)}}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d(Ze);const t=De.getPublicKey(e);return{secretKey:et([e,t]),publicKey:t}}async function Dn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,i.fromMiliseconds)(Date.now());const o={alg:Me,typ:Fe},a={iss:Bn(r.publicKey),sub:e,aud:t,iat:s,exp:s+n},c=function(e){return Rn([_n(e.header),_n(e.payload)].join(ze),Ve)}({header:o,payload:a});return function(e){return[_n(e.header),_n(e.payload),jn(e.signature)].join(ze)}({header:o,payload:a,signature:De.sign(c,r.secretKey.slice(0,32))})}},917:(e,t,n)=>{"use strict";n.d(t,{VH:()=>l,li:()=>c});var r=n(7284),i=n(3901),s=n(1775);class o extends s.H{constructor(e){super()}}const a=i.FIVE_SECONDS,c={pulse:"heartbeat_pulse"};class l extends o{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=a,this.interval=(null===e||void 0===e?void 0:e.interval)||a}static async init(e){const t=new l(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(c.pulse)}}},940:(e,t,n)=>{"use strict";n.d(t,{kF:()=>s});class r{}class i extends r{constructor(){super()}}class s extends i{constructor(e){super()}}},1067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(6121).__exportStar(n(656),t)},1198:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},1385:(e,t,n)=>{"use strict";n.d(t,{A1:()=>a,q$:()=>o,z:()=>c});const r="^https?:",i="^wss?:";function s(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function o(e){return s(e,r)}function a(e){return s(e,i)}function c(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},1666:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(o+(c-u));let d=o;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let e=t[a],r=0;for(let t=l-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let h=l-o;for(;h!==l&&0===u[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=e.charAt(u[h]);return d},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const i=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1757:(e,t,n)=>{"use strict";n.d(t,{CG:()=>r});const r={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},1760:(e,t,n)=>{"use strict";function r(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(0!==(4294967168&i))if(0===(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320===(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=0===(4294901760&i)?3:4}else n++}return n}n.d(t,{Zf:()=>c,_u:()=>h,dS:()=>r,yi:()=>o});const i=new TextEncoder,s=50;function o(e,t,n){e.length>s?function(e,t,n){i.encodeInto(e,t.subarray(n))}(e,t,n):function(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let n=e.charCodeAt(s++);if(0!==(4294967168&n)){if(0===(4294965248&n))t[i++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&s<r){const t=e.charCodeAt(s);56320===(64512&t)&&(++s,n=((1023&n)<<10)+(1023&t)+65536)}0===(4294901760&n)?(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128):(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128)}t[i++]=63&n|128}else t[i++]=n}}(e,t,n)}const a=4096;function c(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const t=e[r++];if(0===(128&t))s.push(t);else if(192===(224&t)){const n=63&e[r++];s.push((31&t)<<6|n)}else if(224===(240&t)){const n=63&e[r++],i=63&e[r++];s.push((31&t)<<12|n<<6|i)}else if(240===(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n)}else s.push(t);s.length>=a&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const l=new TextDecoder,u=200;function h(e,t,n){return n>u?function(e,t,n){const r=e.subarray(t,t+n);return l.decode(r)}(e,t,n):c(e,t,n)}},1775:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});class r{}},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},1834:(e,t,n)=>{"use strict";n.d(t,{eF:()=>a,mE:()=>i,rI:()=>o,vG:()=>s});var r=n(6765);function i(e){return r.jf.includes(e)}function s(e){return Object.keys(r.Uf).includes(e)?r.Uf[e]:r.Uf[r.XW]}function o(e){const t=Object.values(r.Uf).find(t=>t.code===e);return t||r.Uf[r.XW]}function a(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(n," RPC url at ").concat(t)):e}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2636:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7284),i=n(8661),s=n(632);const o=e=>e.split("?")[0],a=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(1198);class c{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,s.isWsUrl)(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},o=new a(e,[],i);typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,s.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(o(this.url))));return this.events.emit("register_error",t),t}}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},3044:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>a,X3:()=>i,_j:()=>s,eN:()=>o,f7:()=>r});const r=4294967295;function i(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function s(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function o(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function a(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},3048:(e,t,n)=>{const r=n(5288);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){l[e]=l[e]+l[t]+i,l[r]=o(l[r]^l[e],16),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],12),l[e]=l[e]+l[t]+s,l[r]=o(l[r]^l[e],8),l[n]=l[n]+l[r],l[t]=o(l[t]^l[n],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function h(e,t){let n=0;for(n=0;n<8;n++)l[n]=e.h[n],l[n+8]=a[n];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,u[c[16*n+0]],u[c[16*n+1]]),s(1,5,9,13,u[c[16*n+2]],u[c[16*n+3]]),s(2,6,10,14,u[c[16*n+4]],u[c[16*n+5]]),s(3,7,11,15,u[c[16*n+6]],u[c[16*n+7]]),s(0,5,10,15,u[c[16*n+8]],u[c[16*n+9]]),s(1,6,11,12,u[c[16*n+10]],u[c[16*n+11]]),s(2,7,8,13,u[c[16*n+12]],u[c[16*n+13]]),s(3,4,9,14,u[c[16*n+14]],u[c[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=l[n]^l[n+8]}function d(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(f(r,t),r.c=64),r}function f(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);const i=d(n,t);return f(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){const i=g(e,t,n);return r.toHex(i)},blake2sInit:d,blake2sUpdate:f,blake2sFinal:p}},3587:(e,t,n)=>{"use strict";var r=n(510);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},3853:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}n.d(t,{C:()=>r})},3901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(5871),t),r.__exportStar(n(1822),t),r.__exportStar(n(1067),t),r.__exportStar(n(8251),t)},3985:(e,t,n)=>{"use strict";function r(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return r(e)&&"method"in e}function s(e){return r(e)&&(o(e)||a(e))}function o(e){return"result"in e}function a(e){return"error"in e}n.d(t,{U$:()=>a,p3:()=>i,tq:()=>s,xT:()=>o})},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4017:(e,t,n)=>{"use strict";function r(e,t){this.v=e,this.k=t}function i(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,c=a instanceof r;Promise.resolve(c?a.v:a).then(function(n){if(c){var r="return"===t?"return":"next";if(!a.k||n.done)return i(r,n);n=e[r](n).value}s(o.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){s("throw",e)}}function s(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,o){var a={key:e,arg:r,resolve:s,reject:o,next:null};n?n=n.next=a:(t=n=a,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new r(e,0)}function o(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new a(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new a(e)}function c(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}n.d(t,{D:()=>S}),i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var l=n(5659),u=n(3044),h=n(1760),d=n(3853);var f=n(7257);const p="array",g="map_key",m="map_value",y=e=>{if("string"===typeof e||"number"===typeof e)return e;throw new f.X("The type of key must be string or number but "+typeof e)};class w{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=p,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=g,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===p){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===g||e.type===m){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const v=new DataView(new ArrayBuffer(0)),b=new Uint8Array(v.buffer);try{v.getInt8(0)}catch(I){if(!(I instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const E=new RangeError("Insufficient data"),x=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=(0,h.Zf)(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,i),i}};class A{constructor(e){var t,n,r,i,s,o,a,c,h;this.totalPos=0,this.pos=0,this.view=v,this.bytes=b,this.headByte=-1,this.stack=new w,this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:l.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.rawStrings=null!==(r=null===e||void 0===e?void 0:e.rawStrings)&&void 0!==r&&r,this.maxStrLength=null!==(i=null===e||void 0===e?void 0:e.maxStrLength)&&void 0!==i?i:u.f7,this.maxBinLength=null!==(s=null===e||void 0===e?void 0:e.maxBinLength)&&void 0!==s?s:u.f7,this.maxArrayLength=null!==(o=null===e||void 0===e?void 0:e.maxArrayLength)&&void 0!==o?o:u.f7,this.maxMapLength=null!==(a=null===e||void 0===e?void 0:e.maxMapLength)&&void 0!==a?a:u.f7,this.maxExtLength=null!==(c=null===e||void 0===e?void 0:e.maxExtLength)&&void 0!==c?c:u.f7,this.keyDecoder=void 0!==(null===e||void 0===e?void 0:e.keyDecoder)?e.keyDecoder:x,this.mapKeyConverter=null!==(h=null===e||void 0===e?void 0:e.mapKeyConverter)&&void 0!==h?h:y}clone(){return new A({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=(0,d.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=(0,d.C)(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))}decode(e){if(this.entered){return this.clone().decode(e)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered){return this.clone().decodeAsync(e)}try{this.entered=!0;let l,u=!1;var t,n=!1,r=!1;try{for(var i,s=o(e);n=!(i=await s.next()).done;n=!1){const e=i.value;if(u)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(e);try{l=this.doDecodeSync(),u=!0}catch(I){if(!(I instanceof RangeError))throw I}this.totalPos+=this.pos}}catch(a){r=!0,t=a}finally{try{n&&null!=s.return&&await s.return()}finally{if(r)throw t}}if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return l}const{headByte:h,pos:d,totalPos:f}=this;throw new RangeError("Insufficient data in parsing ".concat(c(h)," at ").concat(f," (").concat(d," in the current buffer)"))}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}decodeMultiAsync(e,t){var n,a=this;return(n=function*(){if(a.entered){const n=a.clone();return void(yield*function(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new r(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}(o(n.decodeMultiAsync(e,t))))}try{a.entered=!0;let r=t,f=-1;var i,c=!1,l=!1;try{for(var u,h=o(e);c=!(u=yield s(h.next())).done;c=!1){const e=u.value;if(t&&0===f)throw a.createExtraByteError(a.totalPos);a.appendBuffer(e),r&&(f=a.readArraySize(),r=!1,a.complete());try{for(;yield a.doDecodeSync(),0!==--f;);}catch(n){if(!(n instanceof RangeError))throw n}a.totalPos+=a.pos}}catch(d){l=!0,i=d}finally{try{c&&null!=h.return&&(yield s(h.return()))}finally{if(l)throw i}}}finally{a.entered=!1}},function(){return new i(n.apply(this,arguments))})()}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new f.X("Unrecognized type byte: ".concat(c(e)));{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===p){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===g){if("__proto__"===t)throw new f.X("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=m;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=g;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new f.X("Unrecognized array type byte: ".concat(c(e)))}}pushMapState(e){if(e>this.maxMapLength)throw new f.X("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new f.X("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){var n;if(e>this.maxStrLength)throw new f.X("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw E;const r=this.pos+t;let i;return i=this.stateIsMapKey()&&null!==(n=this.keyDecoder)&&void 0!==n&&n.canBeCached(e)?this.keyDecoder.decode(this.bytes,r,e):(0,h._u)(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===g}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new f.X("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw E;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new f.X("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(0,u.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){const e=(0,u.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function S(e,t){return new A(t).decode(e)}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=w.prototype;var E=b.prototype=new v;E.constructor=b,m(E,w.prototype),E.isPureReactComponent=!0;var x=Array.isArray;function A(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return C((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+N(e,0):s,x(o)?(i="",null!=u&&(i=u.replace(O,"$&/")+"/"),C(o,t,i,"",function(e){return e})):null!=o&&(P(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+u,o=k(c.type,l,c.props)),t.push(o)),1;u=0;var h,f=""===s?".":s+":";if(x(e))for(var g=0;g<e.length;g++)u+=C(s=e[g],t,i,a=f+N(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,a=f+N(s,g++),o);else if("object"===a){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},B={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=B,t.Component=w,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!I.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return k(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)I.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,_)}catch(s){_(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.1"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(816);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5094:(e,t,n)=>{const r=n(5551),i=n(3048);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},5288:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let s=0;s<n.length;s+=2){if(32===r)i+=t(n[s]).toUpperCase(),i+=" ",i+=t(n[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[s+1]).toUpperCase(),i+=t(n[s]).toUpperCase()}s%6===4?i+="\n"+new Array(e.length+4).join(" "):s<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const n=e(i),s=(new Date).getTime(),o=s-r;r=s,console.log("Hashed in "+o+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},5311:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(1760),i=n(5659),s=n(3044),o=n(3853);class a{constructor(e){var t,n,r,s,o,a,c,l;this.entered=!1,this.extensionCodec=null!==(t=null===e||void 0===e?void 0:e.extensionCodec)&&void 0!==t?t:i.g.defaultCodec,this.context=null===e||void 0===e?void 0:e.context,this.useBigInt64=null!==(n=null===e||void 0===e?void 0:e.useBigInt64)&&void 0!==n&&n,this.maxDepth=null!==(r=null===e||void 0===e?void 0:e.maxDepth)&&void 0!==r?r:100,this.initialBufferSize=null!==(s=null===e||void 0===e?void 0:e.initialBufferSize)&&void 0!==s?s:2048,this.sortKeys=null!==(o=null===e||void 0===e?void 0:e.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(a=null===e||void 0===e?void 0:e.forceFloat32)&&void 0!==a&&a,this.ignoreUndefined=null!==(c=null===e||void 0===e?void 0:e.ignoreUndefined)&&void 0!==c&&c,this.forceIntegerToFloat=null!==(l=null===e||void 0===e?void 0:e.forceIntegerToFloat)&&void 0!==l&&l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new a({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered){return this.clone().encodeSharedRef(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered){return this.clone().encode(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.useBigInt64&&"bigint"===typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=(0,r.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,r.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}const n=(0,o.C)(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(const r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(const i of n){const n=e[i];this.ignoreUndefined&&void 0===n||(this.encodeString(i),this.doEncode(n,t+1))}}encodeExtension(e){if("function"===typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error("Too large extension object: ".concat(n));return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function c(e,t){return new a(t).encodeSharedRef(e)}},5551:(e,t,n)=>{const r=n(5288);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){const c=h[o],l=h[o+1],d=h[a],f=h[a+1];i(u,e,t),s(u,e,c,l);let p=u[r]^u[e],g=u[r+1]^u[e+1];u[r]=g,u[r+1]=p,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),s(u,e,d,f),p=u[r]^u[e],g=u[r+1]^u[e+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),h=new Uint32Array(32);function d(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=c[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,l[16*n+0],l[16*n+1]),a(2,10,18,26,l[16*n+2],l[16*n+3]),a(4,12,20,28,l[16*n+4],l[16*n+5]),a(6,14,22,30,l[16*n+6],l[16*n+7]),a(0,10,20,30,l[16*n+8],l[16*n+9]),a(2,12,22,24,l[16*n+10],l[16*n+11]),a(4,14,16,26,l[16*n+12],l[16*n+13]),a(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),r&&f.set(r,48);for(let s=0;s<16;s++)i.h[s]=c[s]^o(f,4*s);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function y(e,t,n,i,s){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),s&&(s=r.normalizeInput(s));const o=p(n,t,i,s);return g(o,e),m(o)}e.exports={blake2b:y,blake2bHex:function(e,t,n,i,s){const o=y(e,t,n,i,s);return r.toHex(o)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:m}},5659:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});class r{constructor(e,t){this.type=e,this.data=t}}var i=n(7257),s=n(3044);const o={type:-1,encode:function(e){if(e instanceof Date){return function(e){let{sec:t,nsec:n}=e;if(t>=0&&n>=0&&t<=17179869183){if(0===n&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const e=t/4294967296,r=4294967295&t,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,n<<2|3&e),s.setUint32(4,r),i}}{const e=new Uint8Array(12),r=new DataView(e.buffer);return r.setUint32(0,n),(0,s._j)(r,4,t),e}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e))}return null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class a{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(o)}register(e){let{type:t,encode:n,decode:r}=e;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const e=-1-t;this.builtInEncoders[e]=n,this.builtInDecoders[e]=r}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(-1-n,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(null!=i){const s=i(e,t);if(null!=s){return new r(n,s)}}}return e instanceof r?e:null}decode(e,t,n){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,n):new r(t,e)}}a.defaultCodec=new a},5711:(e,t,n)=>{"use strict";const r=n(5984);e.exports=h;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:y,res:y,err:g,errWithCause:g};function o(e,t){return"silent"===e?1/0:t.levels.values[e]}const a=Symbol("pino.logFuncs"),c=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){const n={logger:t,parent:e[c]};t[c]=n}function h(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let c=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(c=!1);const g=Object.keys(e.customLevels||{}),y=["error","fatal","warn","info","debug","trace"].concat(g);"function"===typeof n&&y.forEach(function(e){n[e]=n}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const w=e.level||"info",b=Object.create(n);b.log||(b.log=v),function(e,t,n){const r={};t.forEach(e=>{r[e]=n[e]?n[e]:i[e]||i[l[e]||"log"]||v}),e[a]=r}(b,y,n),u({},b),Object.defineProperty(b,"levelVal",{get:function(){return o(this.level,this)}}),Object.defineProperty(b,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,E,b,"error"),d(this,E,b,"fatal"),d(this,E,b,"warn"),d(this,E,b,"info"),d(this,E,b,"debug"),d(this,E,b,"trace"),g.forEach(e=>{d(this,E,b,e)})}});const E={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:y,timestamp:m(e),messageKey:e.messageKey||"msg",onChild:e.onChild||v};function x(n,i,o){if(!i)throw new Error("missing bindings for child Pino");o=o||{},s&&i.serializers&&(o.serializers=i.serializers);const a=o.serializers;if(s&&a){var c=Object.assign({},r,a),l=!0===e.browser.serialize?Object.keys(c):s;delete i.serializers,f([i],l,c,this._stdErrSerialize)}function h(e){this._childLevel=1+(0|e._childLevel),this.bindings=i,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=p([].concat(e._logEvent.bindings,i)))}h.prototype=this;const d=new h(this);return u(this,d),d.child=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.call(this,n,...t)},d.level=o.level||this.level,n.onChild(d),d}return b.levels=function(e){const t=e.customLevels||{},n=Object.assign({},h.levels.values,t),r=Object.assign({},h.levels.labels,function(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t));return{values:n,labels:r}}(e),b.level=w,b.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=v,b.serializers=r,b._serialize=s,b._stdErrSerialize=c,b.child=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.call(this,E,...t)},t&&(b._logEvent=p()),b}function d(e,t,n,s){if(Object.defineProperty(e,s,{value:o(e.level,n)>o(s,n)?v:n[a][s],writable:!0,enumerable:!0,configurable:!0}),e[s]===v){if(!t.transmit)return;const r=o(t.transmit.level||e.level,n);if(o(s,n)<r)return}e[s]=function(e,t,n,s){return c=e[a][s],function(){const a=t.timestamp(),l=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var h=0;h<l.length;h++)l[h]=arguments[h];var d=!1;if(t.serialize&&(f(l,this._serialize,this.serializers,this._stdErrSerialize),d=!0),t.asObject||t.formatters?c.call(u,...function(e,t,n,i,s){const{level:o,log:a=e=>e}=s.formatters||{},c=n.slice();let l=c[0];const u={};let h=1+(0|e._childLevel);if(h<1&&(h=1),i&&(u.time=i),o){const n=o(t,e.levels.values[t]);Object.assign(u,n)}else u.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(null!==l&&"object"===typeof l)for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());return[a(u),...c]}if(null!==l&&"object"===typeof l){for(;h--&&"object"===typeof c[0];)Object.assign(u,c.shift());l=c.length?r(c.shift(),c):void 0}else"string"===typeof l&&(l=r(c.shift(),c));return void 0!==l&&(u[s.messageKey]=l),[a(u)]}(this,s,l,a,t)):c.apply(u,l),t.transmit){const r=t.transmit.level||e._level,i=o(r,n),c=o(s,n);if(c<i)return;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;r||f(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(e){return-1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=p(l)}(this,{ts:a,methodLevel:s,methodValue:c,transmitLevel:r,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:o(e._level,n)},l,d)}};var c}(e,t,n,s);const l=function(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[c];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==l.length&&(e[s]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(l,e[s]))}function f(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=h.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i])&&t)for(const r in e[i])t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function p(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function g(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}function m(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?b:E}function y(){return{}}function w(e){return e}function v(){}function b(){return!1}function E(){return Date.now()}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=s,h.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:E,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=h,e.exports.pino=h},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},5771:(e,t,n)=>{"use strict";function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if(!r(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"===typeof e):t.every(e=>Number.isSafeInteger(e))))}function o(e){if("function"!==typeof e)throw new Error("function expected");return!0}function a(e,t){if("string"!==typeof t)throw new Error("".concat(e,": string expected"));return!0}function c(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function l(e){if(!Array.isArray(e))throw new Error("array expected")}function u(e,t){if(!s(!0,t))throw new Error("".concat(e,": array of strings expected"))}function h(e,t){if(!s(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function d(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return{encode:r.map(e=>e.encode).reduceRight(t,e),decode:r.map(e=>e.decode).reduce(t,e)}}function f(e){const t="string"===typeof e?e.split(""):e,n=t.length;u("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(l(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(r,'". Allowed: ').concat(e));return t[r]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a("join",e),{encode:t=>(u("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";return c(e),a("padding",t),{encode(n){for(u("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){u("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function m(e){return o(e),{encode:e=>e,decode:t=>e(t)}}function y(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(l(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(c(e),e<0||e>=t)throw new Error("invalid integer: ".concat(e));return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=r;i<o;i++){const o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw new Error("convertRadix: carry overflow");const u=l/n;e=l%n;const h=Math.floor(u);if(s[i]=h,!Number.isSafeInteger(h)||h*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(h?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}n.d(t,{RG:()=>k});const w=(e,t)=>0===t?e:w(t,e%t),v=(e,t)=>e+(t-w(e,t)),b=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function E(e,t,n,r){if(l(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(v(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(v(t,n)));let i=0,s=0;const o=b[t],a=b[n]-1,u=[];for(const l of e){if(c(l),l>=o)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,s+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(s," from=").concat(t));for(s+=t;s>=n;s-=n)u.push((i>>s-n&a)>>>0);const e=b[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error("Non-zero padding: ".concat(i));return r&&s>0&&u.push(i>>>0),u}function x(e){c(e);return{encode:t=>{if(!r(t))throw new Error("radix.encode input should be Uint8Array");return y(Array.from(t),256,e)},decode:t=>(h("radix.decode",t),Uint8Array.from(y(t,e,256)))}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(v(8,e)>32||v(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!r(n))throw new Error("radix2.encode input should be Uint8Array");return E(Array.from(n),8,e,!t)},decode:n=>(h("radix2.decode",n),Uint8Array.from(E(n,e,8,t)))}}function S(e){return o(e),function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}const I=d(A(4),f("0123456789ABCDEF"),p("")),k=d(A(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),p("")),P=(d(A(5),f("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),p("")),d(A(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),p("")),d(A(5),f("0123456789ABCDEFGHIJKLMNOPQRSTUV"),p("")),d(A(5),f("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),p(""),m(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"===typeof Uint8Array.from([]).toBase64&&"function"===typeof Uint8Array.fromBase64)()),O=(e,t)=>{a("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},N=P?{encode:e=>(i(e),e.toBase64()),decode:e=>O(e,!1)}:d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),p("")),C=(d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),p("")),P?{encode:e=>(i(e),e.toBase64({alphabet:"base64url"})),decode:e=>O(e,!0)}:d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),p(""))),R=(d(A(6),f("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),p("")),e=>d(x(58),f(e),p(""))),T=R("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_=(R("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),R("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),B={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=T.encode(r).padStart(_[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=_.indexOf(r.length),s=T.decode(r);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},j=d(f("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),p("")),U=[996825010,642813549,513874426,1027748829,705979059];function L(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<U.length;r++)1===(t>>r&1)&&(n^=U[r]);return n}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let s=0;s<r;s++){const t=e.charCodeAt(s);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=L(i)^t>>5}i=L(i);for(let s=0;s<r;s++)i=L(i)^31&e.charCodeAt(s);for(let s of t)i=L(i)^s;for(let s=0;s<6;s++)i=L(i);return i^=n,j.encode(E([i%b[30]],30,5,!1))}function M(e){const t="bech32"===e?1:734539939,n=A(5),i=n.decode,s=n.encode,o=S(i);function c(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;a("bech32.encode prefix",e),r(n)&&(n=Array.from(n)),h("bech32.encode",n);const s=e.length;if(0===s)throw new TypeError("Invalid prefix length ".concat(s));const o=s+7+n.length;if(!1!==i&&o>i)throw new TypeError("Length ".concat(o," exceeds limit ").concat(i));const c=e.toLowerCase(),l=D(c,n,t);return"".concat(c,"1").concat(j.encode(n)).concat(l)}function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;a("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError("invalid string length: ".concat(r," (").concat(e,"). Expected (8..").concat(n,")"));const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),c=i.slice(s+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const l=j.decode(c).slice(0,-6),u=D(o,l,t);if(!c.endsWith(u))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(u,'"'));return{prefix:o,words:l}}return{encode:c,decode:l,encodeFromBytes:function(e,t){return c(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:n}=l(e,!1);return{prefix:t,words:n,bytes:i(n)}},decodeUnsafe:S(l),fromWords:i,fromWordsUnsafe:o,toWords:s}}M("bech32"),M("bech32m");const F={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)()||d(A(4),f("0123456789abcdef"),p(""),m(e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))},5871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(296),t),r.__exportStar(n(568),t)},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,w="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function x(e){if(m=!1,E(e),!g)if(null!==r(l))g=!0,S||(S=!0,A());else{var t=r(u);null!==t&&T(x,t.startTime-e)}}var A,S=!1,I=-1,k=5,P=-1;function O(){return!!y||!(t.unstable_now()-P<k)}function N(){if(y=!1,S){var e=t.unstable_now();P=e;var n=!0;try{e:{g=!1,m&&(m=!1,v(I),I=-1),p=!0;var s=f;try{t:{for(E(e),d=r(l);null!==d&&!(d.expirationTime>e&&O());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,E(e),n=!0;break t}d===r(l)&&i(l),E(e)}else i(l);d=r(l)}if(null!==d)n=!0;else{var c=r(u);null!==c&&T(x,c.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?A():S=!1}}}if("function"===typeof b)A=function(){b(N)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,R=C.port2;C.port1.onmessage=N,A=function(){R.postMessage(null)}}else A=function(){w(N,0)};function T(e,n){I=w(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(v(I),I=-1):m=!0,T(x,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,S||(S=!0,A()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=n.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(n[u]),h=f+2,f++;break;case 105:if(u>=c)break;if(null==n[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(n[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===n[u])break;h<f&&(l+=e.slice(h,f));var p=typeof n[u];if("string"===p){l+="'"+n[u]+"'",h=f+2,f++;break}if("function"===p){l+=n[u].name||"<anonymous>",h=f+2,f++;break}l+=i(n[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(n[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}if(-1===h)return e;h<d&&(l+=e.slice(h));return l}},6121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6454:(e,t)=>{"use strict";function n(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function r(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=n,t.isNode=r,t.isBrowser=function(){return!n()&&!r()}},6526:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,V:()=>w});var r=n(7284),i=n(9038),s=n.n(i),o=n(8661),a=n(632),c=Object.defineProperty,l=Object.defineProperties,u=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(h)for(var n of h(t))f.call(t,n)&&p(e,n,t[n]);return e},m=(e,t)=>l(e,u(t));const y={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,o.h)(e),n=await(await s()(this.url,m(g({},y),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!(0,a.isHttpUrl)(e))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,o.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,m(g({},y),{body:t}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),i=(0,a.formatJsonRpcError)(e,r);this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},6613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>A,__makeTemplateObject:()=>x,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function f(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=c.T,n=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=l(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return c.H.useFormState(e,t,n)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.2.1"},6765:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>u,XW:()=>h,fO:()=>c,jf:()=>l,zR:()=>a});const r="PARSE_ERROR",i="INVALID_REQUEST",s="METHOD_NOT_FOUND",o="INVALID_PARAMS",a="INTERNAL_ERROR",c="SERVER_ERROR",l=[-32700,-32600,-32601,-32602,-32603],u={[r]:{code:-32700,message:"Parse error"},[i]:{code:-32600,message:"Invalid Request"},[s]:{code:-32601,message:"Method not found"},[o]:{code:-32602,message:"Invalid params"},[a]:{code:-32603,message:"Internal error"},[c]:{code:-32e3,message:"Server error"}},h=c},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),s=n(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList";case P:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case E:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var _=Array.isArray,B=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},L=[],D=-1;function M(e){return{current:e}}function F(e){0>D||(e.current=L[D],L[D]=null,D--)}function z(e,t){D++,L[D]=e.current,e.current=t}var H,q,V=M(null),W=M(null),K=M(null),G=M(null);function Q(e,t){switch(z(K,t),z(W,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wh(t=yh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(V),z(V,e)}function J(){F(V),F(W),F(K)}function Y(e){null!==e.memoizedState&&z(G,e);var t=V.current,n=wh(t,e.type);t!==n&&(z(W,e),z(V,n))}function Z(e){W.current===e&&(F(V),F(W)),G.current===e&&(F(G),ud._currentValue=U)}function X(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+q}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||c[r]!==l[i]){var u="\n"+c[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,ce=r.unstable_now,le=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,we=null;function ve(e){if("function"===typeof ge&&me(e),we&&"function"===typeof we.setStrictMode)try{we.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ee(e)/xe|0)|0},Ee=Math.log,xe=Math.LN2;var Ae=256,Se=262144,Ie=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ke(r):0!==(o&=a)?i=ke(o):n||0!==(n=a&~e)&&(i=ke(n)):0!==(a=r&~s)?i=ke(a):0!==o?i=ke(o):n||0!==(n=r&~e)&&(i=ke(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Oe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Ie;return 0===(62914560&(Ie<<=1))&&(Ie=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Be(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ue(n))&(e.suspendedLanes|t))?0:n}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:kd(e.type)}function Me(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}var Fe=Math.random().toString(36).slice(2),ze="__reactFiber$"+Fe,He="__reactProps$"+Fe,qe="__reactContainer$"+Fe,Ve="__reactEvents$"+Fe,We="__reactListeners$"+Fe,Ke="__reactHandles$"+Fe,Ge="__reactResources$"+Fe,Qe="__reactMarker$"+Fe;function Je(e){delete e[ze],delete e[He],delete e[Ve],delete e[We],delete e[Ke]}function Ye(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Uh(e);null!==e;){if(n=e[ze])return n;e=Uh(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function ct(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ht(t)):null!=n?bt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function vt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function bt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Et(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function At(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(_(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var It=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||It.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Ot(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var _t=null;function Bt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Ut=null;function Lt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[He]||null;if(!i)throw Error(o(90));wt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Et(e,!!n.multiple,t,!1)}}}var Dt=!1;function Mt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==jt||null!==Ut)&&($l(),jt&&(t=jt,e=Ut,Ut=jt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[He]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Zd){Ht=!1}var Vt=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Zt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Zt(tn),rn=f({},tn,{view:0,detail:0}),sn=Zt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),an=Zt(on),cn=Zt(f({},on,{dataTransfer:0})),ln=Zt(f({},rn,{relatedTarget:0})),un=Zt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Zt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Zt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var wn=Zt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Zt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Zt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),En=Zt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Zt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=Zt(f({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],In=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var Pn=zt&&"TextEvent"in window&&!kn,On=zt&&(!In||kn&&8<kn&&11>=kn),Nn=String.fromCharCode(32),Cn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _n=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Un(e,t,n,r){jt?Ut?Ut.push(r):Ut=[r]:jt=r,0<(t=rh(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Dn=null;function Mn(e){Ju(e,0)}function Fn(e){if(pt(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var Hn=!1;if(zt){var qn;if(zt){var Vn="oninput"in document;if(!Vn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Vn="function"===typeof Wn.oninput}qn=Vn}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Ln&&(Ln.detachEvent("onpropertychange",Gn),Dn=Ln=null)}function Gn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];Un(t,Dn,e,Bt(e)),Mt(Mn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Dn=n,(Ln=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Yn(e,t){if("click"===e)return Fn(t)}function Zn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=zt&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,cr=null,lr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&$n(cr,r)||(cr=r,0<(r=rh(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),wr=gr("animationstart"),vr=gr("transitionrun"),br=gr("transitionstart"),Er=gr("transitioncancel"),xr=gr("transitionend"),Ar=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),rt(t,[e])}Sr.push("scrollEnd");var kr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Pr=[],Or=0,Nr=0;function Cr(){for(var e=Or,t=Nr=Or=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var i=Pr[t];Pr[t++]=null;var s=Pr[t];if(Pr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Br(n,i,s)}}function Rr(e,t,n,r){Pr[Or++]=e,Pr[Or++]=t,Pr[Or++]=n,Pr[Or++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Rr(e,t,n,r),jr(e)}function _r(e,t){return Rr(e,null,null,t),jr(e)}function Br(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-be(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function jr(e){if(50<Vl)throw Vl=0,Wl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Lr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Mr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Dr(31,n,t,i)).elementType=P,e.lanes=s,e;case y:return qr(n.children,i,s,t);case w:a=8,i|=24;break;case v:return(e=Dr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case A:return(e=Dr(13,n,t,i)).elementType=A,e.lanes=s,e;case S:return(e=Dr(19,n,t,i)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case b:a=9;break e;case x:a=11;break e;case I:a=14;break e;case k:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Dr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Yr=0,Zr=null,Xr=0,$r=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Jr[Yr++]=Xr,Jr[Yr++]=Zr,Zr=e,Xr=t}function si(e,t,n){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-be(r)-1;r&=~(1<<i),n+=1;var s=32-be(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-be(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function ai(e){for(;e===Zr;)Zr=Jr[--Yr],Jr[Yr]=null,Xr=Jr[--Yr],Jr[Yr]=null;for(;e===ti;)ti=$r[--ei],$r[ei]=null,ri=$r[--ei],$r[ei]=null,ni=$r[--ei],$r[ei]=null}function ci(e,t){$r[ei++]=ni,$r[ei++]=ri,$r[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var li=null,ui=null,hi=!1,di=null,fi=!1,pi=Error(o(519));function gi(e){throw Ei(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[He]=r,n){case"dialog":Yu("cancel",t),Yu("close",t);break;case"iframe":case"object":case"embed":Yu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Yu(Gu[n],t);break;case"source":Yu("error",t);break;case"img":case"image":case"link":Yu("error",t),Yu("load",t);break;case"details":Yu("toggle",t);break;case"input":Yu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yu("invalid",t);break;case"textarea":Yu("invalid",t),At(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||lh(t.textContent,n)?(null!=r.popover&&(Yu("beforetoggle",t),Yu("toggle",t)),null!=r.onScroll&&Yu("scroll",t),null!=r.onScrollEnd&&Yu("scrollend",t),null!=r.onClick&&(t.onclick=Tt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(li=e.return;li;)switch(li.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:li=li.return}}function wi(e){if(e!==li)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vh(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jh(e)}else 27===n?(n=ui,kh(e.type)?(e=Bh,Bh=null,ui=e):ui=n):ui=li?_h(e.stateNode.nextSibling):null;return!0}function vi(){ui=li=null,hi=!1}function bi(){var e=di;return null!==e&&(null===Cl?Cl=e:Cl.push.apply(Cl,e),di=null),e}function Ei(e){null===di?di=[e]:di.push(e)}var xi=M(null),Ai=null,Si=null;function Ii(e,t,n){z(xi,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=xi.current,F(xi)}function Pi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pi(s.return,n,e),r||(a=null);break e}s=c.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Pi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ni(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=i.type;Xn(i.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(ud):e=[ud])}i=i.return}null!==e&&Oi(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Ai=e,Si=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Bi(Ai,e)}function _i(e,t){return null===Ai&&Ri(e),Bi(e,t)}function Bi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Si){if(null===e)throw Error(o(308));Si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Si=Si.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ui=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Di={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mi(){return{controller:new ji,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Ui(Li,function(){e.controller.abort()})}var zi=null,Hi=0,qi=0,Vi=null;function Wi(){if(0===--Hi&&null!==zi){null!==Vi&&(Vi.status="fulfilled");var e=zi;zi=null,qi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=B.S;B.S=function(e,t){_l=ce(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Hi=0,qi=Hu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Gi=M(null);function Qi(){var e=Gi.current;return null!==e?e:pl.pooledCache}function Ji(e,t){z(Gi,null===t?Gi.current:t.pool)}function Yi(){var e=Qi();return null===e?null:{parent:Di._currentValue,pool:e}}var Zi=Error(o(460)),Xi=Error(o(474)),$i=Error(o(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Tt,Tt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=pl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw is=t,Zi}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw is=t,Zi;throw t}}var is=null;function ss(){if(null===is)throw Error(o(459));var e=is;return is=null,e}function os(e){if(e===Zi||e===$i)throw Error(o(483))}var as=null,cs=0;function ls(e){var t=cs;return cs+=1,null===as&&(as=[]),ns(as,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ds(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===k&&rs(s)===t.type)?(us(t=i(t,n.props),n),t.return=e,t):(us(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return us(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case k:return d(e,t=rs(t),n)}if(_(t)||C(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,ls(t),n);if(t.$$typeof===E)return d(e,_i(e,t),n);hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case k:return f(e,t,n=rs(n),r)}if(_(n)||C(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ls(n),r);if(n.$$typeof===E)return f(e,t,_i(e,n),r);hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return p(e,t,n,r=rs(r),i)}if(_(r)||C(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ls(r),i);if(r.$$typeof===E)return p(e,t,n,_i(t,r),i);hs(t,r)}return null}function w(c,l,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var v=u.key;null!==l;){if(l.key===v){if((v=u.type)===y){if(7===l.tag){n(c,l.sibling),(h=i(l,u.props.children)).return=c,c=h;break e}}else if(l.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===k&&rs(v)===l.type){n(c,l.sibling),us(h=i(l,u.props),u),h.return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}u.type===y?((h=qr(u.props.children,c.mode,h,u.key)).return=c,c=h):(us(h=Hr(u.type,u.key,u.props,null,c.mode,h),u),h.return=c,c=h)}return a(c);case m:e:{for(v=u.key;null!==l;){if(l.key===v){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(c,l.sibling),(h=i(l,u.children||[])).return=c,c=h;break e}n(c,l);break}t(c,l),l=l.sibling}(h=Kr(u,c.mode,h)).return=c,c=h}return a(c);case k:return w(c,l,u=rs(u),h)}if(_(u))return function(i,o,a,c){for(var l=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,g),null===u?l=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),hi&&ii(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],c))&&(o=s(h,o,g),null===u?l=h:u.sibling=h,u=h);return hi&&ii(i,g),l}for(h=r(h);g<a.length;g++)null!==(m=p(h,i,g,a[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,g),l}(c,l,u,h);if(C(u)){if("function"!==typeof(v=C(u)))throw Error(o(150));return function(i,a,c,l){if(null==c)throw Error(o(151));for(var u=null,h=null,g=a,m=a=0,y=null,w=c.next();null!==g&&!w.done;m++,w=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=f(i,g,w.value,l);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(i,g),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v,g=y}if(w.done)return n(i,g),hi&&ii(i,m),u;if(null===g){for(;!w.done;m++,w=c.next())null!==(w=d(i,w.value,l))&&(a=s(w,a,m),null===h?u=w:h.sibling=w,h=w);return hi&&ii(i,m),u}for(g=r(g);!w.done;m++,w=c.next())null!==(w=p(g,i,m,w.value,l))&&(e&&null!==w.alternate&&g.delete(null===w.key?m:w.key),a=s(w,a,m),null===h?u=w:h.sibling=w,h=w);return e&&g.forEach(function(e){return t(i,e)}),hi&&ii(i,m),u}(c,l,u=v.call(u),h)}if("function"===typeof u.then)return w(c,l,ls(u),h);if(u.$$typeof===E)return w(c,l,_i(c,u),h);hs(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(n(c,l.sibling),(h=i(l,u)).return=c,c=h):(n(c,l),(h=Vr(u,c.mode,h)).return=c,c=h),a(c)):n(c,l)}return function(e,t,n,r){try{cs=0;var i=w(e,t,n,r);return as=null,i}catch(o){if(o===Zi||o===$i)throw o;var s=Dr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ds(!0),ps=ds(!1),gs=!1;function ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Br(e,null,n),t}return Rr(e,r,t,n),jr(e)}function bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}function Es(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xs=!1;function As(){if(xs){if(null!==Vi)throw Vi}}function Ss(e,t,n,r){xs=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(ml&d)===d:(r&d)===d){0!==d&&d===qi&&(xs=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var g=e,m=a;d=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,d);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=m.payload)?g.call(y,h,d):g)||void 0===d)break e;h=f({},h,d);break e;case 2:gs=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=p,c=h):u=u.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Sl|=o,e.lanes=o,e.memoizedState=h}}function Is(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ks(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Is(n[e],t)}var Ps=M(null),Os=M(0);function Ns(e,t){z(Os,e=xl),z(Ps,t),xl=e|t.baseLanes}function Cs(){z(Os,xl),z(Ps,Ps.current)}function Rs(){xl=Os.current,F(Ps),F(Os)}var Ts=M(null),_s=null;function Bs(e){var t=e.alternate;z(Ms,1&Ms.current),z(Ts,e),null===_s&&(null===t||null!==Ps.current||null!==t.memoizedState)&&(_s=e)}function js(e){z(Ms,Ms.current),z(Ts,e),null===_s&&(_s=e)}function Us(e){22===e.tag?(z(Ms,Ms.current),z(Ts,e),null===_s&&(_s=e)):Ls()}function Ls(){z(Ms,Ms.current),z(Ts,Ts.current)}function Ds(e){F(Ts),_s===e&&(_s=null),F(Ms)}var Ms=M(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rh(n)||Th(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=0,Hs=null,qs=null,Vs=null,Ws=!1,Ks=!1,Gs=!1,Qs=0,Js=0,Ys=null,Zs=0;function Xs(){throw Error(o(321))}function $s(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,s){return zs=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?ma:ya,Gs=!1,s=n(r,i),Gs=!1,Ks&&(s=no(t,n,r,i)),to(e),s}function to(e){B.H=ga;var t=null!==qs&&null!==qs.next;if(zs=0,Vs=qs=Hs=null,Ws=!1,Js=0,Ys=null,t)throw Error(o(300));null===e||_a||null!==(e=e.dependencies)&&Ci(e)&&(_a=!0)}function no(e,t,n,r){Hs=e;var i=0;do{if(Ks&&(Ys=null),Js=0,Ks=!1,25<=i)throw Error(o(301));if(i+=1,Vs=qs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}B.H=wa,s=t(n,r)}while(Ks);return s}function ro(){var e=B.H,t=e.useState()[0];return t="function"===typeof t.then?lo(t):t,e=e.useState()[0],(null!==qs?qs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function io(){var e=0!==Qs;return Qs=0,e}function so(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}zs=0,Vs=qs=Hs=null,Ks=!1,Js=Qs=0,Ys=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function co(){if(null===qs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=qs.next;var t=null===Vs?Hs.memoizedState:Vs.next;if(null!==t)Vs=t,qs=e;else{if(null===e){if(null===Hs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qs=e).memoizedState,baseState:qs.baseState,baseQueue:qs.baseQueue,queue:qs.queue,next:null},null===Vs?Hs.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function lo(e){var t=Js;return Js+=1,null===Ys&&(Ys=[]),e=ns(Ys,e,t),t=Hs,null===(null===Vs?t.memoizedState:Vs.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?ma:ya),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return lo(e);if(e.$$typeof===E)return Ti(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=O;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return go(co(),qs,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var c=a=null,l=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ml&d)===d:(zs&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===qi&&(h=!0);else{if((zs&f)===f){u=u.next,f===qi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,a=s):l=l.next=d,Hs.lanes|=f,Sl|=f}d=u.action,Gs&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,Hs.lanes|=d,Sl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Xn(s,e.memoizedState)&&(_a=!0,h&&null!==(n=Vi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=l,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Xn(s,t.memoizedState)||(_a=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function yo(e,t,n){var r=Hs,i=co(),s=hi;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Xn((qs||i).memoizedState,n);if(a&&(i.memoizedState=n,_a=!0),i=i.queue,Ho(bo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Vs&&1&Vs.memoizedState.tag){if(r.flags|=2048,Lo(9,{destroy:void 0},vo.bind(null,r,i,n,t),null),null===pl)throw Error(o(349));s||0!==(127&zs)||wo(r,t,n)}return n}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vo(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&xo(e)}function bo(e,t,n){return n(function(){Eo(t)&&xo(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function xo(e){var t=_r(e,2);null!==t&&Ql(t,e,2)}function Ao(e){var t=ao();if("function"===typeof e){var n=e;if(e=n(),Gs){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function So(e,t,n,r){return e.baseState=n,go(e,qs,"function"===typeof r?r:fo)}function Io(e,t,n,r,i){if(da(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==B.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ko(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ko(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=B.T,o={};B.T=o;try{var a=n(i,r),c=B.S;null!==c&&c(o,a),Po(e,t,a)}catch(l){No(e,t,l)}finally{null!==s&&null!==o.types&&(s.types=o.types),B.T=s}}else try{Po(e,t,s=n(i,r))}catch(u){No(e,t,u)}}function Po(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Oo(e,t,n)},function(n){return No(e,t,n)}):Oo(e,t,n)}function Oo(e,t,n){t.status="fulfilled",t.value=n,Co(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ko(e,n)))}function No(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Co(t),t=t.next}while(t!==r)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ro(e,t){return t}function To(e,t){if(hi){var n=pl.formState;if(null!==n){e:{var r=Hs;if(hi){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=_h(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=_h(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},n.queue=r,n=la.bind(null,Hs,r),r.dispatch=n,r=Ao(!1),s=ha.bind(null,Hs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=Io.bind(null,Hs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function _o(e){return Bo(co(),qs,e)}function Bo(e,t,n){if(t=go(e,t,Ro)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=lo(t)}catch(o){if(o===Zi)throw $i;throw o}else r=t;var i=(t=co()).queue,s=i.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Lo(9,{destroy:void 0},jo.bind(null,i,n),null)),[r,s,e]}function jo(e,t){e.action=t}function Uo(e){var t=co(),n=qs;if(null!==n)return Bo(t,n,e);co(),t=t.memoizedState;var r=(n=co()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Lo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return co().memoizedState}function Mo(e,t,n,r){var i=ao();Hs.flags|=e,i.memoizedState=Lo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fo(e,t,n,r){var i=co();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==qs&&null!==r&&$s(r,qs.memoizedState.deps)?i.memoizedState=Lo(t,s,n,r):(Hs.flags|=e,i.memoizedState=Lo(1|t,s,n,r))}function zo(e,t){Mo(8390656,8,e,t)}function Ho(e,t){Fo(2048,8,e,t)}function qo(e){var t=co().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fl))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vo(e,t){return Fo(4,2,e,t)}function Wo(e,t){return Fo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Jo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$s(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$s(t,r[1]))return r[0];if(r=e(),Gs){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||0!==(1073741824&zs)&&0===(261930&ml)?e.memoizedState=t:(e.memoizedState=n,e=Gl(),Hs.lanes|=e,Sl|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Ps.current?(e=Zo(e,n,r),Xn(e,t)||(_a=!0),e):0===(42&zs)||0!==(1073741824&zs)&&0===(261930&ml)?(_a=!0,e.memoizedState=n):(e=Gl(),Hs.lanes|=e,Sl|=e,t)}function $o(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var o=B.T,a={};B.T=a,ha(e,!1,t,n);try{var c=i(),l=B.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(c,r),Kl());else ua(e,t,r,Kl())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Kl())}finally{j.p=s,null!==o&&null!==a.types&&(o.types=a.types),B.T=o}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=na(e).queue;$o(e,i,t,U,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Kl())}function ia(){return Ti(ud)}function sa(){return co().memoizedState}function oa(){return co().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kl(),r=vs(t,e=ws(n),n);return null!==r&&(Ql(r,t,n),bs(r,t,n)),t={cache:Mi()},void(e.payload=t)}t=t.return}}function ca(e,t,n){var r=Kl();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(e)?fa(t,n):null!==(n=Tr(e,t,n,r))&&(Ql(n,e,r),pa(n,t,r))}function la(e,t,n){ua(e,t,n,Kl())}function ua(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(e))fa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o))return Rr(e,t,i,0),null===pl&&Cr(),!1}catch(c){}if(null!==(n=Tr(e,t,i,r)))return Ql(n,e,r),pa(n,t,r),!0}return!1}function ha(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},da(e)){if(t)throw Error(o(479))}else null!==(t=Tr(e,n,r,2))&&Ql(t,e,2)}function da(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function fa(e,t){Ks=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Be(e,n)}}var ga={readContext:Ti,use:uo,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs};ga.useEffectEvent=Xs;var ma={readContext:Ti,use:uo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){Mo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Gs){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Gs){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ca.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=Ao(e)).queue,n=la.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return Zo(ao(),e,t)},useTransition:function(){var e=Ao(!1);return e=$o.bind(null,Hs,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hs,i=ao();if(hi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===pl)throw Error(o(349));0!==(127&ml)||wo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zo(bo.bind(null,r,s,e),[e]),r.flags|=2048,Lo(9,{destroy:void 0},vo.bind(null,r,s,n,t),null),n},useId:function(){var e=ao(),t=pl.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-be(ni)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ia,useFormState:To,useActionState:To,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ha.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ao().memoizedState=aa.bind(null,Hs)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fl))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Ti,use:uo,useCallback:Jo,useContext:Ti,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Yo,useReducer:po,useRef:Do,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return Xo(co(),qs.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:_o,useActionState:_o,useOptimistic:function(e,t){return So(co(),0,e,t)},useMemoCache:ho,useCacheRefresh:oa};ya.useEffectEvent=qo;var wa={readContext:Ti,use:uo,useCallback:Jo,useContext:Ti,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Wo,useMemo:Yo,useReducer:mo,useRef:Do,useState:function(){return mo(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=co();return null===qs?Zo(n,e,t):Xo(n,qs.memoizedState,e,t)},useTransition:function(){var e=mo(fo)[0],t=co().memoizedState;return["boolean"===typeof e?e:lo(e),t]},useSyncExternalStore:yo,useId:sa,useHostTransitionStatus:ia,useFormState:Uo,useActionState:Uo,useOptimistic:function(e,t){var n=co();return null!==qs?So(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:oa};function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wa.useEffectEvent=qo;var ba={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ws(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=vs(e,i,r))&&(Ql(t,e,r),bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kl(),i=ws(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=vs(e,i,r))&&(Ql(t,e,r),bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kl(),r=ws(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=vs(e,r,n))&&(Ql(t,e,n),bs(t,e,n))}};function Ea(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,s))}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Aa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Sa(e){kr(e)}function Ia(e){console.error(e)}function ka(e){kr(e)}function Pa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Oa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Na(e,t,n){return(n=ws(n)).tag=3,n.payload={element:null},n.callback=function(){Pa(e,t)},n}function Ca(e){return(e=ws(e)).tag=3,e}function Ra(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Oa(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Oa(t,n,r),"function"!==typeof i&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(o(461)),_a=!1;function Ba(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ri(t),r=eo(e,t,n,o,s,i),a=io(),null===e||_a?(hi&&a&&oi(t),t.flags|=1,Ba(e,t,r,i),t.child):(so(e,t,i),ic(e,t,i))}function Ua(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,La(e,t,s,r,i))}if(s=e.child,!sc(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return ic(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if($n(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,!sc(e,i))return t.lanes=e.lanes,ic(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Va(e,t,n,r,i)}function Da(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Fa(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fa(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==s?s.cachePool:null),null!==s?Ns(t,s):Cs(),Us(t)}else null!==s?(Ji(0,s.cachePool),Ns(t,s),Ls(),t.memoizedState=null):(null!==e&&Ji(0,null),Cs(),Ls());return Ba(e,t,i,n),t.child}function Ma(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fa(e,t,n,r,i){var s=Qi();return s=null===s?null:{parent:Di._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ji(0,null),Cs(),Us(t),null!==e&&Ni(e,t,r,!0),t.childLanes=i,null}function za(e,t){return(t=$a({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return fs(t,e.child,null,n),(e=za(t,t.pendingProps)).flags|=2,Ds(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){return Ri(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||_a?(hi&&r&&oi(t),t.flags|=1,Ba(e,t,n,i),t.child):(so(e,t,i),ic(e,t,i))}function Wa(e,t,n,r,i,s){return Ri(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||_a?(hi&&r&&oi(t),t.flags|=1,Ba(e,t,n,s),t.child):(so(e,t,s),ic(e,t,s))}function Ka(e,t,n,r,i){if(Ri(t),null===t.stateNode){var s=Ur,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ti(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ba,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ms(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ti(o):Ur,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(va(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&ba.enqueueReplaceState(s,s.state,null),Ss(t,r,s,i),As(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=Aa(n,a);s.props=c;var l=s.context,u=n.contextType;o=Ur,"object"===typeof u&&null!==u&&(o=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&xa(t,s,r,o),gs=!1;var d=t.memoizedState;s.state=d,Ss(t,r,s,i),As(),l=t.memoizedState,a||d!==l||gs?("function"===typeof h&&(va(t,n,h,r),l=t.memoizedState),(c=gs||Ea(t,n,c,r,d,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=o,r=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=Aa(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,l=n.contextType,c=Ur,"object"===typeof l&&null!==l&&(c=Ti(l)),(l="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==c)&&xa(t,s,r,c),gs=!1,d=t.memoizedState,s.state=d,Ss(t,r,s,i),As();var f=t.memoizedState;o!==h||d!==f||gs||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"===typeof a&&(va(t,n,a,r),f=t.memoizedState),(u=gs||Ea(t,n,u,r,d,f,c)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,qa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,n,i)):Ba(e,t,n,i),t.memoizedState=s.state,e=t.child):e=ic(e,t,i),e}function Ga(e,t,n,r){return vi(),t.flags|=256,Ba(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ja(e){return{baseLanes:e,cachePool:Yi()}}function Ya(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Pl),e}function Za(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ms.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?Bs(t):Ls(),(e=ui)?null!==(e=null!==(e=Ch(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return Th(e)?t.lanes=32:t.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(Ls(),c=$a({mode:"hidden",children:c},s=t.mode),i=qr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(i=t.child).memoizedState=Ja(n),i.childLanes=Ya(e,r,n),t.memoizedState=Qa,Ma(null,i)):(Bs(t),Xa(t,c))}var l=e.memoizedState;if(null!==l&&null!==(c=l.dehydrated)){if(a)256&t.flags?(Bs(t),t.flags&=-257,t=ec(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),c=i.fallback,s=t.mode,i=$a({mode:"visible",children:i.children},s),(c=qr(c,s,n,null)).flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,fs(t,e.child,null,n),(i=t.child).memoizedState=Ja(n),i.childLanes=Ya(e,r,n),t.memoizedState=Qa,t=Ma(null,i));else if(Bs(t),Th(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,Ei({value:i,source:null,stack:null}),t=ec(e,t,n)}else if(_a||Ni(e,t,n,!1),r=0!==(n&e.childLanes),_a||r){if(null!==(r=pl)&&(0!==(i=je(r,n))&&i!==l.retryLane))throw l.retryLane=i,_r(e,i),Ql(r,e,i),Ta;Rh(c)||ou(),t=ec(e,t,n)}else Rh(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ui=_h(c.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ci(t,e),(t=Xa(t,i.children)).flags|=4096);return t}return s?(Ls(),c=i.fallback,s=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?c=Fr(u,c):(c=qr(c,s,n,null)).flags|=2,c.return=t,i.return=t,i.sibling=c,t.child=i,Ma(null,i),i=t.child,null===(c=e.child.memoizedState)?c=Ja(n):(null!==(s=c.cachePool)?(l=Di._currentValue,s=s.parent!==l?{parent:l,pool:l}:s):s=Yi(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Ya(e,r,n),t.memoizedState=Qa,Ma(e.child,i)):(Bs(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=$a({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $a(e,t){return(e=Dr(22,e,null,t)).lanes=0,e}function ec(e,t,n){return fs(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tc(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Pi(e.return,t,n)}function nc(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Ms.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,z(Ms,o),Ba(e,t,r,n),r=hi?Xr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tc(e,n,t);else if(19===e.tag)tc(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nc(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nc(t,!0,n,null,s,r);break;case"together":nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ic(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sl|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sc(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function oc(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_a=!0;else{if(!sc(e,n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ii(0,Di,e.memoizedState.cache),vi();break;case 27:case 5:Y(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ii(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,js(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Bs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Bs(t),null!==(e=ic(e,t,n))?e.sibling:null);Bs(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ni(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rc(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(Ms,Ms.current),r)break;return null;case 22:return t.lanes=0,Da(e,t,n,t.pendingProps);case 24:Ii(0,Di,e.memoizedState.cache)}return ic(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,hi&&0!==(1048576&t.flags)&&si(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===x){t.tag=11,t=ja(null,t,e,r,n);break e}if(i===I){t.tag=14,t=Ua(null,t,e,r,n);break e}}throw t=T(e)||e,Error(o(306,t,""))}Mr(e)?(r=Aa(e,r),t.tag=1,t=Ka(null,t,e,r,n)):(t.tag=0,t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ka(e,t,r=t.type,i=Aa(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ys(e,t),Ss(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ii(0,Di,r),r!==s.cache&&Oi(t,[Di],n,!0),As(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ga(e,t,r,n);break e}if(r!==i){Ei(i=Qr(Error(o(424)),t)),t=Ga(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=_h(e.firstChild),li=t,hi=!0,di=null,fi=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vi(),r===i){t=ic(e,t,n);break e}Ba(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=mh(K.current).createElement(n))[ze]=t,r[He]=e,dh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&hi&&(r=t.stateNode=Lh(t.type,t.pendingProps,K.current),li=t,fi=!0,i=ui,kh(t.type)?(Bh=i,ui=_h(r.firstChild)):ui=i),Ba(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=_h(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,li=t,ui=_h(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,vh(i,s)?r=null:null!==a&&vh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),ud._currentValue=i),qa(e,t),Ba(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=_h(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,li=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Za(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return ja(e,t,t.type,t.pendingProps,n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ii(0,t.type,r.value),Ba(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ri(t),r=r(i=Ti(i)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return Ua(e,t,t.type,t.pendingProps,n);case 15:return La(e,t,t.type,t.pendingProps,n);case 19:return rc(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=za(t,r),t.lanes=536870912,Ma(null,e);if(js(t),(e=ui)?null!==(e=null!==(e=Ch(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,li=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return za(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(js(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(_a||Ni(e,t,n,!1),i=0!==(n&e.childLanes),_a||i){if(null!==(r=pl)&&0!==(a=je(r,n))&&a!==s.retryLane)throw s.retryLane=a,_r(e,a),Ql(r,e,a),Ta;ou(),t=Ha(e,t,n)}else e=s.treeContext,ui=_h(a.nextSibling),li=t,hi=!0,di=null,fi=!1,null!==e&&ci(t,e),(t=za(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Da(e,t,n,t.pendingProps);case 24:return Ri(t),r=Ti(Di),null===e?(null===(i=Qi())&&(i=pl,s=Mi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ms(t),Ii(0,Di,i)):(0!==(e.lanes&n)&&(ys(e,t),Ss(t,null,null,n),As()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ii(0,Di,r)):(r=s.cache,Ii(0,Di,r),r!==i.cache&&Oi(t,[Di],n,!0))),Ba(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ac(e){e.flags|=4}function cc(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw is=es,Xi;e.flags|=8192}}else e.flags&=-16777217}function lc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(!ru())throw is=es,Xi;e.flags|=8192}}function uc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Ol|=t)}function hc(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dc(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fc(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dc(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ki(Di),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?ac(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,bi())),dc(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ac(t),null!==s?(dc(t),lc(t,s)):(dc(t),cc(t,i,0,0,n))):s?s!==e.memoizedState?(ac(t),dc(t),lc(t,s)):(dc(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ac(t),dc(t),cc(t,i,0,0,n)),null;case 27:if(Z(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dc(t),null}e=V.current,wi(t)?mi(t):(e=Lh(i,r,n),t.stateNode=e,ac(t))}return dc(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return dc(t),null}if(s=V.current,wi(t))mi(t);else{var a=mh(K.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[ze]=t,s[He]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(dh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ac(t)}}return dc(t),cc(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ac(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=li))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||lh(e.nodeValue,n)))||gi(t,!0)}else(e=mh(e).createTextNode(r))[ze]=t,t.stateNode=e}return dc(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[ze]=t}else vi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),e=!1}else n=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ds(t),t):(Ds(t),null);if(0!==(128&t.flags))throw Error(o(558))}return dc(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=wi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ze]=t}else vi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dc(t),i=!1}else i=bi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ds(t),t):(Ds(t),null)}return Ds(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),uc(t,t.updateQueue),dc(t),null);case 4:return J(),null===e&&$u(t.stateNode.containerInfo),dc(t),null;case 10:return ki(t.type),dc(t),null;case 19:if(F(Ms),null===(r=t.memoizedState))return dc(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)hc(r,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Fs(e))){for(t.flags|=128,hc(r,!1),e=s.updateQueue,t.updateQueue=e,uc(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Ms,1&Ms.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Bl&&(t.flags|=128,i=!0,hc(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Fs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,uc(t,e),hc(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return dc(t),null}else 2*ce()-r.renderingStartTime>Bl&&536870912!==n&&(t.flags|=128,i=!0,hc(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Ms.current,z(Ms,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(dc(t),null);case 22:case 23:return Ds(t),Rs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dc(t),6&t.subtreeFlags&&(t.flags|=8192)):dc(t),null!==(n=t.updateQueue)&&uc(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(Di),dc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function pc(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ki(Di),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Ds(t),null===t.alternate)throw Error(o(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ds(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Ms),null;case 4:return J(),null;case 10:return ki(t.type),null;case 22:case 23:return Ds(t),Rs(),null!==e&&F(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ki(Di),null;default:return null}}function gc(e,t){switch(ai(t),t.tag){case 3:ki(Di),J();break;case 26:case 27:case 5:Z(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Ds(t);break;case 13:Ds(t);break;case 19:F(Ms);break;case 10:ki(t.type);break;case 22:case 23:Ds(t),Rs(),null!==e&&F(Gi);break;case 24:ki(Di)}}function mc(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){Au(t,t.return,a)}}function yc(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var c=n,l=a;try{l()}catch(u){Au(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){Au(t,t.return,u)}}function wc(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ks(t,n)}catch(r){Au(e,e.return,r)}}}function vc(e,t,n){n.props=Aa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Au(e,t,r)}}function bc(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Au(e,t,i)}}function Ec(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Au(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Au(e,t,s)}else n.current=null}function xc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Au(e,e.return,i)}}function Ac(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,c=null,l=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||uh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&uh(e,t,f,p,r,d)}}return void wt(e,a,c,l,u,h,s,i);case"select":for(s in p=a=c=f=null,n)if(l=n[s],n.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||uh(e,t,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&uh(e,t,i,s,r,l)}return t=c,n=a,r=p,void(null!=f?Et(e,!!n,f,!1):!!r!==!!n&&(null!=t?Et(e,!!n,t,!0):Et(e,!!n,n?[]:"",!1)));case"textarea":for(c in p=f=null,n)if(i=n[c],n.hasOwnProperty(c)&&null!=i&&!r.hasOwnProperty(c))switch(c){case"value":case"children":break;default:uh(e,t,c,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&uh(e,t,a,i,r,s)}return void xt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else uh(e,t,g,null,r,f);for(l in r)if(f=r[l],p=n[l],r.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else uh(e,t,l,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&uh(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:uh(e,t,u,f,r,p)}return;default:if(Ot(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(e,t,h,f,r,p);return}}for(var w in n)f=n[w],n.hasOwnProperty(w)&&null!=f&&!r.hasOwnProperty(w)&&uh(e,t,w,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||uh(e,t,d,f,r,p)}(r,e.type,n,t),r[He]=t}catch(i){Au(e,e.return,i)}}function Sc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&kh(e.type)||4===e.tag}function Ic(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&kh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function kc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Tt));else if(4!==r&&(27===r&&kh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(kc(e,t,n),e=e.sibling;null!==e;)kc(e,t,n),e=e.sibling}function Pc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&kh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Pc(e,t,n),e=e.sibling;null!==e;)Pc(e,t,n),e=e.sibling}function Oc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dh(t,r,n),t[ze]=e,t[He]=n}catch(s){Au(e,e.return,s)}}var Nc=!1,Cc=!1,Rc=!1,Tc="function"===typeof WeakSet?WeakSet:Set,_c=null;function Bc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Qc(e,n),4&r&&mc(5,n);break;case 1:if(Qc(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Au(n,n.return,o)}else{var i=Aa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Au(n,n.return,a)}}64&r&&wc(n),512&r&&bc(n,n.return);break;case 3:if(Qc(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ks(e,t)}catch(o){Au(n,n.return,o)}}break;case 27:null===t&&4&r&&Oc(n);case 26:case 5:Qc(e,n),null===t&&4&r&&xc(n),512&r&&bc(n,n.return);break;case 12:Qc(e,n);break;case 31:Qc(e,n),4&r&&Fc(e,n);break;case 13:Qc(e,n),4&r&&zc(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Nc)){t=null!==t&&null!==t.memoizedState||Cc,i=Nc;var s=Cc;Nc=r,(Cc=t)&&!s?Yc(e,n,0!==(8772&n.subtreeFlags)):Qc(e,n),Nc=i,Cc=s}break;case 30:break;default:Qc(e,n)}}function jc(e){var t=e.alternate;null!==t&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Uc=null,Lc=!1;function Dc(e,t,n){for(n=n.child;null!==n;)Mc(e,t,n),n=n.sibling}function Mc(e,t,n){if(we&&"function"===typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Cc||Ec(n,t),Dc(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cc||Ec(n,t);var r=Uc,i=Lc;kh(n.type)&&(Uc=n.stateNode,Lc=!1),Dc(e,t,n),Dh(n.stateNode),Uc=r,Lc=i;break;case 5:Cc||Ec(n,t);case 6:if(r=Uc,i=Lc,Uc=null,Dc(e,t,n),Lc=i,null!==(Uc=r))if(Lc)try{(9===Uc.nodeType?Uc.body:"HTML"===Uc.nodeName?Uc.ownerDocument.body:Uc).removeChild(n.stateNode)}catch(o){Au(n,t,o)}else try{Uc.removeChild(n.stateNode)}catch(o){Au(n,t,o)}break;case 18:null!==Uc&&(Lc?(Ph(9===(e=Uc).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vd(e)):Ph(Uc,n.stateNode));break;case 4:r=Uc,i=Lc,Uc=n.stateNode.containerInfo,Lc=!0,Dc(e,t,n),Uc=r,Lc=i;break;case 0:case 11:case 14:case 15:yc(2,n,t),Cc||yc(4,n,t),Dc(e,t,n);break;case 1:Cc||(Ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&vc(n,t,r)),Dc(e,t,n);break;case 21:Dc(e,t,n);break;case 22:Cc=(r=Cc)||null!==n.memoizedState,Dc(e,t,n),Cc=r;break;default:Dc(e,t,n)}}function Fc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vd(e)}catch(n){Au(t,t.return,n)}}}function zc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vd(e)}catch(n){Au(t,t.return,n)}}function Hc(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Tc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Tc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ou.bind(null,e,t);t.then(r,r)}})}function qc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:if(kh(c.type)){Uc=c.stateNode,Lc=!1;break e}break;case 5:Uc=c.stateNode,Lc=!1;break e;case 3:case 4:Uc=c.stateNode.containerInfo,Lc=!0;break e}c=c.return}if(null===Uc)throw Error(o(160));Mc(s,a,i),Uc=null,Lc=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wc(t,e),t=t.sibling}var Vc=null;function Wc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qc(t,e),Kc(e),4&r&&(yc(3,e,e.return),mc(3,e),yc(5,e,e.return));break;case 1:qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),64&r&&Nc&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vc;if(qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[ze]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),dh(s,r,n),s[ze]=e,et(s),r=s;break e;case"link":var a=nd("link","href",i).get(r+(n.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(c,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=nd("meta","content",i).get(r+(n.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(c,1);break t}dh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[ze]=e,et(s),r=s}e.stateNode=r}else rd(i,e.type,e.stateNode);else e.stateNode=Zh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rd(i,e.type,e.stateNode):Zh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ac(e,e.memoizedProps,n.memoizedProps)}break;case 27:qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),null!==n&&4&r&&Ac(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qc(t,e),Kc(e),512&r&&(Cc||null===n||Ec(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(g){Au(e,e.return,g)}}4&r&&null!=e.stateNode&&Ac(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Rc=!0);break;case 6:if(qc(t,e),Kc(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){Au(e,e.return,g)}}break;case 3:if(td=null,i=Vc,Vc=zh(t.containerInfo),qc(t,e),Vc=i,Kc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vd(t.containerInfo)}catch(g){Au(e,e.return,g)}Rc&&(Rc=!1,Gc(e));break;case 4:r=Vc,Vc=zh(e.stateNode.containerInfo),qc(t,e),Kc(e),Vc=r;break;case 12:default:qc(t,e),Kc(e);break;case 31:case 19:qc(t,e),Kc(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hc(e,r)));break;case 13:qc(t,e),Kc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Tl=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hc(e,r)));break;case 22:i=null!==e.memoizedState;var l=null!==n&&null!==n.memoizedState,u=Nc,h=Cc;if(Nc=u||i,Cc=h||l,qc(t,e),Cc=h,Nc=u,Kc(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||l||Nc||Cc||Jc(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){l=n=t;try{if(s=l.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{c=l.stateNode;var d=l.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;c.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){Au(l,l.return,g)}}}else if(6===t.tag){if(null===n){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){Au(l,l.return,g)}}}else if(18===t.tag){if(null===n){l=t;try{var p=l.stateNode;i?Oh(p,!0):Oh(l.stateNode,!1)}catch(g){Au(l,l.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hc(e,n))));case 30:case 21:}}function Kc(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Sc(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Pc(e,Ic(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),Pc(e,Ic(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;kc(e,Ic(e),a);break;default:throw Error(o(161))}}catch(c){Au(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Bc(e,t.alternate,t),t=t.sibling}function Jc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yc(4,t,t.return),Jc(t);break;case 1:Ec(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&vc(t,t.return,n),Jc(t);break;case 27:Dh(t.stateNode);case 26:case 5:Ec(t,t.return),Jc(t);break;case 22:null===t.memoizedState&&Jc(t);break;default:Jc(t)}e=e.sibling}}function Yc(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Yc(i,s,n),mc(4,s);break;case 1:if(Yc(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){Au(r,r.return,l)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Is(c[i],a)}catch(l){Au(r,r.return,l)}}n&&64&o&&wc(s),bc(s,s.return);break;case 27:Oc(s);case 26:case 5:Yc(i,s,n),n&&null===r&&4&o&&xc(s),bc(s,s.return);break;case 12:Yc(i,s,n);break;case 31:Yc(i,s,n),n&&4&o&&Fc(i,s);break;case 13:Yc(i,s,n),n&&4&o&&zc(i,s);break;case 22:null===s.memoizedState&&Yc(i,s,n),bc(s,s.return);break;case 30:break;default:Yc(i,s,n)}t=t.sibling}}function Zc(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fi(n))}function Xc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function $c(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)el(e,t,n,r),t=t.sibling}function el(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$c(e,t,n,r),2048&i&&mc(9,t);break;case 1:case 31:case 13:default:$c(e,t,n,r);break;case 3:$c(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){$c(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Au(t,t.return,c)}}else $c(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?$c(e,t,n,r):nl(e,t):2&s._visibility?$c(e,t,n,r):(s._visibility|=2,tl(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Zc(o,t);break;case 24:$c(e,t,n,r),2048&i&&Xc(t.alternate,t)}}function tl(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:tl(s,o,a,c,i),mc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?tl(s,o,a,c,i):nl(s,o):(u._visibility|=2,tl(s,o,a,c,i)),i&&2048&l&&Zc(o.alternate,o);break;case 24:tl(s,o,a,c,i),i&&2048&l&&Xc(o.alternate,o);break;default:tl(s,o,a,c,i)}t=t.sibling}}function nl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:nl(n,r),2048&i&&Zc(r.alternate,r);break;case 24:nl(n,r),2048&i&&Xc(r.alternate,r);break;default:nl(n,r)}t=t.sibling}}var rl=8192;function il(e,t,n){if(e.subtreeFlags&rl)for(e=e.child;null!==e;)sl(e,t,n),e=e.sibling}function sl(e,t,n){switch(e.tag){case 26:il(e,t,n),e.flags&rl&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kh(r.href),s=t.querySelector(Gh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Qh(r),(i=Mh.get(i))&&$h(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),dh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vc,e.memoizedState,e.memoizedProps);break;case 5:default:il(e,t,n);break;case 3:case 4:var r=Vc;Vc=zh(e.stateNode.containerInfo),il(e,t,n),Vc=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rl,rl=16777216,il(e,t,n),rl=r):il(e,t,n))}}function ol(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_c=r,ul(r,e)}ol(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cl(e),e=e.sibling}function cl(e){switch(e.tag){case 0:case 11:case 15:al(e),2048&e.flags&&yc(9,e,e.return);break;case 3:case 12:default:al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ll(e)):al(e)}}function ll(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_c=r,ul(r,e)}ol(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yc(8,t,t.return),ll(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ll(t));break;default:ll(t)}e=e.sibling}}function ul(e,t){for(;null!==_c;){var n=_c;switch(n.tag){case 0:case 11:case 15:yc(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_c=r;else e:for(n=e;null!==_c;){var i=(r=_c).sibling,s=r.return;if(jc(r),r===n){_c=null;break e}if(null!==i){i.return=s,_c=i;break e}_c=s}}}var hl={getCacheForType:function(e){var t=Ti(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ti(Di).controller.signal}},dl="function"===typeof WeakMap?WeakMap:Map,fl=0,pl=null,gl=null,ml=0,yl=0,wl=null,vl=!1,bl=!1,El=!1,xl=0,Al=0,Sl=0,Il=0,kl=0,Pl=0,Ol=0,Nl=null,Cl=null,Rl=!1,Tl=0,_l=0,Bl=1/0,jl=null,Ul=null,Ll=0,Dl=null,Ml=null,Fl=0,zl=0,Hl=null,ql=null,Vl=0,Wl=null;function Kl(){return 0!==(2&fl)&&0!==ml?ml&-ml:null!==B.T?Hu():De()}function Gl(){if(0===Pl)if(0===(536870912&ml)||hi){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Pl=e}else Pl=536870912;return null!==(e=Ts.current)&&(e.flags|=32),Pl}function Ql(e,t,n){(e!==pl||2!==yl&&9!==yl)&&null===e.cancelPendingCommit||(tu(e,0),Xl(e,ml,Pl,!1)),Te(e,n),0!==(2&fl)&&e===pl||(e===pl&&(0===(2&fl)&&(Il|=n),4===Al&&Xl(e,ml,Pl,!1)),ju(e))}function Jl(e,t,n){if(0!==(6&fl))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Oe(e,t),i=r?function(e,t){var n=fl;fl|=2;var r=iu(),i=su();pl!==e||ml!==t?(jl=null,Bl=ce()+500,tu(e,t)):bl=Oe(e,t);e:for(;;)try{if(0!==yl&&null!==gl){t=gl;var s=wl;t:switch(yl){case 1:yl=0,wl=null,du(e,t,s,1);break;case 2:case 9:if(ts(s)){yl=0,wl=null,hu(t);break}t=function(){2!==yl&&9!==yl||pl!==e||(yl=7),ju(e)},s.then(t,t);break e;case 3:yl=7;break e;case 4:yl=5;break e;case 7:ts(s)?(yl=0,wl=null,hu(t)):(yl=0,wl=null,du(e,t,s,7));break;case 5:var a=null;switch(gl.tag){case 26:a=gl.memoizedState;case 5:case 27:var c=gl;if(a?id(a):c.stateNode.complete){yl=0,wl=null;var l=c.sibling;if(null!==l)gl=l;else{var u=c.return;null!==u?(gl=u,fu(u)):gl=null}break t}}yl=0,wl=null,du(e,t,s,5);break;case 6:yl=0,wl=null,du(e,t,s,6);break;case 8:eu(),Al=6;break e;default:throw Error(o(462))}}lu();break}catch(h){nu(e,h)}return Si=Ai=null,B.H=r,B.A=i,fl=n,null!==gl?0:(pl=null,ml=0,Cr(),Al)}(e,t):au(e,t,!0),s=r;;){if(0===i){bl&&!r&&Xl(e,t,0,!1);break}if(n=e.current.alternate,!s||Zl(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;i=Nl;var l=c.current.memoizedState.isDehydrated;if(l&&(tu(c,a).flags|=256),2!==(a=au(c,a,!1))){if(El&&!l){c.errorRecoveryDisabledLanes|=s,Il|=s,i=4;break e}s=Cl,Cl=i,null!==s&&(null===Cl?Cl=s:Cl.push.apply(Cl,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){tu(e,0),Xl(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Xl(r,t,Pl,!vl);break e;case 2:Cl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Tl+300-ce())){if(Xl(r,t,Pl,!vl),0!==Pe(r,0,!0))break e;Fl=t,r.timeoutHandle=Eh(Yl.bind(null,r,n,Cl,jl,Rl,t,Pl,Il,Ol,vl,s,"Throttled",-0,0),i)}else Yl(r,n,Cl,jl,Rl,t,Pl,Il,Ol,vl,s,null,-0,0)}break}i=au(e,t,!1),s=!1}ju(e)}function Yl(e,t,n,r,i,s,o,a,c,l,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){sl(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var p=(62914560&s)===s?Tl-ce():(4194048&s)===s?_l-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&fh(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>a)break;var u=c.transferSize,h=c.initiatorType;u&&fh(h)&&(o+=u*((c=c.responseEnd)<a?1:(a-l)/(c-l)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Fl=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,o,a,c,u,h,null,d,f)),void Xl(e,s,o,!l)}gu(e,t,s,n,r,i,o,a,c)}function Zl(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,r){t&=~kl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-be(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&_e(e,n,t)}function $l(){return 0!==(6&fl)||(Uu(0,!1),!1)}function eu(){if(null!==gl){if(0===yl)var e=gl.return;else Si=Ai=null,oo(e=gl),as=null,cs=0,e=gl;for(;null!==e;)gc(e.alternate,e),e=e.return;gl=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fl=0,eu(),pl=e,gl=n=Fr(e.current,null),ml=t,yl=0,wl=null,vl=!1,bl=Oe(e,t),El=!1,Ol=Pl=kl=Il=Sl=Al=0,Cl=Nl=null,Rl=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-be(r),s=1<<i;t|=e[i],r&=~s}return xl=t,Cr(),n}function nu(e,t){Hs=null,B.H=ga,t===Zi||t===$i?(t=ss(),yl=3):t===Xi?(t=ss(),yl=4):yl=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,wl=t,null===gl&&(Al=1,Pa(e,Qr(t,e.current)))}function ru(){var e=Ts.current;return null===e||((4194048&ml)===ml?null===_s:((62914560&ml)===ml||0!==(536870912&ml))&&e===_s)}function iu(){var e=B.H;return B.H=ga,null===e?ga:e}function su(){var e=B.A;return B.A=hl,e}function ou(){Al=4,vl||(4194048&ml)!==ml&&null!==Ts.current||(bl=!0),0===(134217727&Sl)&&0===(134217727&Il)||null===pl||Xl(pl,ml,Pl,!1)}function au(e,t,n){var r=fl;fl|=2;var i=iu(),s=su();pl===e&&ml===t||(jl=null,tu(e,t)),t=!1;var o=Al;e:for(;;)try{if(0!==yl&&null!==gl){var a=gl,c=wl;switch(yl){case 8:eu(),o=6;break e;case 3:case 2:case 9:case 6:null===Ts.current&&(t=!0);var l=yl;if(yl=0,wl=null,du(e,a,c,l),n&&bl){o=0;break e}break;default:l=yl,yl=0,wl=null,du(e,a,c,l)}}cu(),o=Al;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Si=Ai=null,fl=r,B.H=i,B.A=s,null===gl&&(pl=null,ml=0,Cr()),o}function cu(){for(;null!==gl;)uu(gl)}function lu(){for(;null!==gl&&!oe();)uu(gl)}function uu(e){var t=oc(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,ml);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,ml);break;case 5:oo(t);default:gc(n,t),t=oc(n,t=gl=zr(t,xl),xl)}e.memoizedProps=e.pendingProps,null===t?fu(e):gl=t}function du(e,t,n,r){Si=Ai=null,oo(t),as=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ni(t,n,i,!0),null!==(n=Ts.current)){switch(n.tag){case 31:case 13:return null===_s?ou():null===n.alternate&&0===Al&&(Al=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Su(e,r,i)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Su(e,r,i)),!1}throw Error(o(435,n.tag))}return Su(e,r,i),ou(),!1}if(hi)return null!==(t=Ts.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Ei(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&Ei(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),Es(e,i=Na(e.stateNode,r,i)),4!==Al&&(Al=2)),!1;var s=Error(o(520),{cause:r});if(s=Qr(s,n),null===Nl?Nl=[s]:Nl.push(s),4!==Al&&(Al=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Es(n,e=Na(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ul||!Ul.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ra(i=Ca(i),e,n,r),Es(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ml))return Al=1,Pa(e,Qr(n,e.current)),void(gl=null)}catch(s){if(null!==i)throw gl=i,s;return Al=1,Pa(e,Qr(n,e.current)),void(gl=null)}32768&t.flags?(hi||1===r?e=!0:bl||0!==(536870912&ml)?e=!1:(vl=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ts.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,vl);e=t.return;var n=fc(t.alternate,t,xl);if(null!==n)return void(gl=n);if(null!==(t=t.sibling))return void(gl=t);gl=t=e}while(null!==t);0===Al&&(Al=5)}function pu(e,t){do{var n=pc(e.alternate,e);if(null!==n)return n.flags&=32767,void(gl=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gl=e);gl=e=n}while(null!==e);Al=6,gl=null}function gu(e,t,n,r,i,s,a,c,l){e.cancelPendingCommit=null;do{bu()}while(0!==Ll);if(0!==(6&fl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-be(n),h=1<<u;a[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&_e(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Nr,a,c,l),e===pl&&(gl=pl=null,ml=0),Ml=t,Dl=e,Fl=n,zl=s,Hl=i,ql=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Eu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=B.T,B.T=null,i=j.p,j.p=2,a=fl,fl|=4;try{!function(e,t){if(e=e.containerInfo,ph=vd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},vd=!1,_c=t;null!==_c;)if(e=(t=_c).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,_c=e;else for(;null!==_c;){switch(s=(t=_c).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=Aa(n.type,i);e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Au(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Nh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,_c=e;break}_c=t.return}}(e,t)}finally{fl=a,j.p=i,B.T=r}}Ll=1,mu(),yu(),wu()}}function mu(){if(1===Ll){Ll=0;var e=Dl,t=Ml,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=B.T,B.T=null;var r=j.p;j.p=2;var i=fl;fl|=4;try{Wc(t,e);var s=gh,o=rr(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==c&&ir(a)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in a)a.selectionStart=l,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,g=Math.min(c.start,p),m=void 0===c.end?g:Math.min(c.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var y=tr(a,g),w=tr(a,m);if(y&&w&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==w.node||f.focusOffset!==w.offset)){var v=h.createRange();v.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(v),f.extend(w.node,w.offset)):(v.setEnd(w.node,w.offset),f.addRange(v))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}vd=!!ph,gh=ph=null}finally{fl=i,j.p=r,B.T=n}}e.current=t,Ll=2}}function yu(){if(2===Ll){Ll=0;var e=Dl,t=Ml,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=B.T,B.T=null;var r=j.p;j.p=2;var i=fl;fl|=4;try{Bc(e,t.alternate,t)}finally{fl=i,j.p=r,B.T=n}}Ll=3}}function wu(){if(4===Ll||3===Ll){Ll=0,ae();var e=Dl,t=Ml,n=Fl,r=ql;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ll=5:(Ll=0,Ml=Dl=null,vu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ul=null),Le(n),t=t.stateNode,we&&"function"===typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==r){t=B.T,i=j.p,j.p=2,B.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{B.T=t,j.p=i}}0!==(3&Fl)&&bu(),ju(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wl?Vl++:(Vl=0,Wl=e):Vl=0,Uu(0,!1)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function bu(){return mu(),yu(),wu(),Eu()}function Eu(){if(5!==Ll)return!1;var e=Dl,t=zl;zl=0;var n=Le(Fl),r=B.T,i=j.p;try{j.p=32>n?32:n,B.T=null,n=Hl,Hl=null;var s=Dl,a=Fl;if(Ll=0,Ml=Dl=null,Fl=0,0!==(6&fl))throw Error(o(331));var c=fl;if(fl|=4,cl(s.current),el(s,s.current,a,n),fl=c,Uu(0,!1),we&&"function"===typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(ye,s)}catch(l){}return!0}finally{j.p=i,B.T=r,vu(e,t)}}function xu(e,t,n){t=Qr(n,t),null!==(e=vs(e,t=Na(e.stateNode,t,2),2))&&(Te(e,2),ju(e))}function Au(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){e=Qr(n,e),null!==(r=vs(t,n=Ca(2),2))&&(Ra(n,r,t,e),Te(r,2),ju(r));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(El=!0,i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pl===e&&(ml&n)===n&&(4===Al||3===Al&&(62914560&ml)===ml&&300>ce()-Tl?0===(2&fl)&&tu(e,0):kl|=n,Ol===ml&&(Ol=0)),ju(e)}function ku(e,t){0===t&&(t=Ce()),null!==(e=_r(e,t))&&(Te(e,t),ju(e))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),ku(e,n)}var Nu=null,Cu=null,Ru=!1,Tu=!1,_u=!1,Bu=0;function ju(e){e!==Cu&&null===e.next&&(null===Cu?Nu=Cu=e:Cu=Cu.next=e),Tu=!0,Ru||(Ru=!0,Sh(function(){0!==(6&fl)?ie(ue,Lu):Du()}))}function Uu(e,t){if(!_u&&Tu){_u=!0;do{for(var n=!1,r=Nu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,zu(r,s))}else s=ml,0===(3&(s=Pe(r,r===pl?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Oe(r,s)||(n=!0,zu(r,s));r=r.next}}while(n);_u=!1}}function Lu(){Du()}function Du(){Tu=Ru=!1;var e=0;0!==Bu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bh&&(bh=e,!0);return bh=null,!1}()&&(e=Bu);for(var t=ce(),n=null,r=Nu;null!==r;){var i=r.next,s=Mu(r,t);0===s?(r.next=null,null===n?Nu=i:n.next=i,null===i&&(Cu=n)):(n=r,(0!==e||0!==(3&s))&&(Tu=!0)),r=i}0!==Ll&&5!==Ll||Uu(e,!1),0!==Bu&&(Bu=0)}function Mu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-be(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=Ne(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(n=ml,n=Pe(e,e===(t=pl)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yl||9===yl)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Oe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Fu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Fu(e,t){if(0!==Ll&&5!==Ll)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=ml;return 0===(r=Pe(e,e===pl?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jl(e,r,t),Mu(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Fu.bind(null,e):null)}function zu(e,t){if(bu())return null;Jl(e,t,!0)}function Hu(){if(0===Bu){var e=qi;0===e&&(e=Ae,0===(261888&(Ae<<=1))&&(Ae=256)),Bu=e}return Bu}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Sr.length;Wu++){var Ku=Sr[Wu];Ir(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Ir(mr,"onAnimationEnd"),Ir(yr,"onAnimationIteration"),Ir(wr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(vr,"onTransitionRun"),Ir(br,"onTransitionStart"),Ir(Er,"onTransitionCancel"),Ir(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){kr(u)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=l;try{s(i)}catch(u){kr(u)}i.currentTarget=null,s=c}}}}function Yu(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(eh(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),eh(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Zu("selectionchange",!1,t))}}function eh(e,t,n,r){switch(kd(t)){case 2:var i=bd;break;case 8:i=Ed;break;default:i=xd}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function th(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Ye(a)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Mt(function(){var r=s,i=Bt(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":l=wn;break;case"focusin":u="focus",l=ln;break;case"focusout":u="blur",l=ln;break;case"beforeblur":case"afterblur":l=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=bn;break;case mr:case yr:case wr:l=un;break;case xr:l=En;break;case"scroll":case"scrollend":l=sn;break;case"wheel":l=xn;break;case"copy":case"cut":case"paste":l=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=vn;break;case"toggle":case"beforetoggle":l=An}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Ft(g,f))&&h.push(nh(g,m,p)),d)break;g=g.return}0<h.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_t||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(d=c(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(l=null,u=r),l!==u)){if(h=an,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=vn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==l?a:Xe(l),p=null==u?a:Xe(u),(a=new h(m,g+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,Ye(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,l&&u)e:{for(h=ih,g=u,p=0,m=f=l;m;m=h(m))p++;m=0;for(var y=g;y;y=h(y))m++;for(;0<p-m;)f=h(f),p--;for(;0<m-p;)g=h(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){h=f;break e}f=h(f),g=h(g)}h=null}else h=null;null!==l&&sh(o,a,l,h,!1),null!==u&&null!==d&&sh(o,d,u,h,!0)}if("select"===(l=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var w=zn;else if(jn(a))if(Hn)w=Zn;else{w=Jn;var v=Qn}else!(l=a.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Ot(r.elementType)&&(w=zn):w=Yn;switch(w&&(w=w(e,r))?Un(o,w,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&bt(a,"number",a.value)),v=r?Xe(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(or=v,ar=r,cr=null);break;case"focusout":cr=ar=or=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,ur(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(o,n,i)}var b;if(In)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _n?Rn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(On&&"ko"!==n.locale&&(_n||"onCompositionStart"!==E?"onCompositionEnd"===E&&_n&&(b=Gt()):(Wt="value"in(Vt=i)?Vt.value:Vt.textContent,_n=!0)),0<(v=rh(r,E)).length&&(E=new dn(E,e,null,n,i),o.push({event:E,listeners:v}),b?E.data=b:null!==(b=Tn(n))&&(E.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(_n)return"compositionend"===e||!In&&Rn(e,t)?(e=Gt(),Kt=Wt=Vt=null,_n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=rh(r,"onBeforeInput")).length&&(v=new dn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:E}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=qu((i[He]||null).action),o=r.submitter;o&&null!==(t=(t=o[He]||null)?qu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Bu){var e=o?Vu(i,o):new FormData(i);ta(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Vu(i,o):new FormData(i),ta(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Ju(o,t)})}function nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(nh(e,i,s)),null!=(i=Ft(e,t))&&r.push(nh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ih(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===r)break;5!==a&&26!==a&&27!==a||null===l||(c=l,i?null!=(l=Ft(n,s))&&o.unshift(nh(n,l,c)):i||null!=(l=Ft(n,s))&&o.push(nh(n,l,c))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(ah,"")}function lh(e,t){return t=ch(t),ch(e)===t}function uh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Pt(e,r,s);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&uh(e,t,"name",i.name,i,null),uh(e,t,"formEncType",i.formEncType,i,null),uh(e,t,"formMethod",i.formMethod,i,null),uh(e,t,"formTarget",i.formTarget,i,null)):(uh(e,t,"encType",i.encType,i,null),uh(e,t,"method",i.method,i,null),uh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Rt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Tt);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Rt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yu("beforetoggle",e),Yu("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Nt.get(n)||n,r)}}function hh(e,t,n,r,i,s){switch(n){case"style":Pt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Yu("scroll",e);break;case"onScrollEnd":null!=r&&Yu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[He]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function dh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yu("error",e),Yu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uh(e,t,r,a,n,null)}}return s&&uh(e,t,"srcSet",n.srcSet,n,null),void(i&&uh(e,t,"src",n.src,n,null));case"input":Yu("invalid",e);var c=r=a=s=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:uh(e,t,i,h,n,null)}}return void vt(e,r,c,l,u,a,s,!1);case"select":for(s in Yu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(c=n[s]))switch(s){case"value":r=c;break;case"defaultValue":a=c;break;case"multiple":i=c;default:uh(e,t,s,c,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?Et(e,!!i,t,!1):null!=n&&Et(e,!!i,n,!0));case"textarea":for(a in Yu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(c=n[a]))switch(a){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:uh(e,t,a,c,n,null)}return void At(e,i,s,r);case"option":for(l in n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else uh(e,t,l,i,n,null);return;case"dialog":Yu("beforetoggle",e),Yu("toggle",e),Yu("cancel",e),Yu("close",e);break;case"iframe":case"object":Yu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Yu(Gu[i],e);break;case"image":Yu("error",e),Yu("load",e);break;case"details":Yu("toggle",e);break;case"embed":case"source":case"link":Yu("error",e),Yu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uh(e,t,u,i,n,null)}return;default:if(Ot(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&hh(e,t,h,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(null!=(i=n[c])&&uh(e,t,c,i,n,null))}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,gh=null;function mh(e){return 9===e.nodeType?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bh=null;var Eh="function"===typeof setTimeout?setTimeout:void 0,xh="function"===typeof clearTimeout?clearTimeout:void 0,Ah="function"===typeof Promise?Promise:void 0,Sh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ah?function(e){return Ah.resolve(null).then(e).catch(Ih)}:Eh;function Ih(e){setTimeout(function(){throw e})}function kh(e){return"head"===e}function Ph(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Dh(e.ownerDocument.documentElement);else if("head"===n){Dh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&Dh(e.ownerDocument.body);n=i}while(n);Vd(t)}function Oh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Nh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nh(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ch(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=_h(e.nextSibling)))return null}return e}function Rh(e){return"$?"===e.data||"$~"===e.data}function Th(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function _h(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Bh=null;function jh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return _h(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lh(e,t,n){switch(t=mh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Dh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Mh=new Map,Fh=new Set;function zh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hh=j.d;j.d={f:function(){var e=Hh.f(),t=$l();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Hh.r(e)},D:function(e){Hh.D(e),Vh("dns-prefetch",e,null)},C:function(e,t){Hh.C(e,t),Vh("preconnect",e,t)},L:function(e,t,n){Hh.L(e,t,n);var r=qh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Kh(e);break;case"script":s=Jh(e)}Mh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Mh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gh(s))||"script"===t&&r.querySelector(Yh(s))||(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hh.m(e,t);var n=qh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Jh(e)}if(!Mh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Mh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(s)))return}dh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hh.X(e,t);var n=qh;if(n&&e){var r=$e(n).hoistableScripts,i=Jh(e),s=r.get(i);s||((s=n.querySelector(Yh(i)))||(e=f({src:e,async:!0},t),(t=Mh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Hh.S(e,t,n);var r=qh;if(r&&e){var i=$e(r).hoistableStyles,s=Kh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Gh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mh.get(s))&&$h(e,n);var c=o=r.createElement("link");et(c),dh(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Hh.M(e,t);var n=qh;if(n&&e){var r=$e(n).hoistableScripts,i=Jh(e),s=r.get(i);s||((s=n.querySelector(Yh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Mh.get(i))&&ed(e,t),et(s=n.createElement("script")),dh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var qh="undefined"===typeof document?null:document;function Vh(e,t,n){var r=qh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Fh.has(i)||(Fh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(dh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wh(e,t,n,r){var i,s,a,c,l=(l=K.current)?zh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kh(n.href),(r=(n=$e(l).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kh(n.href);var u=$e(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Gh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Mh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mh.set(e,n),u||(i=l,s=e,a=n,c=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jh(n),(r=(n=$e(l).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Kh(e){return'href="'+yt(e)+'"'}function Gh(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Jh(e){return'[src="'+yt(e)+'"]'}function Yh(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),dh(r,"style",i),Xh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kh(n.href);var s=e.querySelector(Gh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Qh(n),(i=Mh.get(i))&&$h(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),dh(s,"link",r),t.state.loading|=4,Xh(s,n.precedence,e),t.instance=s;case"script":return s=Jh(n.src),(i=e.querySelector(Yh(s)))?(t.instance=i,et(i),i):(r=n,(i=Mh.get(s))&&ed(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),dh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xh(r,n.precedence,e));return t.instance}function Xh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $h(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,i=td=new Map;i.set(n,r)}else(r=(i=td).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[ze]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function id(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ad=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ad=new Map,t.forEach(ld,e),ad=null,od.call(e))}function ld(e,t){if(!(4&t.state.loading)){var n=ad.get(e);if(n)var r=n.get(null);else{n=new Map,ad.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var ud={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function hd(e,t,n,r,i,s,o,a,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function dd(e,t,n,r,i,s,o,a,c,l,u,h){return e=new hd(e,t,n,o,c,l,u,h,a),t=1,!0===s&&(t|=24),s=Dr(3,null,null,t),e.current=s,s.stateNode=e,(t=Mi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ms(s),e}function fd(e){return e?e=Ur:Ur}function pd(e,t,n,r,i,s){i=fd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ws(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=vs(e,r,t))&&(Ql(n,0,t),bs(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function md(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function yd(e){if(13===e.tag||31===e.tag){var t=_r(e,67108864);null!==t&&Ql(t,0,67108864),md(e,67108864)}}function wd(e){if(13===e.tag||31===e.tag){var t=Kl(),n=_r(e,t=Ue(t));null!==n&&Ql(n,0,t),md(e,t)}}var vd=!0;function bd(e,t,n,r){var i=B.T;B.T=null;var s=j.p;try{j.p=2,xd(e,t,n,r)}finally{j.p=s,B.T=i}}function Ed(e,t,n,r){var i=B.T;B.T=null;var s=j.p;try{j.p=8,xd(e,t,n,r)}finally{j.p=s,B.T=i}}function xd(e,t,n,r){if(vd){var i=Ad(r);if(null===i)th(e,t,r,Sd,n),jd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Od=Ud(Od,e,t,n,r,i),!0;case"dragenter":return Nd=Ud(Nd,e,t,n,r,i),!0;case"mouseover":return Cd=Ud(Cd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rd.set(s,Ud(Rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Td.set(s,Ud(Td.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jd(e,r),4&t&&-1<Bd.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ke(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-be(o);a.entanglements[1]|=c,o&=~c}ju(s),0===(6&fl)&&(Bl=ce()+500,Uu(0,!1))}}break;case 31:case 13:null!==(a=_r(s,2))&&Ql(a,0,2),$l(),md(s,2)}if(null===(s=Ad(r))&&th(e,t,r,Sd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else th(e,t,r,null,n)}}function Ad(e){return Id(e=Bt(e))}var Sd=null;function Id(e){if(Sd=null,null!==(e=Ye(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sd=e,null}function kd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Pd=!1,Od=null,Nd=null,Cd=null,Rd=new Map,Td=new Map,_d=[],Bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Od=null;break;case"dragenter":case"dragleave":Nd=null;break;case"mouseover":case"mouseout":Cd=null;break;case"pointerover":case"pointerout":Rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(t.pointerId)}}function Ud(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ld(e){var t=Ye(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Me(e.priority,function(){wd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Me(e.priority,function(){wd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ad(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&yd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function Md(e,t,n){Dd(e)&&n.delete(t)}function Fd(){Pd=!1,null!==Od&&Dd(Od)&&(Od=null),null!==Nd&&Dd(Nd)&&(Nd=null),null!==Cd&&Dd(Cd)&&(Cd=null),Rd.forEach(Md),Td.forEach(Md)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fd)))}var Hd=null;function qd(e){Hd!==e&&(Hd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hd===e&&(Hd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Id(r||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,ta(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vd(e){function t(t){return zd(t,e)}null!==Od&&zd(Od,e),null!==Nd&&zd(Nd,e),null!==Cd&&zd(Cd,e),Rd.forEach(t),Td.forEach(t);for(var n=0;n<_d.length;n++){var r=_d[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_d.length&&null===(n=_d[0]).blockedOn;)Ld(n),null===n.blockedOn&&_d.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[He]||null;if("function"===typeof s)o||qd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[He]||null)a=o.formAction;else if(null!==Id(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),qd(n)}}}function Wd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kd(e){this._internalRoot=e}function Gd(e){this._internalRoot=e}Gd.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));pd(t.current,Kl(),e,t,null,null)},Gd.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),$l(),t[qe]=null}},Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_d.length&&0!==t&&t<_d[n].priority;n++);_d.splice(n,0,e),0===n&&Ld(e)}};var Qd=i.version;if("19.2.1"!==Qd)throw Error(o(527,Qd,"19.2.1"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Jd={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{ye=Yd.inject(Jd),we=Yd}catch(Xd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Sa,s=Ia,c=ka;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,i,s,c,Wd),e[qe]=t.current,$u(e),new Kd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Sa,c=Ia,l=ka,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(c=n.onCaughtError),void 0!==n.onRecoverableError&&(l=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=dd(e,1,!0,t,0,r,i,u,s,c,l,Wd)).context=fd(null),n=t.current,(i=ws(r=Ue(r=Kl()))).callback=null,vs(n,i,r),n=r,t.current.lanes=n,Te(t,n),ju(t),e[qe]=t.current,$u(e),new Gd(t)},t.version="19.2.1"},7257:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r extends Error{constructor(e){super(e);const t=Object.create(r.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:r.name})}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7312:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(7284),i=n(632);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(s){r(s)}this.events.on("".concat(e.id),e=>{(0,i.isJsonRpcError)(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(s){r(s)}})}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8019:(e,t,n)=>{"use strict";n.d(t,{xW:()=>v,sH:()=>Qe,dI:()=>Je});var r={};n.r(r),n.d(r,{identity:()=>T});var i={};n.r(i),n.d(i,{base2:()=>_});var s={};n.r(s),n.d(s,{base8:()=>B});var o={};n.r(o),n.d(o,{base10:()=>j});var a={};n.r(a),n.d(a,{base16:()=>U,base16upper:()=>L});var c={};n.r(c),n.d(c,{base32:()=>D,base32hex:()=>H,base32hexpad:()=>V,base32hexpadupper:()=>W,base32hexupper:()=>q,base32pad:()=>F,base32padupper:()=>z,base32upper:()=>M,base32z:()=>K});var l={};n.r(l),n.d(l,{base36:()=>G,base36upper:()=>Q});var u={};n.r(u),n.d(u,{base58btc:()=>J,base58flickr:()=>Y});var h={};n.r(h),n.d(h,{base64:()=>Z,base64pad:()=>X,base64url:()=>$,base64urlpad:()=>ee});var d={};n.r(d),n.d(d,{base256emoji:()=>ie});var f={};n.r(f),n.d(f,{sha256:()=>Ne,sha512:()=>Ce});var p={};n.r(p),n.d(p,{identity:()=>Te});var g={};n.r(g),n.d(g,{code:()=>Be,decode:()=>Ue,encode:()=>je,name:()=>_e});var m={};function y(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?y(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function v(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=w(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return y(n)}n.r(m),n.d(m,{code:()=>Fe,decode:()=>He,encode:()=>ze,name:()=>Me});var b=n(9379);var E=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}};const x=E,A=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class S{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class I{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return P(this,e)}}class k{constructor(e){this.decoders=e}or(e){return P(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const P=(e,t)=>new k((0,b.A)((0,b.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class O{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new S(e,t,n),this.decoder=new I(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const N=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new O(t,n,r,i)},C=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=x(r,n);return N({prefix:t,name:n,encode:i,decode:e=>A(s(e))})},R=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return N({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},T=N({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),_=R({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=R({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),j=C({prefix:"9",name:"base10",alphabet:"0123456789"}),U=R({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),L=R({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D=R({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),M=R({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),F=R({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=R({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=R({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q=R({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V=R({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),W=R({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K=R({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),G=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),J=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Y=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Z=R({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),X=R({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$=R({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ee=R({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),te=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ne=te.reduce((e,t,n)=>(e[n]=t,e),[]),re=te.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const ie=N({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ne[t],"")},decode:function(e){const t=[];for(const n of e){const e=re[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var se=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=ce;)n[r++]=255&t|oe,t/=128;for(;t&ae;)n[r++]=255&t|oe,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},oe=128,ae=-128,ce=Math.pow(2,31);var le=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&he)<<s:(r&he)*Math.pow(2,s),s+=7}while(r>=ue);return e.bytes=o-n,i},ue=128,he=127;var de=Math.pow(2,7),fe=Math.pow(2,14),pe=Math.pow(2,21),ge=Math.pow(2,28),me=Math.pow(2,35),ye=Math.pow(2,42),we=Math.pow(2,49),ve=Math.pow(2,56),be=Math.pow(2,63);const Ee={encode:se,decode:le,encodingLength:function(e){return e<de?1:e<fe?2:e<pe?3:e<ge?4:e<me?5:e<ye?6:e<we?7:e<ve?8:e<be?9:10}},xe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ee.encode(e,t,n),t},Ae=e=>Ee.encodingLength(e),Se=(e,t)=>{const n=t.byteLength,r=Ae(e),i=r+Ae(n),s=new Uint8Array(i+n);return xe(e,s,0),xe(n,s,r),s.set(t,i),new Ie(e,n,t,s)};class Ie{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const ke=e=>{let{name:t,code:n,encode:r}=e;return new Pe(t,n,r)};class Pe{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Se(this.code,t):t.then(e=>Se(this.code,e))}throw Error("Unknown type, must be binary type")}}const Oe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ne=ke({name:"sha2-256",code:18,encode:Oe("SHA-256")}),Ce=ke({name:"sha2-512",code:19,encode:Oe("SHA-512")}),Re=A,Te={code:0,name:"identity",encode:Re,digest:e=>Se(0,Re(e))},_e="raw",Be=85,je=e=>A(e),Ue=e=>A(e),Le=new TextEncoder,De=new TextDecoder,Me="json",Fe=512,ze=e=>Le.encode(JSON.stringify(e)),He=e=>JSON.parse(De.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const qe=(0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)({},r),i),s),o),a),c),l),u),h),d);(0,b.A)((0,b.A)({},f),p);function Ve(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const We=Ve("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),Ke=Ve("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=w((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Ge=(0,b.A)({utf8:We,"utf-8":We,hex:qe.base16,latin1:Ke,ascii:Ke,binary:Ke},qe);function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):y(globalThis.Buffer.from(e,"utf-8"))}function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Ge[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},8129:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(9379);const i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,o=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function a(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!o.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(i.test(e)||s.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,a)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function l(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function u(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return u(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h="base64:";function d(e){return"string"===typeof e?e:h+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function f(e){return"string"!==typeof e?e:e.startsWith(h)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}function p(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(t.join(":"))}function m(e){return(e=p(e))?e+":":""}const y=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},getItemRaw(t){var n;return null!==(n=e.get(t))&&void 0!==n?n:null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function w(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||y()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter(e=>e.startsWith(t)||n&&t.startsWith(e)).map(n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]})),i=(t,n)=>{if(e.watching){n=p(n);for(const r of e.watchListeners)r(t,n)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(e,n,i)=>{const s=new Map,o=e=>{let t=s.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},s.set(e.base,t)),t};for(const a of e){const e="string"===typeof a,i=p(e?a:a.key),s=e?void 0:a.value,c=e||!a.options?n:(0,r.A)((0,r.A)({},n),a.options),l=t(i);o(l).items.push({key:i,value:s,relativeKey:l.relativeKey,options:c})}return Promise.all([...s.values()].map(e=>i(e))).then(e=>e.flat())},a={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return l(i.getItem,r,n).then(e=>c(e))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e,t,e=>e.driver.getItems?l(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:g(e.base,t.key),value:c(t.value)}))):Promise.all(e.items.map(t=>l(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:c(e)})))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?l(i.getItemRaw,r,n):l(i.getItem,r,n).then(e=>f(e))},async setItem(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e);e=p(e);const{relativeKey:s,driver:o}=t(e);o.setItem&&(await l(o.setItem,s,u(n),r),o.watch||i("update",e))},async setItems(e,t){await o(e,t,async e=>{if(e.driver.setItems)return l(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:u(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>l(e.driver.setItem,t.relativeKey,u(t.value),t.options)))})},async setItemRaw(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return a.removeItem(e,r);e=p(e);const{relativeKey:s,driver:o}=t(e);if(o.setItemRaw)await l(o.setItemRaw,s,n,r);else{if(!o.setItem)return;await l(o.setItem,s,d(n),r)}o.watch||i("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=p(e);const{relativeKey:r,driver:s}=t(e);s.removeItem&&(await l(s.removeItem,r,n),(n.removeMeta||n.removeMata)&&await l(s.removeItem,r+"$",n),s.watch||i("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=p(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await l(i.getMeta,r,n)),!n.nativeOnly){const e=await l(i.getItem,r+"$",n).then(e=>c(e));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=m(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){var a;null!==(a=n.driver.flags)&&void 0!==a&&a.maxDepth||(o=!1);const e=await l(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+p(t);i.some(t=>e.startsWith(t))||s.push(e)}i=[n.mountpoint,...i.filter(e=>!e.startsWith(n.mountpoint))]}const c=void 0!==t.maxDepth&&!o;return s.filter(n=>(!c||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=m(e),await Promise.all(n(e,!1).map(async e=>{if(e.driver.clear)return l(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(e=>b(e)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await v(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await s()}),async unwatch(){e.watchListeners=[],await s()},mount(t,n){if((t=m(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort((e,t)=>t.length-e.length)),e.mounts[t]=n,e.watching&&Promise.resolve(v(n,i,t)).then(n=>{e.unwatch[t]=n}).catch(console.error),a},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=m(t))&&e.mounts[t]){var r,i;if(e.watching&&t in e.unwatch)null===(r=(i=e.unwatch)[t])||void 0===r||r.call(i),delete e.unwatch[t];n&&await b(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=p(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=p(e);return n(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.removeItem(e,t)}};return a}function v(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function b(e){"function"===typeof e.dispose&&await l(e.dispose)}function E(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function x(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=E(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let A;function S(){return A||(A=x("keyval-store","keyval")),A}function I(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readonly",t=>E(t.get(e)))}function k(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},E(e.transaction)}var P=n(8661);var O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=x(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await I(n(e),r)>"u"),async getItem(e){var t;return null!==(t=await I(n(e),r))&&void 0!==t?t:null},setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S())("readwrite",n=>(n.put(t,e),E(n.transaction)))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S())("readwrite",t=>(t.delete(e),E(t.transaction)))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readonly",e=>{if(e.getAllKeys)return E(e.getAllKeys());const t=[];return k(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())("readwrite",e=>(e.clear(),E(e.transaction)))}(r)}};class N{constructor(){this.indexedDb=w({driver:O({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,P.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},R={exports:{}};function T(e){var t;return[e[0],(0,P.j)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof C<"u"&&C.localStorage?R.exports=C.localStorage:typeof window<"u"&&window.localStorage?R.exports=window.localStorage:R.exports=new t}();class _{constructor(){this.localStorage=R.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(T)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,P.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,P.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}const B=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class j{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new _;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),B(e,o)})(e,new N,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6121);r.__exportStar(n(8951),t),r.__exportStar(n(5746),t)},8661:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,j:()=>s});const r=e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)};function s(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return i(e)}catch(t){return e}}function o(e){return"string"===typeof e?e:r(e)||""}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},9038:(e,t,n)=>{var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function m(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=m(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),f(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),f(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function A(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(s){console.warn("Response "+s.message)}}}),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},v.call(E.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var I=[301,302,303,307,308];S.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(P){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise(function(i,s){var a=new E(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:A(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout(function(){i(new S(t,e))},0)},l.onerror=function(){setTimeout(function(){s(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){s(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"===typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){f.push(h(e)),l.setRequestHeader(e,d(n.headers[e]))}),a.headers.forEach(function(e,t){-1===f.indexOf(t)&&l.setRequestHeader(t,e)})}else a.headers.forEach(function(e,t){l.setRequestHeader(t,e)});a.signal&&(a.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=p,r.Request=E,r.Response=S),t.Headers=p,t.Request=E,t.Response=S,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},9332:(e,t,n)=>{"use strict";t.g=void 0;const r=n(33);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map(e=>t.getAttribute(e)).filter(e=>!!e&&n.includes(e));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4467);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9397:(e,t,n)=>{"use strict";n.d(t,{D5:()=>B,U5:()=>_,iP:()=>R,oI:()=>T});var r=n(5711),i=n.n(r),s=n(8661);const o={level:"info"},a="custom_context",c=1024e3;var l=Object.defineProperty,u=(e,t,n)=>((e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class h{constructor(e){u(this,"nodeValue"),u(this,"sizeInBytes"),u(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class d{constructor(e){u(this,"lengthInNodes"),u(this,"sizeInBytes"),u(this,"head"),u(this,"tail"),u(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new h(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var f=Object.defineProperty,p=(e,t,n)=>((e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class g{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;p(this,"logs"),p(this,"level"),p(this,"levelValue"),p(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=null!==e&&void 0!==e?e:"error",this.levelValue=r.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===r.levels.values.error?console.error(e):t===r.levels.values.warn?console.warn(e):t===r.levels.values.debug?console.debug(e):t===r.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.h)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,s.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var m=Object.defineProperty,y=(e,t,n)=>((e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;y(this,"baseChunkLogger"),this.baseChunkLogger=new g(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}var v=Object.defineProperty,b=(e,t,n)=>((e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;b(this,"baseChunkLogger"),this.baseChunkLogger=new g(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var x=Object.defineProperty,A=Object.defineProperties,S=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&O(e,n,t[n]);if(I)for(var n of I(t))P.call(t,n)&&O(e,n,t[n]);return e},C=(e,t)=>A(e,S(t));function R(e){return C(N({},e),{level:(null===e||void 0===e?void 0:e.level)||o.level})}function T(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:a]||""}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const r=function(e,t){const n=T(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a);return n.trim()?"".concat(n,"/").concat(t):t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:a]=t,e}(e.child({context:r}),r,n)}function B(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new w(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(C(N({},e.opts),{level:"trace",browser:C(N({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new E(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(C(N({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}},9827:(e,t,n)=>{"use strict";n.d(t,{o0:()=>f});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},s=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},o=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?g(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!==typeof navigator?g(navigator.userAgent):"undefined"!==typeof process&&process.version?new s(process.version.slice(1)):null}function p(e){return""!==e&&h.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function g(e){var t=p(e);if(!t)return null;var n=t[0],s=t[1];if("searchbot"===n)return new a;var c=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);c?c.length<u&&(c=r(r([],c,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(u-c.length),!0)):c=[];var h=c.join("."),f=function(e){for(var t=0,n=d.length;t<n;t++){var r=d[t],i=r[0];if(r[1].exec(e))return i}return null}(e),g=l.exec(e);return g&&g[1]?new o(n,h,f,g[1]):new i(n,h,f)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{293:"69ff7dac",389:"f28beffc",494:"849286a0",507:"dc2f0599",550:"b661aaf0",676:"6124238c",880:"ee10218f",965:"f8aefe8b",1017:"1f90d082",1516:"99a1a760",1641:"ceb9438a",1653:"bd131677",1687:"ee17c815",1950:"93f87769",2681:"6ee1c67d",2784:"660c5090",3061:"39a0fa6c",3196:"e7062b25",3288:"68231624",3874:"d225621c",4249:"265fe44c",4325:"865f7af3",4335:"4d4e17da",4435:"71cea8de",4504:"4d997f90",4829:"6416d3ca",5124:"09a9945c",5235:"9ee0a6f9",5563:"e33c53b7",5685:"a09f9206",5829:"92362e83",6080:"9d3c7365",6091:"431c8467",6226:"dc64add9",6330:"260d98bc",6435:"db265407",6453:"db448948",6454:"ffd0995b",6805:"c71f5766",6946:"4993a1d3",7163:"858102c5",7341:"fa220ad6",7405:"307f2fe6",7455:"cfc9058e",7491:"ccdc4558",7509:"fd6b4025",7545:"ba9ba055",8019:"0cd3d7c9",8091:"a46df1f1",8303:"fd0e09af",8377:"d74364ce",8438:"67672fc9",8646:"e7b086e5",8702:"71a13436",8808:"e8cdec78",9170:"9422e0f6",9296:"8db4926b",9321:"611f14a8",9532:"97aadf2c",9840:"e64f6d95"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nexus-global:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={8792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,a,c]=r,l=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunknexus_global=self.webpackChunknexus_global||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>eu,My:()=>Wl,Ph:()=>Ql,lX:()=>Jl,Id:()=>$l,fg:()=>ru,qj:()=>Xl,aT:()=>Gl,lq:()=>Yl,z:()=>Zl,Q5:()=>su});var t=n(5043),r=n.t(t,2),i=n(4391),s=n(3986),o=n(9379);const a=["sri"],c=["page"],l=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function p(){return E(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),w("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:v(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,o.A)((0,o.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c="POP",l=null,u=h();function h(){return(a.state||{idx:null}).idx}function d(){c="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:c,location:g.location,delta:t})}function p(e){return x(e)}null==u&&(u=0,a.replaceState((0,o.A)((0,o.A)({},a.state),{},{idx:u}),""));let g={get action(){return c},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f,d),l=e,()=>{i.removeEventListener(f,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c="PUSH";let r=w(g.location,e,t);n&&n(r,e),u=h()+1;let o=y(r,u),d=g.createHref(r);try{a.pushState(o,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:c,location:g.location,delta:1})},replace:function(e,t){c="REPLACE";let r=w(g.location,e,t);n&&n(r,e),u=h();let i=y(r,u),o=g.createHref(r);a.replaceState(i,"",o),s&&l&&l({action:c,location:g.location,delta:0})},go:e=>a.go(e)};return g}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),g(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function A(e,t){return S(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function S(e,t,n,r){let i=M(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let s=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=D(i);o=j(s[a],e,r)}return o}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,c={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&o)return;g(c.relativePath.startsWith(r),'Absolute route path "'.concat(c.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),c.relativePath=c.relativePath.slice(r.length)}let l=G([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(l,'".')),I(e.children,t,u,l,o)),(null!=e.path||e.index)&&t.push({path:l,score:B(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of k(e.path))s(e,t,!0,r);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=k(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,O=3,N=2,C=1,R=10,T=-2,_=e=>"*"===e;function B(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=T),t&&(r+=N),n.filter(e=>!_(e)).reduce((e,t)=>e+(P.test(t)?O:""===t?C:R),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],c=a===r.length-1,l="/"===s?t:t.slice(s.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),h=e.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:G([s,u.pathname]),pathnameBase:Q(G([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=G([s,u.pathnameBase]))}return o}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var F=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z=e=>F.test(e);function H(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,o.A)({},e),g(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),g(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),g(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let s,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:s=""}="string"===typeof e?b(e):e;if(r)if(z(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),m(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?H(r.substring(1),"/"):H(r,n)}else t=n;return{pathname:t,search:J(i),hash:Y(s)}}(r,s),u=c&&"/"!==c&&c.endsWith("/"),h=(a||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function X(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $=["POST","PUT","PATCH","DELETE"],ee=(new Set($),["GET",...$]);new Set(ee),Symbol("ResetLoaderData");var te=t.createContext(null);te.displayName="DataRouter";var ne=t.createContext(null);ne.displayName="DataRouterState";var re=t.createContext(!1);var ie=t.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var se=t.createContext(new Map);se.displayName="Fetchers";var oe=t.createContext(null);oe.displayName="Await";var ae=t.createContext(null);ae.displayName="Navigation";var ce=t.createContext(null);ce.displayName="Location";var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ue=t.createContext(null);ue.displayName="RouteError";function he(){return null!=t.useContext(ce)}function de(){return g(he(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ce).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){t.useContext(ae).static||t.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=t.useContext(le);return e?function(){let{router:e}=Se("useNavigate"),n=ke("useNavigate"),r=t.useRef(!1);pe(()=>{r.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(r.current,fe),r.current&&("number"===typeof t?await e.navigate(t):await e.navigate(t,(0,o.A)({fromRouteId:n},i)))},[e,n]);return i}():function(){g(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(te),{basename:n,navigator:r}=t.useContext(ae),{matches:i}=t.useContext(le),{pathname:s}=de(),o=JSON.stringify(W(i)),a=t.useRef(!1);pe(()=>{a.current=!0});let c=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(a.current,fe),!a.current)return;if("number"===typeof t)return void r.go(t);let c=K(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(c.pathname="/"===c.pathname?n:G([n,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[n,r,o,s,e]);return c}()}t.createContext(null);function me(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(le),{pathname:i}=de(),s=JSON.stringify(W(r));return t.useMemo(()=>K(e,JSON.parse(s),i,"path"===n),[e,s,i,n])}function ye(e,n,r,i,s){g(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=t.useContext(ae),{matches:c}=t.useContext(le),l=c[c.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ne(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,y=de();if(n){var w;let e="string"===typeof n?b(n):n;g("/"===d||(null===(w=e.pathname)||void 0===w?void 0:w.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=y;let v=p.pathname||"/",E=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=A(e,{pathname:E});m(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),m(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=xe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:G([d,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:G([d,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),c,r,i,s);return n&&S?t.createElement(ce.Provider,{value:{location:(0,o.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},S):S}function we(){let e=Pe(),n=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var ve=t.createElement(we,null),be=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ee(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(te);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},i)}function xe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,o=null===r||void 0===r?void 0:r.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));g(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,c=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){a=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}let l=r&&i?(e,t)=>{var n,s;i(e,{location:r.location,params:null!==(n=null===(s=r.matches)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.params)&&void 0!==n?n:{},unstable_pattern:X(r.matches),errorInfo:t})}:void 0;return s.reduceRight((e,i,u)=>{let h,d=!1,f=null,p=null;r&&(h=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||ve,a&&(c<0&&0===u?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===u&&(d=!0,p=i.route.hydrateFallbackElement||null)));let g=n.concat(s.slice(0,u+1)),m=()=>{let n;return n=h?f:d?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ee,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?t.createElement(be,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:l}):m()},null)}function Ae(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let n=t.useContext(te);return g(n,Ae(e)),n}function Ie(e){let n=t.useContext(ne);return g(n,Ae(e)),n}function ke(e){let n=function(e){let n=t.useContext(le);return g(n,Ae(e)),n}(e),r=n.matches[n.matches.length-1];return g(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Pe(){var e;let n=t.useContext(ue),r=Ie("useRouteError"),i=ke("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[i]}var Oe={};function Ne(e,t,n){t||Oe[e]||(Oe[e]=!0,m(!1,n))}var Ce={};function Re(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}r.useOptimistic;t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ye(t,void 0,r,i,n)});function Te(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _e(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1,unstable_useTransitions:c}=e;g(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:l,navigator:o,static:a,unstable_useTransitions:c,future:{}}),[l,o,a,c]);"string"===typeof i&&(i=b(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:y="default"}=i,w=t.useMemo(()=>{let e=M(h,l);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:y},navigationType:s}},[l,h,d,f,p,y,s]);return m(null!=w,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(h).concat(d).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==w?null:t.createElement(ae.Provider,{value:u},t.createElement(ce.Provider,{children:r,value:w}))}function Be(e){let{children:t,location:n}=e;return ye(je(t),n)}t.Component;function je(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,je(e.props.children,s));g(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),g(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,s)),r.push(o)}),r}var Ue="get",Le="application/x-www-form-urlencoded";function De(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Me=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Fe.has(e)?e:(m(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Le,'"')),null)}function He(e,t){let n,r,i,s,o;if(function(e){return De(e)&&"form"===e.tagName.toLowerCase()}(e)){let o=e.getAttribute("action");r=o?M(o,t):null,n=e.getAttribute("method")||Ue,i=ze(e.getAttribute("enctype"))||Le,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?M(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ue,i=ze(e.getAttribute("formenctype"))||ze(o.getAttribute("enctype"))||Le,s=new FormData(o,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ue,r=null,i=Le,o=e}return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===M(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var l;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(l=n[0])||void 0===l?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Je(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ye(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ke(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Ze(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let e=t.useContext(te);return qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=t.useContext(ne);return qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=t.createContext(void 0);function tt(){let e=t.useContext(et);return qe(e,"You must render this element inside a <HydratedRouter> element"),e}function nt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}et.displayName="FrameworkContext";function it(e){let{page:n}=e,r=(0,s.A)(e,c),{router:i}=Xe(),a=t.useMemo(()=>A(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?t.createElement(ot,(0,o.A)({page:n,matches:a},r)):null}function st(e){let{manifest:n,routeModules:r}=tt(),[i,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Ye((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await We(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ge).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,o.A)((0,o.A)({},e),{},{rel:"prefetch",as:"style"}):(0,o.A)((0,o.A)({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,r]),i}function ot(e){let{page:n,matches:r}=e,i=(0,s.A)(e,l),a=de(),{manifest:c,routeModules:u}=tt(),{basename:h}=Xe(),{loaderData:d,matches:f}=$e(),p=t.useMemo(()=>Qe(n,r,f,c,a,"data"),[n,r,f,c,a]),g=t.useMemo(()=>Qe(n,r,f,c,a,"assets"),[n,r,f,c,a]),m=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let i=c.routes[n.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=u[n.route.id])&&void 0!==r&&r.shouldRevalidate||i.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Ve(n,h,"data");return t&&e.size>0&&i.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[h,d,a,c,p,r,n,u]),y=t.useMemo(()=>Je(g,c),[g,c]),w=st(g);return t.createElement(t.Fragment,null,m.map(e=>t.createElement("link",(0,o.A)({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>t.createElement("link",(0,o.A)({key:e,rel:"modulepreload",href:e},i))),w.map(e=>{let{key:n,link:r}=e;return t.createElement("link",(0,o.A)({key:n,nonce:i.nonce},r))}))}var at=!1;function ct(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:c,routeDiscovery:l,ssr:u}=tt(),{router:h,static:d,staticContext:f}=Xe(),{matches:p}=$e(),g=t.useContext(re),m=Ze(l,u);c&&(c.didRenderScripts=!0);let y=rt(p,null,i);t.useEffect(()=>{0},[]);let w=t.useMemo(()=>{var i;if(g)return null;let c=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=d?"".concat(null!==n.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),i=n.routes[e.route.id];qe(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...c?[{module:c,varName:"".concat(r,"_HydrateFallback")}]:[],{module:l,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(l),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,s.A)(e,a),i=new Set(t.state.matches.map(e=>e.route.id)),c=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(c.pop();c.length>0;)l.push("/".concat(c.join("/"))),c.pop();l.forEach(e=>{let n=A(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let u=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,o.A)((0,o.A)({},r),{},{routes:u,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:void 0})),t.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:"module",async:!0})))},[]),v=at||g?[]:(n.entry.imports.concat(Je(y,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let E="object"===typeof n.sri?n.sri:{};return Re(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||g?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:E})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:E[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:E[n.entry.module],suppressHydrationWarning:!0}),v.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:E[n],suppressHydrationWarning:!0})),w)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ut(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(n))return t.createElement(ht,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ht,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function ht(e){var n;let{title:r,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=tt();return null!==a.root&&void 0!==n&&n.Layout&&!s?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?t.createElement(ct,null):null)))}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.10.1")}catch(kj){}function ft(e){let{basename:n,children:r,unstable_useTransitions:i,window:s}=e,o=t.useRef();null==o.current&&(o.current=p({window:s,v5Compat:!0}));let a=o.current,[c,l]=t.useState({action:a.action,location:a.location}),u=t.useCallback(e=>{!1===i?l(e):t.startTransition(()=>l(e))},[i]);return t.useLayoutEffect(()=>a.listen(u),[a,u]),t.createElement(_e,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:!0===i})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=t.forwardRef(function(e,n){let r,{onClick:i,discover:a="render",prefetch:c="none",relative:l,reloadDocument:h,replace:d,state:f,target:p,to:y,preventScrollReset:w,viewTransition:b}=e,E=(0,s.A)(e,u),{basename:x,unstable_useTransitions:A}=t.useContext(ae),S="string"===typeof y&&pt.test(y),I=!1;if("string"===typeof y&&S&&(r=y,dt))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=M(t.pathname,x);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:I=!0}catch(kj){m(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(ae),{hash:s,pathname:o,search:a}=me(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:G([r,o])),i.createHref({pathname:c,search:a,hash:s})}(y,{relative:l}),[P,O,N]=function(e,n){let r=t.useContext(et),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:nt(c,p),onBlur:nt(l,g),onMouseEnter:nt(u,p),onMouseLeave:nt(h,g),onTouchStart:nt(d,p)}]:[!1,f,{}]}(c,E),C=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),u=de(),h=me(e,{relative:o});return t.useCallback(d=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(d,n)){d.preventDefault();let n=void 0!==r?r:v(u)===v(h),f=()=>l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a});c?t.startTransition(()=>f()):f()}},[u,l,h,r,i,n,e,s,o,a,c])}(y,{replace:d,state:f,target:p,preventScrollReset:w,relative:l,viewTransition:b,unstable_useTransitions:A});let R=t.createElement("a",(0,o.A)((0,o.A)((0,o.A)({},E),N),{},{href:r||k,onClick:I||h?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:lt(n,O),target:p,"data-discover":S||"render"!==a?void 0:"true"}));return P&&!S?t.createElement(t.Fragment,null,R,t.createElement(it,{page:k})):R});gt.displayName="Link";var mt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:c=!1,style:l,to:u,viewTransition:d,children:f}=e,p=(0,s.A)(e,h),m=me(u,{relative:p.relative}),y=de(),w=t.useContext(ne),{navigator:v,basename:b}=t.useContext(ae),E=null!=w&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ie);g(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vt("useViewTransitionState"),s=me(e,{relative:n});if(!r.isTransitioning)return!1;let o=M(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=M(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=U(s.pathname,a)||null!=U(s.pathname,o)}(m)&&!0===d,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,A=y.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(A=A.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&b&&(S=M(S,b)||S);const I="/"!==x&&x.endsWith("/")?x.length-1:x.length;let k,P=A===x||!c&&A.startsWith(x)&&"/"===A.charAt(I),O=null!=S&&(S===x||!c&&S.startsWith(x)&&"/"===S.charAt(x.length)),N={isActive:P,isPending:O,isTransitioning:E},C=P?r:void 0;k="function"===typeof a?a(N):[a,P?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(N):l;return t.createElement(gt,(0,o.A)((0,o.A)({},p),{},{"aria-current":C,className:k,ref:n,style:R,to:u,viewTransition:d}),"function"===typeof f?f(N):f)});mt.displayName="NavLink";var yt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:a,reloadDocument:c,replace:l,state:u,method:h=Ue,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:w}=e,b=(0,s.A)(e,d),{unstable_useTransitions:E}=t.useContext(ae),x=xt(),A=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ae),i=t.useContext(le);g(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a=(0,o.A)({},me(e||".",{relative:n})),c=de();if(null==e){a.search=c.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:G([r,a.pathname]));return v(a)}(f,{relative:m}),S="get"===h.toLowerCase()?"get":"post",I="string"===typeof f&&pt.test(f);return t.createElement("form",(0,o.A)((0,o.A)({ref:n,method:S,action:A,onSubmit:c?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,r=(null===n||void 0===n?void 0:n.getAttribute("formmethod"))||h,s=()=>x(n||e.currentTarget,{fetcherKey:i,method:r,navigate:a,replace:l,state:u,relative:m,preventScrollReset:y,viewTransition:w});E&&!1!==a?t.startTransition(()=>s()):s()}},b),{},{"data-discover":I||"render"!==r?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let n=t.useContext(te);return g(n,wt(e)),n}yt.displayName="Form";var bt=0,Et=()=>"__".concat(String(++bt),"__");function xt(){let{router:e}=vt("useSubmit"),{basename:n}=t.useContext(ae),r=ke("useRouteId"),i=e.fetch,s=e.navigate;return t.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:c,formData:l,body:u}=He(e,n);if(!1===t.navigate){let e=t.fetcherKey||Et();await i(e,r,t.action||o,{preventScrollReset:t.preventScrollReset,formData:l,body:u,formMethod:t.method||a,formEncType:t.encType||c,flushSync:t.flushSync})}else await s(t.action||o,{preventScrollReset:t.preventScrollReset,formData:l,body:u,formMethod:t.method||a,formEncType:t.encType||c,replace:t.replace,state:t.state,fromRouteId:r,flushSync:t.flushSync,viewTransition:t.viewTransition})},[i,s,n,r])}var At=n(579);function St(){return(0,At.jsx)(At.Fragment,{children:(0,At.jsxs)("section",{className:"section-lg-t-space onboarding-section servicemen-onboarding-section position-relative",children:[(0,At.jsx)("div",{className:"servicemen-onboarding-image",style:{marginTop:"2px"},children:(0,At.jsx)("img",{className:"img-fluid servicemen-img",src:"/logo.png",alt:"Logo",style:{width:"120px"}})}),(0,At.jsx)("section",{className:"box-background",style:{paddingTop:"2px"},children:(0,At.jsx)("ul",{className:"booking-list",children:(0,At.jsx)("li",{className:"booking-box",style:{marginTop:"2px"},children:(0,At.jsx)("div",{className:"booking-details",children:(0,At.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,At.jsx)("div",{className:"service-content",children:(0,At.jsx)("div",{className:"d-flex align-items-start gap-2 mb-1",children:(0,At.jsx)("h5",{className:"theme-color fw-medium",children:"With Nexus Global Traders, smart earning starts today. Your dreams deserve progress."})})}),(0,At.jsx)("div",{className:"service-img",children:(0,At.jsx)("img",{className:"img-fluid img",src:"/rocket.gif",alt:"1"})})]})})})})}),(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("h2",{style:{color:"white",textAlign:"center"},children:"Nexus Global Traders"}),(0,At.jsxs)("p",{style:{color:"whitesmoke",marginTop:"10px"},children:[(0,At.jsx)("h5",{children:"About Us"}),"\u201cNexus Global Trader offers investors a scalable and professionally managed trading opportunity, focused on risk-managed strategies, capital efficiency, and consistent value creation in global markets.\u201d"]}),(0,At.jsxs)("p",{style:{color:"whitesmoke",marginTop:"10px"},children:[(0,At.jsx)("h5",{children:"What We Do?"}),"\u201cNexus Global Trader empowers individuals and businesses to unlock global market potential through advanced trading strategies, professional expertise, and sustainable profit-driven solutions.\u201d"]})]}),(0,At.jsx)("section",{class:"section-b-space",children:(0,At.jsxs)("div",{class:"custom-container",children:[(0,At.jsx)("div",{class:"title",children:(0,At.jsx)("h3",{children:"Our Associates"})}),(0,At.jsxs)("div",{class:"row g-3",children:[(0,At.jsx)("div",{class:"col-6",children:(0,At.jsxs)("div",{class:"available-servicemen-box",children:[(0,At.jsx)("a",{href:"servicemen-details.html",class:"servicemen-img",children:(0,At.jsx)("img",{class:"img-fluid image w-100",src:"/assets/images/profile/p13.png",alt:"1"})}),(0,At.jsxs)("div",{class:"service-details",children:[(0,At.jsx)("a",{href:"servicemen-details.html",children:(0,At.jsx)("h5",{children:"Daniel Wong"})}),(0,At.jsx)("h6",{children:"Financial Analyst"}),(0,At.jsx)("p",{style:{color:"yellowgreen"},children:"\u201cNexus Global Trader combines technology, expertise, and strategic planning into a comprehensive investment program that aligns well with long-term investor objectives.\u201d"})]})]})}),(0,At.jsx)("div",{class:"col-6",children:(0,At.jsxs)("div",{class:"available-servicemen-box",children:[(0,At.jsx)("a",{href:"servicemen-details.html",class:"servicemen-img",children:(0,At.jsx)("img",{class:"img-fluid image w-100",src:"/assets/images/profile/p4.png",alt:"2"})}),(0,At.jsxs)("div",{class:"service-details",children:[(0,At.jsx)("a",{href:"servicemen-details.html",children:(0,At.jsx)("h5",{children:"Michael Anderson"})}),(0,At.jsx)("h6",{children:"Portfolio Strategist"}),(0,At.jsx)("p",{style:{color:"yellowgreen"},children:"\u201cNexus Global Trader stands out for its strategic execution and market expertise. The program reflects a deep understanding of global trading dynamics and capital efficiency.\u201d"})]})]})}),(0,At.jsx)("div",{class:"col-6",children:(0,At.jsxs)("div",{class:"available-servicemen-box",children:[(0,At.jsx)("a",{href:"servicemen-details.html",class:"servicemen-img",children:(0,At.jsx)("img",{class:"img-fluid image w-100",src:"/assets/images/profile/p8.png",alt:"3"})}),(0,At.jsxs)("div",{class:"service-details",children:[(0,At.jsx)("a",{href:"servicemen-details.html",children:(0,At.jsx)("h5",{children:"Rajiv Malhotra"})}),(0,At.jsx)("h6",{children:"Business Consultant"}),(0,At.jsx)("p",{style:{color:"yellowgreen"},children:"\u201cNexus Global Trader provides a well-structured program backed by disciplined strategies and transparency. The professional approach and clear communication give investors strong confidence in long-term growth.\u201d"})]})]})}),(0,At.jsx)("div",{class:"col-6",children:(0,At.jsxs)("div",{class:"available-servicemen-box",children:[(0,At.jsx)("a",{href:"servicemen-details.html",class:"servicemen-img",children:(0,At.jsx)("img",{class:"img-fluid image w-100",src:"/assets/images/profile/p9.png",alt:"4"})}),(0,At.jsxs)("div",{class:"service-details",children:[(0,At.jsx)("a",{href:"servicemen-details.html",children:(0,At.jsx)("h5",{children:"Angela Bower"})}),(0,At.jsx)("h6",{children:"Entrepreneur"}),(0,At.jsx)("p",{style:{color:"yellowgreen"},children:"\u201cThe Nexus programs are professionally managed and clearly structured. It is an excellent opportunity for individuals seeking disciplined participation in global financial markets.\u201d"})]})]})})]})]})}),(0,At.jsx)("div",{className:"panel-space"}),(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsx)("div",{className:"servicemen-onboarding-details",children:(0,At.jsx)("div",{className:"mt-3",children:(0,At.jsx)(gt,{to:"/sign",className:"btn theme-btn w-100",children:"Launch App"})})})})]})})}function It(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kt(e,t,n){It(e,t),t.set(e,n)}function Pt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Ot(e,t){return e.get(Pt(e,t))}function Nt(e,t,n){return e.set(Pt(e,t),n),n}function Ct(e,t,n){const r=t.split("|").map(e=>e.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error("invalid value for type ".concat(t));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=e,i}async function Rt(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function Tt(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&Ct(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function _t(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>_t(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return _t(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>"".concat(_t(n,t),": ").concat(_t(e[n],t))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Bt(e,t){return e&&e.code===t}function jt(e){return Bt(e,"CALL_EXCEPTION")}function Ut(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(_t(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+_t(t))}}r.push("code=".concat(t)),r.push("version=".concat("6.16.0")),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return Tt(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&Tt(r,{shortMessage:i}),r}function Lt(e,t,n,r){if(!e)throw Ut(t,n,r)}function Dt(e,t,n,r){Lt(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function Mt(e,t,n){null==n&&(n=""),n&&(n=": "+n),Lt(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Lt(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Ft=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function zt(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),Lt(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function Ht(e,t){It(e,t),t.add(e)}var qt=n(4467);function Vt(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.length%2===0&&e.match(/^0x[0-9a-f]*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}Dt(!1,"invalid BytesLike value",t||"value",e)}function Wt(e,t){return Vt(e,t,!1)}function Kt(e,t){return Vt(e,t,!0)}function Gt(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function Qt(e){return Gt(e,!0)||e instanceof Uint8Array}const Jt="0123456789abcdef";function Yt(e){const t=Wt(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=Jt[(240&e)>>4]+Jt[15&e]}return n}function Zt(e){return"0x"+e.map(e=>Yt(e).substring(2)).join("")}function Xt(e){return Gt(e,!0)?(e.length-2)/2:Wt(e).length}function $t(e,t,n){const r=Wt(e);return null!=n&&n>r.length&&Lt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Yt(r.slice(null==t?0:t,null==n?r.length:n))}function en(e,t,n){const r=Wt(e);Lt(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),Yt(i)}function tn(e,t){return en(e,t,!0)}const nn=BigInt(0),rn=BigInt(1),sn=9007199254740991;function on(e,t){const n=un(e,"value"),r=BigInt(fn(t,"width"));if(Lt(n>>r===nn,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-rn){return-((~n&(rn<<r)-rn)+rn)}return n}function an(e,t){let n=ln(e,"value");const r=BigInt(fn(t,"width")),i=rn<<r-rn;if(n<nn){n=-n,Lt(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(rn<<r)-rn)+rn}return Lt(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function cn(e,t){const n=un(e,"value"),r=BigInt(fn(t,"bits"));return n&(rn<<r)-rn}function ln(e,t){switch(typeof e){case"bigint":return e;case"number":return Dt(Number.isInteger(e),"underflow",t||"value",e),Dt(e>=-sn&&e<=sn,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(kj){Dt(!1,"invalid BigNumberish string: ".concat(kj.message),t||"value",e)}}Dt(!1,"invalid BigNumberish value",t||"value",e)}function un(e,t){const n=ln(e,t);return Lt(n>=nn,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const hn="0123456789abcdef";function dn(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=hn[n>>4],t+=hn[15&n];return BigInt(t)}return ln(e)}function fn(e,t){switch(typeof e){case"bigint":return Dt(e>=-sn&&e<=sn,"overflow",t||"value",e),Number(e);case"number":return Dt(Number.isInteger(e),"underflow",t||"value",e),Dt(e>=-sn&&e<=sn,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return fn(BigInt(e),t)}catch(kj){Dt(!1,"invalid numeric string: ".concat(kj.message),t||"value",e)}}Dt(!1,"invalid numeric value",t||"value",e)}function pn(e,t){const n=un(e,"value");let r=n.toString(16);if(null==t)r.length%2&&(r="0"+r);else{const i=fn(t,"width");if(0===i&&n===nn)return"0x";for(Lt(2*i>=r.length,"value exceeds width (".concat(i," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*i;)r="0"+r}return"0x"+r}function gn(e,t){const n=un(e,"value");if(n===nn){const e=null!=t?fn(t,"width"):0;return new Uint8Array(e)}let r=n.toString(16);if(r.length%2&&(r="0"+r),null!=t){const n=fn(t,"width");for(;r.length<2*n;)r="00"+r;Lt(2*n===r.length,"value exceeds width (".concat(n," bytes)"),"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:e})}const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const e=2*s;i[s]=parseInt(r.substring(e,e+2),16)}return i}function mn(e){let t=Yt(Qt(e)?e:gn(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const yn=32,wn=new Uint8Array(yn),vn=["then"],bn={},En=new WeakMap;function xn(e){return En.get(e)}function An(e,t){En.set(e,t)}function Sn(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function In(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof Pn?In(xn(e),e,n):e):e.reduce((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof Pn&&(s=In(xn(s),s,n)),e[r]=s),e},{})}var kn=new WeakMap;class Pn extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==bn&&(i=t,s=[],o=!1),super(i.length),kt(this,kn,void 0),i.forEach((e,t)=>{this[t]=e});const a=s.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(An(this,Object.freeze(i.map((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null}))),Nt(kn,this,[]),null==Ot(kn,this)&&Ot(kn,this),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=fn(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Sn("index ".concat(n),r),r}if(vn.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return An(c,xn(this)),c}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&Sn("index ".concat(r),n),e&&n instanceof Pn&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=xn(this);return t.reduce((n,r,i)=>(Lt(null!=r,"value at index ".concat(i," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),In(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=xn(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new Pn(bn,r,i)}filter(e,t){const n=xn(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Sn("index ".concat(s),o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new Pn(bn,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&Sn("index ".concat(r),i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=xn(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Sn("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new Pn(bn,e,t)}}function On(e){let t=gn(e);return Lt(t.length<=yn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:yn,offset:t.length}),t.length!==yn&&(t=Kt(Zt([wn.slice(t.length%yn),t]))),t}class Nn{constructor(e,t,n,r){(0,qt.A)(this,"name",void 0),(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"localName",void 0),(0,qt.A)(this,"dynamic",void 0),Tt(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Dt(!1,e,this.localName,t)}}var Cn=new WeakMap,Rn=new WeakMap,Tn=new WeakSet;class _n{constructor(){Ht(this,Tn),kt(this,Cn,void 0),kt(this,Rn,void 0),Nt(Cn,this,[]),Nt(Rn,this,0)}get data(){return Zt(Ot(Cn,this))}get length(){return Ot(Rn,this)}appendWriter(e){return Pt(Tn,this,Bn).call(this,Kt(e.data))}writeBytes(e){let t=Kt(e);const n=t.length%yn;return n&&(t=Kt(Zt([t,wn.slice(n)]))),Pt(Tn,this,Bn).call(this,t)}writeValue(e){return Pt(Tn,this,Bn).call(this,On(e))}writeUpdatableValue(){const e=Ot(Cn,this).length;return Ot(Cn,this).push(wn),Nt(Rn,this,Ot(Rn,this)+yn),t=>{Ot(Cn,this)[e]=On(t)}}}function Bn(e){return Ot(Cn,this).push(e),Nt(Rn,this,Ot(Rn,this)+e.length),e.length}var jn=new WeakMap,Un=new WeakMap,Ln=new WeakMap,Dn=new WeakMap,Mn=new WeakMap,Fn=new WeakSet;class zn{constructor(e,t,n){Ht(this,Fn),(0,qt.A)(this,"allowLoose",void 0),kt(this,jn,void 0),kt(this,Un,void 0),kt(this,Ln,void 0),kt(this,Dn,void 0),kt(this,Mn,void 0),Tt(this,{allowLoose:!!t}),Nt(jn,this,Kt(e)),Nt(Ln,this,0),Nt(Dn,this,null),Nt(Mn,this,null!=n?n:1024),Nt(Un,this,0)}get data(){return Yt(Ot(jn,this))}get dataLength(){return Ot(jn,this).length}get consumed(){return Ot(Un,this)}get bytes(){return new Uint8Array(Ot(jn,this))}subReader(e){const t=new zn(Ot(jn,this).slice(Ot(Un,this)+e),this.allowLoose,Ot(Mn,this));return Nt(Dn,t,this),t}readBytes(e,t){let n=Pt(Fn,this,qn).call(this,0,e,!!t);return Pt(Fn,this,Hn).call(this,e),Nt(Un,this,Ot(Un,this)+n.length),n.slice(0,e)}readValue(){return dn(this.readBytes(yn))}readIndex(){return fn(dn(this.readBytes(yn)))}}function Hn(e){var t;if(Ot(Dn,this))return Pt(Fn,t=Ot(Dn,this),Hn).call(t,e);Nt(Ln,this,Ot(Ln,this)+e),Lt(Ot(Mn,this)<1||Ot(Ln,this)<=Ot(Mn,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(Ot(Mn,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:Kt(Ot(jn,this)),offset:Ot(Un,this),length:e,info:{bytesRead:Ot(Ln,this),dataLength:this.dataLength}})}function qn(e,t,n){let r=Math.ceil(t/yn)*yn;return Ot(Un,this)+r>Ot(jn,this).length&&(this.allowLoose&&n&&Ot(Un,this)+t<=Ot(jn,this).length?r=t:Lt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Kt(Ot(jn,this)),length:Ot(jn,this).length,offset:Ot(Un,this)+r})),Ot(jn,this).slice(Ot(Un,this),Ot(Un,this)+r)}function Vn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Wn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Kn(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Vn(e.outputLen),Vn(e.blockLen)}function Gn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Qn(e,t){Wn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Jn=BigInt(2**32-1),Yn=BigInt(32);function Zn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Jn),l:Number(e>>Yn&Jn)}:{h:0|Number(e>>Yn&Jn),l:0|Number(e&Jn)}}function Xn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Zn(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const $n=(e,t,n)=>e<<n|t>>>32-n,er=(e,t,n)=>t<<n|e>>>32-n,tr=(e,t,n)=>t<<n-32|e>>>64-n,nr=(e,t,n)=>e<<n-32|t>>>64-n;const rr={fromBig:Zn,split:Xn,toBig:(e,t)=>BigInt(e>>>0)<<Yn|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:$n,rotlSL:er,rotlBH:tr,rotlBL:nr,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},ir=rr,sr="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,or=e=>e instanceof Uint8Array,ar=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),cr=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function lr(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!or(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class ur{clone(){return this._cloneInto()}}function hr(e){const t=t=>e().update(lr(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(sr&&"function"===typeof sr.getRandomValues)return sr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[fr,pr,gr]=[[],[],[]],mr=BigInt(0),yr=BigInt(1),wr=BigInt(2),vr=BigInt(7),br=BigInt(256),Er=BigInt(113);for(let n=0,Pj=yr,Oj=1,Nj=0;n<24;n++){[Oj,Nj]=[Nj,(2*Oj+3*Nj)%5],fr.push(2*(5*Nj+Oj)),pr.push((n+1)*(n+2)/2%64);let e=mr;for(let t=0;t<7;t++)Pj=(Pj<<yr^(Pj>>vr)*Er)%br,Pj&wr&&(e^=yr<<(yr<<BigInt(t))-yr);gr.push(e)}const[xr,Ar]=Xn(gr,!0),Sr=(e,t,n)=>n>32?tr(e,t,n):$n(e,t,n),Ir=(e,t,n)=>n>32?nr(e,t,n):er(e,t,n);class kr extends ur{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Sr(s,o,1)^n[t],c=Ir(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=pr[n],s=Sr(t,i,r),o=Ir(t,i,r),a=fr[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=xr[r],e[1]^=Ar[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Gn(this);const{blockLen:t,state:n}=this,r=(e=lr(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Gn(this,!1),Wn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Qn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new kr(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Pr=(e,t,n)=>hr(()=>new kr(t,e,n)),Or=Pr(1,136,32);let Nr=!1;const Cr=function(e){return Or(e)};let Rr=Cr;function Tr(e){const t=Wt(e,"data");return Yt(Rr(t))}Tr._=Cr,Tr.lock=function(){Nr=!0},Tr.register=function(e){if(Nr)throw new TypeError("keccak256 is locked");Rr=e},Object.freeze(Tr);const _r=BigInt(0),Br=BigInt(36);function jr(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=Wt(Tr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Ur={};for(let n=0;n<10;n++)Ur[String(n)]=String(n);for(let n=0;n<26;n++)Ur[String.fromCharCode(65+n)]=String(10+n);function Lr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>Ur[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const Dr=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Mr(e){if(Dt("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=jr(e);return Dt(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Dt(e.substring(2,4)===Lr(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=_r;for(let n=0;n<e.length;n++)t=t*Br+Dr[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return jr("0x"+t)}Dt(!1,"invalid address","address",e)}const Fr={};function zr(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Wr(Fr,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function Hr(e,t){return new Wr(Fr,"bytes".concat(t||""),e,{size:t})}const qr=Symbol.for("_ethers_typed");var Vr=new WeakMap;class Wr{constructor(e,t,n,r){(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"value",void 0),kt(this,Vr,void 0),(0,qt.A)(this,"_typedSymbol",void 0),null==r&&(r=null),zt(Fr,e,"Typed"),Tt(this,{_typedSymbol:qr,type:t,value:n}),Nt(Vr,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(e=>e.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return Ot(Vr,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===Ot(Vr,this)?-1:!1===Ot(Vr,this)?this.value.length:null}static from(e,t){return new Wr(Fr,e,t)}static uint8(e){return zr(e,8)}static uint16(e){return zr(e,16)}static uint24(e){return zr(e,24)}static uint32(e){return zr(e,32)}static uint40(e){return zr(e,40)}static uint48(e){return zr(e,48)}static uint56(e){return zr(e,56)}static uint64(e){return zr(e,64)}static uint72(e){return zr(e,72)}static uint80(e){return zr(e,80)}static uint88(e){return zr(e,88)}static uint96(e){return zr(e,96)}static uint104(e){return zr(e,104)}static uint112(e){return zr(e,112)}static uint120(e){return zr(e,120)}static uint128(e){return zr(e,128)}static uint136(e){return zr(e,136)}static uint144(e){return zr(e,144)}static uint152(e){return zr(e,152)}static uint160(e){return zr(e,160)}static uint168(e){return zr(e,168)}static uint176(e){return zr(e,176)}static uint184(e){return zr(e,184)}static uint192(e){return zr(e,192)}static uint200(e){return zr(e,200)}static uint208(e){return zr(e,208)}static uint216(e){return zr(e,216)}static uint224(e){return zr(e,224)}static uint232(e){return zr(e,232)}static uint240(e){return zr(e,240)}static uint248(e){return zr(e,248)}static uint256(e){return zr(e,256)}static uint(e){return zr(e,256)}static int8(e){return zr(e,-8)}static int16(e){return zr(e,-16)}static int24(e){return zr(e,-24)}static int32(e){return zr(e,-32)}static int40(e){return zr(e,-40)}static int48(e){return zr(e,-48)}static int56(e){return zr(e,-56)}static int64(e){return zr(e,-64)}static int72(e){return zr(e,-72)}static int80(e){return zr(e,-80)}static int88(e){return zr(e,-88)}static int96(e){return zr(e,-96)}static int104(e){return zr(e,-104)}static int112(e){return zr(e,-112)}static int120(e){return zr(e,-120)}static int128(e){return zr(e,-128)}static int136(e){return zr(e,-136)}static int144(e){return zr(e,-144)}static int152(e){return zr(e,-152)}static int160(e){return zr(e,-160)}static int168(e){return zr(e,-168)}static int176(e){return zr(e,-176)}static int184(e){return zr(e,-184)}static int192(e){return zr(e,-192)}static int200(e){return zr(e,-200)}static int208(e){return zr(e,-208)}static int216(e){return zr(e,-216)}static int224(e){return zr(e,-224)}static int232(e){return zr(e,-232)}static int240(e){return zr(e,-240)}static int248(e){return zr(e,-248)}static int256(e){return zr(e,-256)}static int(e){return zr(e,-256)}static bytes1(e){return Hr(e,1)}static bytes2(e){return Hr(e,2)}static bytes3(e){return Hr(e,3)}static bytes4(e){return Hr(e,4)}static bytes5(e){return Hr(e,5)}static bytes6(e){return Hr(e,6)}static bytes7(e){return Hr(e,7)}static bytes8(e){return Hr(e,8)}static bytes9(e){return Hr(e,9)}static bytes10(e){return Hr(e,10)}static bytes11(e){return Hr(e,11)}static bytes12(e){return Hr(e,12)}static bytes13(e){return Hr(e,13)}static bytes14(e){return Hr(e,14)}static bytes15(e){return Hr(e,15)}static bytes16(e){return Hr(e,16)}static bytes17(e){return Hr(e,17)}static bytes18(e){return Hr(e,18)}static bytes19(e){return Hr(e,19)}static bytes20(e){return Hr(e,20)}static bytes21(e){return Hr(e,21)}static bytes22(e){return Hr(e,22)}static bytes23(e){return Hr(e,23)}static bytes24(e){return Hr(e,24)}static bytes25(e){return Hr(e,25)}static bytes26(e){return Hr(e,26)}static bytes27(e){return Hr(e,27)}static bytes28(e){return Hr(e,28)}static bytes29(e){return Hr(e,29)}static bytes30(e){return Hr(e,30)}static bytes31(e){return Hr(e,31)}static bytes32(e){return Hr(e,32)}static address(e){return new Wr(Fr,"address",e)}static bool(e){return new Wr(Fr,"bool",!!e)}static bytes(e){return new Wr(Fr,"bytes",e)}static string(e){return new Wr(Fr,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Wr(Fr,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===qr}static dereference(e,t){if(Wr.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class Kr extends Nn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Wr.dereference(t,"string");try{n=Mr(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return Mr(pn(e.readValue(),20))}}class Gr extends Nn{constructor(e){super(e.name,e.type,"_",e.dynamic),(0,qt.A)(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Qr(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return Lt(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),Lt(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else Dt(!1,"invalid tuple value","tuple",n);Dt(t.length===r.length,"types/value length mismatch","tuple",n);let i=new _n,s=new _n,o=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push(e=>{r(e+t)})}else e.encode(i,n)}),o.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Jr(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(Bt(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(Bt(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)}),Pn.fromItems(n,r)}class Yr extends Nn{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),(0,qt.A)(this,"coder",void 0),(0,qt.A)(this,"length",void 0),Tt(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=Wr.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),Mt(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return Qr(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Lt(t*yn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*yn,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new Gr(this.coder));return Jr(e,n)}}class Zr extends Nn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=Wr.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Xr extends Nn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Kt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class $r extends Xr{constructor(e){super("bytes",e)}decode(e){return Yt(super.decode(e))}}class ei extends Nn{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),(0,qt.A)(this,"size",void 0),Tt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=Kt(Wr.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return Yt(e.readBytes(this.size))}}const ti=new Uint8Array([]);class ni extends Nn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(ti)}decode(e){return e.readBytes(0),null}}const ri=BigInt(0),ii=BigInt(1),si=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class oi extends Nn{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),(0,qt.A)(this,"size",void 0),(0,qt.A)(this,"signed",void 0),Tt(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=ln(Wr.dereference(t,this.type)),r=cn(si,256);if(this.signed){let e=cn(r,8*this.size-1);(n>e||n<-(e+ii))&&this._throwError("value out-of-bounds",t),n=an(n,256)}else(n<ri||n>cn(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=cn(e.readValue(),8*this.size);return this.signed&&(t=on(t,8*this.size)),t}}function ai(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const ci=Object.freeze({error:function(e,t,n,r,i){Dt(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:ai,replace:function(e,t,n,r,i){return"OVERLONG"===e?(Dt("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),ai(e,t,n))}});function li(e,t){null==t&&(t=ci.error);const n=Wt(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function ui(e,t){Dt("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){Lt(Ft.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);Dt(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function hi(e,t){return li(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class di extends Xr{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ui(Wr.dereference(t,"string")))}decode(e){return hi(super.decode(e))}}class fi extends Nn{constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),(0,qt.A)(this,"coders",void 0),Tt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,t){const n=Wr.dereference(t,"tuple");return Qr(e,this.coders,n)}decode(e){return Jr(e,this.coders)}}function pi(e){return Tr(ui(e))}var gi;function mi(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const yi=mi("external public payable override".split(" ")),wi="constant external internal payable private public pure view override",vi=mi(wi.split(" ")),bi="constructor error event fallback function receive struct",Ei=mi(bi.split(" ")),xi="calldata memory storage payable indexed",Ai=mi(xi.split(" ")),Si=mi([bi,xi,"tuple returns",wi].join(" ").split(" ")),Ii={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ki=new RegExp("^(\\s*)"),Pi=new RegExp("^([0-9]+)"),Oi=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Ni=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ci=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ri=new WeakMap,Ti=new WeakMap,_i=new WeakSet;class Bi{get offset(){return Ot(Ri,this)}get length(){return Ot(Ti,this).length-Ot(Ri,this)}constructor(e){Ht(this,_i),kt(this,Ri,void 0),kt(this,Ti,void 0),Nt(Ri,this,0),Nt(Ti,this,e.slice())}clone(){return new Bi(Ot(Ti,this))}reset(){Nt(Ri,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=Pt(_i,this,ji).call(this,Ot(Ri,this)+1,e.match+1);return Nt(Ri,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;Ot(Ri,this)<e.match-1;){const e=this.peek().linkNext;t.push(Pt(_i,this,ji).call(this,Ot(Ri,this)+1,e)),Nt(Ri,this,e)}return Nt(Ri,this,e.match+1),t}peek(){if(Ot(Ri,this)>=Ot(Ti,this).length)throw new Error("out-of-bounds");return Ot(Ti,this)[Ot(Ri,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return Nt(Ri,this,(e=Ot(Ri,this),e++,e)),t}toString(){const e=[];for(let t=Ot(Ri,this);t<Ot(Ti,this).length;t++){const n=Ot(Ti,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new gi(Ot(Ti,this).slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}function Ui(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(s,": ").concat(t))};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(ki);a&&(s+=a[1].length,o=e.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=Ii[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=fn(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Oi),a){if(c.text=a[1],s+=c.text.length,Si.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Ci)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(Pi),!a)throw new Error("unexpected token ".concat(JSON.stringify(o[0])," at position ").concat(s));c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new Bi(t.map(e=>Object.freeze(e)))}function Li(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function Di(e,t){if(t.peekKeyword(Ei)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function Mi(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function Fi(e){let t=Mi(e,vi);return Li(t,mi("constant payable nonpayable".split(" "))),Li(t,mi("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function zi(e,t){return e.popParams().map(e=>ns.from(e,t))}function Hi(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ln(e.pop().text);throw new Error("invalid gas")}return null}function qi(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}gi=Bi;const Vi=new RegExp(/^(.*)\[([0-9]*)\]$/);function Wi(e){const t=e.match(Ci);if(Dt(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);Dt(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);Dt(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const Ki={},Gi=Symbol.for("_ethers_internal"),Qi="_ParamTypeInternal",Ji="_ErrorInternal",Yi="_EventInternal",Zi="_ConstructorInternal",Xi="_FallbackInternal",$i="_FunctionInternal",es="_StructInternal";var ts=new WeakSet;class ns{constructor(e,t,n,r,i,s,o,a){if(Ht(this,ts),(0,qt.A)(this,"name",void 0),(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"baseType",void 0),(0,qt.A)(this,"indexed",void 0),(0,qt.A)(this,"components",void 0),(0,qt.A)(this,"arrayLength",void 0),(0,qt.A)(this,"arrayChildren",void 0),zt(e,Ki,"ParamType"),Object.defineProperty(this,Gi,{value:Qi}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");Tt(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return Pt(ts,this,rs).call(this,n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(ns.isParamType(e))return e;if("string"===typeof e)try{return ns.from(Ui(e),t)}catch(o){Dt(!1,"invalid param type","obj",e)}else if(e instanceof Bi){let n="",r="",i=null;Mi(e,mi(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map(e=>ns.from(e)),n="tuple(".concat(i.map(e=>e.format()).join(","),")")):(n=Wi(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new ns(Ki,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(Mi(e,Ai).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ns(Ki,c,n,r,a,i,o,s)}const n=e.name;Dt(!n||"string"===typeof n&&n.match(Ni),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(Dt(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(Vi);if(s){const t=parseInt(s[2]||"-1"),o=ns.from({type:s[1],components:e.components});return new ns(Ki,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map(e=>ns.from(e)):null;return new ns(Ki,n||"",i,"tuple",r,t,null,null)}return i=Wi(e.type),new ns(Ki,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[Gi]===Qi}}function rs(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach((t,r)=>{Pt(ts,i,rs).call(i,e,t,n,e=>{s[r]=e})}),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach((t,r)=>{var o;Pt(ts,o=i[r],rs).call(o,e,t,n,e=>{s[r]=e})}),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}class is{constructor(e,t,n){(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"inputs",void 0),zt(e,Ki,"Fragment"),Tt(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{is.from(JSON.parse(e))}catch(kj){}return is.from(Ui(e))}if(e instanceof Bi){switch(e.peekKeyword(Ei)){case"constructor":return ls.from(e);case"error":return as.from(e);case"event":return cs.from(e);case"fallback":case"receive":return us.from(e);case"function":return hs.from(e);case"struct":return ds.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return ls.from(e);case"error":return as.from(e);case"event":return cs.from(e);case"fallback":case"receive":return us.from(e);case"function":return hs.from(e);case"struct":return ds.from(e)}Lt(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Dt(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ls.isFragment(e)}static isError(e){return as.isFragment(e)}static isEvent(e){return cs.isFragment(e)}static isFunction(e){return hs.isFragment(e)}static isStruct(e){return ds.isFragment(e)}}class ss extends is{constructor(e,t,n,r){super(e,t,r),(0,qt.A)(this,"name",void 0),Dt("string"===typeof n&&n.match(Ni),"invalid identifier","name",n),r=Object.freeze(r.slice()),Tt(this,{name:n})}}function os(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class as extends ss{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,Gi,{value:Ji})}get selector(){return pi(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+os(e,this.inputs)),t.join(" ")}static from(e){if(as.isFragment(e))return e;if("string"===typeof e)return as.from(Ui(e));if(e instanceof Bi){const t=Di("error",e),n=zi(e);return qi(e),new as(Ki,t,n)}return new as(Ki,e.name,e.inputs?e.inputs.map(ns.from):[])}static isFragment(e){return e&&e[Gi]===Ji}}class cs extends ss{constructor(e,t,n,r){super(e,"event",t,n),(0,qt.A)(this,"anonymous",void 0),Object.defineProperty(this,Gi,{value:Yi}),Tt(this,{anonymous:r})}get topicHash(){return pi(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+os(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>ns.from(e));return new cs(Ki,e,t,!1).topicHash}static from(e){if(cs.isFragment(e))return e;if("string"===typeof e)try{return cs.from(Ui(e))}catch(t){Dt(!1,"invalid event fragment","obj",e)}else if(e instanceof Bi){const t=Di("event",e),n=zi(e,!0),r=!!Mi(e,mi(["anonymous"])).has("anonymous");return qi(e),new cs(Ki,t,n,r)}return new cs(Ki,e.name,e.inputs?e.inputs.map(e=>ns.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Gi]===Yi}}class ls extends is{constructor(e,t,n,r,i){super(e,t,n),(0,qt.A)(this,"payable",void 0),(0,qt.A)(this,"gas",void 0),Object.defineProperty(this,Gi,{value:Zi}),Tt(this,{payable:r,gas:i})}format(e){if(Lt(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=["constructor".concat(os(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(ls.isFragment(e))return e;if("string"===typeof e)try{return ls.from(Ui(e))}catch(t){Dt(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Bi){Mi(e,mi(["constructor"]));const t=zi(e),n=!!Mi(e,yi).has("payable"),r=Hi(e);return qi(e),new ls(Ki,"constructor",t,n,r)}return new ls(Ki,"constructor",e.inputs?e.inputs.map(ns.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Gi]===Zi}}class us extends is{constructor(e,t,n){super(e,"fallback",t),(0,qt.A)(this,"payable",void 0),Object.defineProperty(this,Gi,{value:Xi}),Tt(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(us.isFragment(e))return e;if("string"===typeof e)try{return us.from(Ui(e))}catch(t){Dt(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Bi){const t=e.toString();Dt(e.peekKeyword(mi(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(mi(["fallback","receive"]))){const t=zi(e);return Dt(0===t.length,"receive cannot have arguments","obj.inputs",t),Mi(e,mi(["payable"])),qi(e),new us(Ki,[],!0)}let n=zi(e);n.length?Dt(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[ns.from("bytes")];const r=Fi(e);if(Dt("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Mi(e,mi(["returns"])).has("returns")){const t=zi(e);Dt(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return qi(e),new us(Ki,n,"payable"===r)}if("receive"===e.type)return new us(Ki,[],!0);if("fallback"===e.type){const t=[ns.from("bytes")],n="payable"===e.stateMutability;return new us(Ki,t,n)}Dt(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Gi]===Xi}}class hs extends ss{constructor(e,t,n,r,i,s){super(e,"function",t,r),(0,qt.A)(this,"constant",void 0),(0,qt.A)(this,"outputs",void 0),(0,qt.A)(this,"stateMutability",void 0),(0,qt.A)(this,"payable",void 0),(0,qt.A)(this,"gas",void 0),Object.defineProperty(this,Gi,{value:$i});Tt(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return pi(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+os(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(os(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>ns.from(e));return new hs(Ki,e,"view",t,[],null).selector}static from(e){if(hs.isFragment(e))return e;if("string"===typeof e)try{return hs.from(Ui(e))}catch(n){Dt(!1,"invalid function fragment","obj",e)}else if(e instanceof Bi){const t=Di("function",e),n=zi(e),r=Fi(e);let i=[];Mi(e,mi(["returns"])).has("returns")&&(i=zi(e));const s=Hi(e);return qi(e),new hs(Ki,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new hs(Ki,e.name,t,e.inputs?e.inputs.map(ns.from):[],e.outputs?e.outputs.map(ns.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[Gi]===$i}}class ds extends ss{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,Gi,{value:es})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return ds.from(Ui(e))}catch(t){Dt(!1,"invalid struct fragment","obj",e)}else if(e instanceof Bi){const t=Di("struct",e),n=zi(e);return qi(e),new ds(Ki,t,n)}return new ds(Ki,e.name,e.inputs?e.inputs.map(ns.from):[])}static isFragment(e){return e&&e[Gi]===es}}const fs=new Map;fs.set(0,"GENERIC_PANIC"),fs.set(1,"ASSERT_FALSE"),fs.set(17,"OVERFLOW"),fs.set(18,"DIVIDE_BY_ZERO"),fs.set(33,"ENUM_RANGE_ERROR"),fs.set(34,"BAD_STORAGE_DATA"),fs.set(49,"STACK_UNDERFLOW"),fs.set(50,"ARRAY_RANGE_ERROR"),fs.set(65,"OUT_OF_MEMORY"),fs.set(81,"UNINITIALIZED_FUNCTION_CALL");const ps=new RegExp(/^bytes([0-9]*)$/),gs=new RegExp(/^(u?int)([0-9]*)$/);let ms=null,ys=1024;var ws=new WeakSet;class vs{constructor(){Ht(this,ws)}getDefaultValue(e){const t=e.map(e=>Pt(ws,this,bs).call(this,ns.from(e)));return new fi(t,"_").defaultValue()}encode(e,t){Mt(t.length,e.length,"types/values length mismatch");const n=e.map(e=>Pt(ws,this,bs).call(this,ns.from(e))),r=new fi(n,"_"),i=new _n;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map(e=>Pt(ws,this,bs).call(this,ns.from(e)));return new fi(r,"_").decode(new zn(t,n,ys))}static _setDefaultMaxInflation(e){Dt("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),ys=e}static defaultAbiCoder(){return null==ms&&(ms=new vs),ms}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=Wt(n);if(n=Yt(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Yt(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=": ".concat(JSON.stringify(s))}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Yt(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s="Panic due to ".concat(fs.get(t)||"UNKNOWN","(").concat(t,")"),i+=": ".concat(s)}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?Mr(t.to):null,data:t.data||"0x"};return t.from&&(a.from=Mr(t.from)),Ut(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,vs.defaultAbiCoder())}}function bs(e){if(e.isArray())return new Yr(Pt(ws,this,bs).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new fi(e.components.map(e=>Pt(ws,this,bs).call(this,e)),e.name);switch(e.baseType){case"address":return new Kr(e.name);case"bool":return new Zr(e.name);case"string":return new di(e.name);case"bytes":return new $r(e.name);case"":return new ni(e.name)}let t=e.type.match(gs);if(t){let n=parseInt(t[2]||"256");return Dt(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new oi(n/8,"int"===t[1],e.name)}if(t=e.type.match(ps),t){let n=parseInt(t[1]);return Dt(0!==n&&n<=32,"invalid bytes length","param",e),new ei(n,e.name)}Dt(!1,"invalid type","type",e.type)}function Es(e){return e&&"function"===typeof e.getAddress}async function xs(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(Lt("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Dt(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Mr(n)}function As(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Mr(e):(Lt(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),xs(e,t.resolveName(e))):Es(e)?xs(e,e.getAddress()):e&&"function"===typeof e.then?xs(e,e):void Dt(!1,"unsupported addressable value","target",e)}const Ss=new Uint8Array(32);Ss.fill(0);const Is=BigInt(-1),ks=BigInt(0),Ps=BigInt(1),Os=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ns=pn(Ps,32),Cs=pn(ks,32),Rs={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ts=["name","version","chainId","verifyingContract","salt"];function _s(e){return function(t){return Dt("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const Bs={name:_s("name"),version:_s("version"),chainId:function(e){const t=ln(e,"domain.chainId");return Dt(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):mn(t)},verifyingContract:function(e){try{return Mr(e).toLowerCase()}catch(t){}Dt(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Wt(e,"domain.salt");return Dt(32===t.length,'invalid domain value "salt"',"domain.salt",e),Yt(t)}};function js(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);Dt(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=cn(Os,n?r-1:r),s=n?(i+Ps)*Is:ks;return function(t){const r=ln(t,"value");return Dt(r>=s&&r<=i,"value out-of-bounds for ".concat(e),"value",r),pn(n?an(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return Dt(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return Dt(Wt(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=Wt(e),n=t.length%32;return n?Zt([t,Ss.slice(n)]):Yt(t)}(t)}}}switch(e){case"address":return function(e){return tn(Mr(e),32)};case"bool":return function(e){return e?Ns:Cs};case"bytes":return function(e){return Tr(e)};case"string":return function(e){return pi(e)}}return null}function Us(e,t){return"".concat(e,"(").concat(t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(","),")")}function Ls(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var Ds=new WeakMap,Ms=new WeakMap,Fs=new WeakMap,zs=new WeakSet;class Hs{get types(){return JSON.parse(Ot(Ds,this))}constructor(e){Ht(this,zs),(0,qt.A)(this,"primaryType",void 0),kt(this,Ds,void 0),kt(this,Ms,void 0),kt(this,Fs,void 0),Nt(Ms,this,new Map),Nt(Fs,this,new Map);const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach(s=>{i[s]=e[s].map(t=>{let{name:n,type:r}=t,{base:i,index:s}=Ls(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}}),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)}),Nt(Ds,this,JSON.stringify(i));for(const o in i){const r=new Set;for(const s of i[o]){Dt(!r.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(o)),"types",e),r.add(s.name);const i=Ls(s.type).base;Dt(i!==o,"circular type reference to ".concat(JSON.stringify(i)),"types",e);js(i)||(Dt(n.has(i),"unknown type ".concat(JSON.stringify(i)),"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter(e=>0===n.get(e).length);Dt(0!==s.length,"missing primary type","types",e),Dt(1===s.length,"ambiguous primary types or unused types: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"types",e),Tt(this,{primaryType:s[0]}),function i(s,o){Dt(!o.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),Ot(Ms,this).set(o,Us(o,i[o])+e.map(e=>Us(e,i[e])).join(""))}}getEncoder(e){let t=Ot(Fs,this).get(e);return t||(t=Pt(zs,this,qs).call(this,e),Ot(Fs,this).set(e,t)),t}encodeType(e){const t=Ot(Ms,this).get(e);return Dt(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Tr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(js(e))return n(e,t);const r=Ls(e).array;if(r)return Dt(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map(e=>this._visit(r.prefix,e,n));const i=this.types[e];if(i)return i.reduce((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e},{});Dt(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Hs(e)}static getPrimaryType(e){return Hs.from(e).primaryType}static hashStruct(e,t,n){return Hs.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Rs[n];Dt(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>Ts.indexOf(e.name)-Ts.indexOf(t.name)),Hs.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Zt(["0x1901",Hs.hashDomain(e),Hs.from(t).hash(n)])}static hash(e,t,n){return Tr(Hs.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!Gt(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Hs.from(t);s.visit(n,(e,t)=>("address"!==e||Gt(t,20)||(i[t]="0x"),t));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,(e,t)=>"address"===e&&i[t]?i[t]:t)}}static getPayload(e,t,n){Hs.hashDomain(e);const r={},i=[];Ts.forEach(t=>{const n=e[t];null!=n&&(r[t]=Bs[t](n),i.push({name:t,type:Rs[t]}))});const s=Hs.from(t);t=s.types;const o=Object.assign({},t);return Dt(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return Yt(Wt(t));if(e.match(/^u?int/))return ln(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Dt("string"===typeof t,"invalid string","value",t),t}Dt(!1,"unsupported type","type",e)})}}}function qs(e){{const t=js(e);if(t)return t}const t=Ls(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{Dt(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let i=r.map(n);return Ot(Ms,this).has(e)&&(i=i.map(Tr)),Tr(Zt(i))}}const n=this.types[e];if(n){const t=pi(Ot(Ms,this).get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return Ot(Ms,this).has(r)?Tr(i):i});return r.unshift(t),Zt(r)}}Dt(!1,"unknown type: ".concat(e),"type",e)}function Vs(e,t){return{address:Mr(e),storageKeys:t.map((e,t)=>(Dt(Gt(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()))}}function Ws(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(Dt(2===t.length,"invalid slot set","value[".concat(n,"]"),t),Vs(t[0],t[1])):(Dt(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Vs(t.address,t.storageKeys)));Dt(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return Vs(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const Ks="0x0000000000000000000000000000000000000000000000000000000000000000",Gs=BigInt(0),Qs=BigInt(1),Js=BigInt(2),Ys=BigInt(27),Zs=BigInt(28),Xs=BigInt(35),$s=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eo=$s/Js,to=Symbol.for("nodejs.util.inspect.custom"),no={};function ro(e){return tn(gn(e),32)}var io=new WeakMap,so=new WeakMap,oo=new WeakMap,ao=new WeakMap;class co{get r(){return Ot(io,this)}set r(e){Dt(32===Xt(e),"invalid r","value",e),Nt(io,this,Yt(e))}get s(){return Dt(parseInt(Ot(so,this).substring(0,3))<8,"non-canonical s; use ._s","s",Ot(so,this)),Ot(so,this)}set s(e){Dt(32===Xt(e),"invalid s","value",e),Nt(so,this,Yt(e))}get _s(){return Ot(so,this)}isValid(){return BigInt(Ot(so,this))<=eo}get v(){return Ot(oo,this)}set v(e){const t=fn(e,"value");Dt(27===t||28===t,"invalid v","v",e),Nt(oo,this,t)}get networkV(){return Ot(ao,this)}get legacyChainId(){const e=this.networkV;return null==e?null:co.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Wt(this.s);return this.yParity&&(e[0]|=128),Yt(e)}get compactSerialized(){return Zt([this.r,this.yParityAndS])}get serialized(){return Zt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){kt(this,io,void 0),kt(this,so,void 0),kt(this,oo,void 0),kt(this,ao,void 0),zt(e,no,"Signature"),Nt(io,this,t),Nt(so,this,n),Nt(oo,this,r),Nt(ao,this,null)}getCanonical(){if(this.isValid())return this;const e=$s-BigInt(this._s),t=55-this.v,n=new co(no,this.r,ro(e),t);return this.networkV&&Nt(ao,n,this.networkV),n}clone(){const e=new co(no,this.r,this._s,this.v);return this.networkV&&Nt(ao,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}[to](){return this.toString()}toString(){return this.isValid()?"Signature { r: ".concat(this.r,", s: ").concat(this._s,", v: ").concat(this.v," }"):"Signature { r: ".concat(this.r,", s: ").concat(this._s,", v: ").concat(this.v,", valid: false }")}static getChainId(e){const t=ln(e,"v");return t==Ys||t==Zs?Gs:(Dt(t>=Xs,"invalid EIP-155 v","v",e),(t-Xs)/Js)}static getChainIdV(e,t){return ln(e)*Js+BigInt(35+t-27)}static getNormalizedV(e){const t=ln(e);return t===Gs||t===Ys?27:t===Qs||t===Zs?28:(Dt(t>=Xs,"invalid v","v",e),t&Qs?27:28)}static from(e){function t(t,n){Dt(t,n,"signature",e)}if(null==e)return new co(no,Ks,Ks,27);if("string"===typeof e){const n=Wt(e,"signature");if(64===n.length){const e=Yt(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new co(no,e,Yt(t),r)}if(65===n.length){const e=Yt(n.slice(0,32)),t=Yt(n.slice(32,64)),r=co.getNormalizedV(n[64]);return new co(no,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof co)return e.clone();const n=e.r;t(null!=n,"missing r");const r=ro(n),i=function(e,n){if(null!=e)return ro(e);if(null!=n){t(Gt(n,32),"invalid yParityAndS");const e=Wt(n);return e[0]&=127,Yt(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=ln(e);return{networkV:t>=Xs?t:void 0,v:co.getNormalizedV(t)}}if(null!=n)return t(Gt(n,32),"invalid yParityAndS"),{v:128&Wt(n)[0]?28:27};if(null!=r){switch(fn(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new co(no,r,i,o);return s&&Nt(ao,a,s),t(null==e.yParity||fn(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function lo(e){return{address:Mr(e.address),nonce:ln(null!=e.nonce?e.nonce:0),chainId:ln(null!=e.chainId?e.chainId:0),signature:co.from(e.signature)}}function uo(e){return async function(t,n){Lt(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();Lt("http"===r||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Lt("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,o=setTimeout(()=>{i=Ut("request timeout","TIMEOUT"),s.abort()},t.timeout);n&&n.addListener(()=>{i=Ut("request cancelled","CANCELLED"),s.abort()});const a=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let c;try{c=await fetch(t.url,a)}catch(Go){if(clearTimeout(o),i)throw i;throw Go}clearTimeout(o);const l={};c.headers.forEach((e,t)=>{l[t.toLowerCase()]=e});const u=await c.arrayBuffer(),h=null==u?null:new Uint8Array(u);return{statusCode:c.status,statusMessage:c.statusText,headers:l,body:h}}}uo({});let ho=uo();const fo=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),po=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let go=!1;async function mo(e,t){try{const t=e.match(fo);if(!t)throw new Error("invalid data");return new Qo(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Wt(t)}(t[3]):ui(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new Qo(599,"BAD REQUEST (invalid data: URI)",{},null,new Fo(e))}}function yo(e){return async function(t,n){try{const n=t.match(po);if(!n)throw new Error("invalid link");return new Fo("".concat(e).concat(n[2]))}catch(r){return new Qo(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Fo(t))}}}const wo={data:mo,ipfs:yo("https://gateway.ipfs.io/ipfs/")},vo=new WeakMap;var bo=new WeakMap,Eo=new WeakMap;class xo{constructor(e){kt(this,bo,void 0),kt(this,Eo,void 0),Nt(bo,this,[]),Nt(Eo,this,!1),vo.set(e,()=>{if(!Ot(Eo,this)){Nt(Eo,this,!0);for(const e of Ot(bo,this))setTimeout(()=>{e()},0);Nt(bo,this,[])}})}addListener(e){Lt(!Ot(Eo,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),Ot(bo,this).push(e)}get cancelled(){return Ot(Eo,this)}checkSignal(){Lt(!this.cancelled,"cancelled","CANCELLED",{})}}function Ao(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var So=new WeakMap,Io=new WeakMap,ko=new WeakMap,Po=new WeakMap,Oo=new WeakMap,No=new WeakMap,Co=new WeakMap,Ro=new WeakMap,To=new WeakMap,_o=new WeakMap,Bo=new WeakMap,jo=new WeakMap,Uo=new WeakMap,Lo=new WeakMap,Do=new WeakMap,Mo=new WeakSet;class Fo{get url(){return Ot(No,this)}set url(e){Nt(No,this,String(e))}get body(){return null==Ot(Co,this)?null:new Uint8Array(Ot(Co,this))}set body(e){if(null==e)Nt(Co,this,void 0),Nt(Ro,this,void 0);else if("string"===typeof e)Nt(Co,this,ui(e)),Nt(Ro,this,"text/plain");else if(e instanceof Uint8Array)Nt(Co,this,e),Nt(Ro,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");Nt(Co,this,ui(JSON.stringify(e))),Nt(Ro,this,"application/json")}}hasBody(){return null!=Ot(Co,this)}get method(){return Ot(Po,this)?Ot(Po,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),Nt(Po,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},Ot(ko,this));return Ot(To,this)&&(e.authorization="Basic ".concat(function(e){const t=Wt(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(ui(Ot(To,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&Ot(Ro,this)&&(e["content-type"]=Ot(Ro,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){Ot(ko,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){Nt(ko,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return Ot(To,this)||null}setCredentials(e,t){Dt(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Nt(To,this,"".concat(e,":").concat(t))}get allowGzip(){return Ot(Io,this)}set allowGzip(e){Nt(Io,this,!!e)}get allowInsecureAuthentication(){return!!Ot(So,this)}set allowInsecureAuthentication(e){Nt(So,this,!!e)}get timeout(){return Ot(Oo,this)}set timeout(e){Dt(e>=0,"timeout must be non-zero","timeout",e),Nt(Oo,this,e)}get preflightFunc(){return Ot(_o,this)||null}set preflightFunc(e){Nt(_o,this,e)}get processFunc(){return Ot(Bo,this)||null}set processFunc(e){Nt(Bo,this,e)}get retryFunc(){return Ot(jo,this)||null}set retryFunc(e){Nt(jo,this,e)}get getUrlFunc(){return Ot(Do,this)||ho}set getUrlFunc(e){Nt(Do,this,e)}constructor(e){Ht(this,Mo),kt(this,So,void 0),kt(this,Io,void 0),kt(this,ko,void 0),kt(this,Po,void 0),kt(this,Oo,void 0),kt(this,No,void 0),kt(this,Co,void 0),kt(this,Ro,void 0),kt(this,To,void 0),kt(this,_o,void 0),kt(this,Bo,void 0),kt(this,jo,void 0),kt(this,Uo,void 0),kt(this,Lo,void 0),kt(this,Do,void 0),Nt(No,this,String(e)),Nt(So,this,!1),Nt(Io,this,!0),Nt(ko,this,{}),Nt(Po,this,""),Nt(Oo,this,3e5),Nt(Lo,this,{slotInterval:250,maxAttempts:12}),Nt(Do,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(Ot(Co,this)?Yt(Ot(Co,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(Ot(Lo,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(Ot(Lo,this).maxAttempts=e.maxAttempts)}send(){return Lt(null==Ot(Uo,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Nt(Uo,this,new xo(this)),Pt(Mo,this,zo).call(this,0,Jo()+this.timeout,0,this,new Qo(0,"",{},null,this))}cancel(){Lt(null!=Ot(Uo,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=vo.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Lt("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new Fo(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,Nt(ko,r,Object.assign({},Ot(ko,this))),Ot(Co,this)&&Nt(Co,r,new Uint8Array(Ot(Co,this))),Nt(Ro,r,Ot(Ro,this)),r}clone(){const e=new Fo(this.url);return Nt(Po,e,Ot(Po,this)),Ot(Co,this)&&Nt(Co,e,Ot(Co,this)),Nt(Ro,e,Ot(Ro,this)),Nt(ko,e,Object.assign({},Ot(ko,this))),Nt(To,e,Ot(To,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),Nt(_o,e,Ot(_o,this)),Nt(Bo,e,Ot(Bo,this)),Nt(jo,e,Ot(jo,this)),Nt(Lo,e,Object.assign({},Ot(Lo,this))),Nt(Do,e,Ot(Do,this)),e}static lockConfig(){go=!0}static getGateway(e){return wo[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(go)throw new Error("gateways locked");wo[e]=t}static registerGetUrl(e){if(go)throw new Error("gateways locked");ho=e}static createGetUrlFunc(e){return uo(e)}static createDataGateway(){return mo}static createIpfsGatewayFunc(e){return yo(e)}}async function zo(e,t,n,r,i){if(e>=Ot(Lo,this).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Lt(Jo()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in wo){const e=await wo[o](s.url,Ao(Ot(Uo,r)));if(e instanceof Qo){let t=e;if(this.processFunc){Ao(Ot(Uo,r));try{t=await this.processFunc(s,t)}catch(d){null!=d.throttle&&"number"===typeof d.stall||t.makeServerError("error in post-processing function",d).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,Ao(Ot(Uo,r)));let c=new Qo(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===c.statusCode||302===c.statusCode){try{var l;const n=c.headers.location||"";return Pt(Mo,l=s.redirect(n),zo).call(l,e+1,t,0,r,c)}catch(d){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){var u;const n=c.headers["retry-after"];let i=Ot(Lo,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),Pt(Mo,u=s.clone(),zo).call(u,e+1,t,i,r,c)}if(this.processFunc){Ao(Ot(Uo,r));try{c=await this.processFunc(s,c)}catch(d){var h;null!=d.throttle&&"number"===typeof d.stall||c.makeServerError("error in post-processing function",d).assertOk();let n=Ot(Lo,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return d.stall>=0&&(n=d.stall),Pt(Mo,h=s.clone(),zo).call(h,e+1,t,n,r,c)}}return c}var Ho=new WeakMap,qo=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,Go=new WeakMap;class Qo{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(Ot(Wo,this)?Yt(Ot(Wo,this)):"null",">")}get statusCode(){return Ot(Ho,this)}get statusMessage(){return Ot(qo,this)}get headers(){return Object.assign({},Ot(Vo,this))}get body(){return null==Ot(Wo,this)?null:new Uint8Array(Ot(Wo,this))}get bodyText(){try{return null==Ot(Wo,this)?"":hi(Ot(Wo,this))}catch(e){Lt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Lt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){kt(this,Ho,void 0),kt(this,qo,void 0),kt(this,Vo,void 0),kt(this,Wo,void 0),kt(this,Ko,void 0),kt(this,Go,void 0),Nt(Ho,this,e),Nt(qo,this,t),Nt(Vo,this,Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{})),Nt(Wo,this,null==r?null:new Uint8Array(r)),Nt(Ko,this,i||null),Nt(Go,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new Qo(599,n,this.headers,this.body,Ot(Ko,this)||void 0);return Nt(Go,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:Dt(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw Tt(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=Ot(Wo,this)}get request(){return Ot(Ko,this)}ok(){return""===Ot(Go,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=Ot(Go,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{Ot(Wo,this)&&(r=hi(Ot(Wo,this)))}catch(kj){}Lt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function Jo(){return(new Date).getTime()}const Yo="0x0000000000000000000000000000000000000000";class Zo{constructor(e,t,n){(0,qt.A)(this,"fragment",void 0),(0,qt.A)(this,"name",void 0),(0,qt.A)(this,"signature",void 0),(0,qt.A)(this,"topic",void 0),(0,qt.A)(this,"args",void 0);const r=e.name,i=e.format();Tt(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class Xo{constructor(e,t,n,r){(0,qt.A)(this,"fragment",void 0),(0,qt.A)(this,"name",void 0),(0,qt.A)(this,"args",void 0),(0,qt.A)(this,"signature",void 0),(0,qt.A)(this,"selector",void 0),(0,qt.A)(this,"value",void 0);const i=e.name,s=e.format();Tt(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class $o{constructor(e,t,n){(0,qt.A)(this,"fragment",void 0),(0,qt.A)(this,"name",void 0),(0,qt.A)(this,"args",void 0),(0,qt.A)(this,"signature",void 0),(0,qt.A)(this,"selector",void 0);const r=e.name,i=e.format();Tt(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class ea{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,qt.A)(this,"hash",void 0),(0,qt.A)(this,"_isIndexed",void 0),Tt(this,{hash:e,_isIndexed:!0})}}const ta={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},na={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&ta[e.toString()]&&(t=ta[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var ra=new WeakMap,ia=new WeakMap,sa=new WeakMap,oa=new WeakMap,aa=new WeakSet;class ca{constructor(e){Ht(this,aa),(0,qt.A)(this,"fragments",void 0),(0,qt.A)(this,"deploy",void 0),(0,qt.A)(this,"fallback",void 0),(0,qt.A)(this,"receive",void 0),kt(this,ra,void 0),kt(this,ia,void 0),kt(this,sa,void 0),kt(this,oa,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,Nt(sa,this,new Map),Nt(ra,this,new Map),Nt(ia,this,new Map);const n=[];for(const o of t)try{n.push(is.from(o))}catch(s){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(o),":"),s.message)}Tt(this,{fragments:Object.freeze(n)});let r=null,i=!1;Nt(oa,this,this.getAbiCoder()),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Tt(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(Dt(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,i=r.payable));case"function":n=Ot(sa,this);break;case"event":n=Ot(ia,this);break;case"error":n=Ot(ra,this);break;default:return}const s=e.format();n.has(s)||n.set(s,e)}),this.deploy||Tt(this,{deploy:ls.from("constructor()")}),Tt(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map(e=>e.format(t));return n}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return vs.defaultAbiCoder()}getFunctionName(e){const t=Pt(aa,this,la).call(this,e,null,!1);return Dt(t,"no matching function","key",e),t.name}hasFunction(e){return!!Pt(aa,this,la).call(this,e,null,!1)}getFunction(e,t){return Pt(aa,this,la).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(Ot(sa,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Ot(sa,this).get(r),n)}}getEventName(e){const t=Pt(aa,this,ua).call(this,e,null,!1);return Dt(t,"no matching event","key",e),t.name}hasEvent(e){return!!Pt(aa,this,ua).call(this,e,null,!1)}getEvent(e,t){return Pt(aa,this,ua).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(Ot(ia,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Ot(ia,this).get(r),n)}}getError(e,t){if(Gt(e)){const t=e.toLowerCase();if(na[t])return as.from(na[t].signature);for(const e of Ot(ra,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of Ot(ra,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?as.from("error Error(string)"):"Panic"===e?as.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");Dt(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=as.from(e).format()))return as.from("error Error(string)");if("Panic(uint256)"===e)return as.from("error Panic(uint256)");const n=Ot(ra,this).get(e);return n||null}forEachError(e){const t=Array.from(Ot(ra,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Ot(ra,this).get(r),n)}}_decodeParams(e,t){return Ot(oa,this).decode(e,t)}_encodeParams(e,t){return Ot(oa,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Dt(t,"unknown error","fragment",e),e=t}return Dt($t(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,$t(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Dt(t,"unknown error","fragment",e),e=t}return Zt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Dt(t,"unknown function","fragment",e),e=t}return Dt($t(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,$t(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Dt(t,"unknown function","fragment",e),e=t}return Zt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Dt(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=Kt(t);if(r.length%32===0)try{return Ot(oa,this).decode(e.outputs,r)}catch(i){n="could not decode result data"}Lt(!1,n,"BAD_DATA",{value:Yt(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=Wt(e,"data"),r=vs.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=Yt(n.slice(0,4)),t=this.getError(e);if(t)try{const e=Ot(oa,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(kj){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Dt(t,"unknown function","fragment",e),e=t}return Yt(Ot(oa,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);Dt(t,"unknown event","eventFragment",e),e=t}Lt(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?pi(t):"bytes"===e.type?Tr(Yt(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=pn(t):e.type.match(/^bytes/)?t=function(e,t){return en(e,t,!1)}(t,32):"address"===e.type&&Ot(oa,this).encode(["address"],[t]),tn(Yt(t),32));for(t.forEach((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?Dt(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map(e=>r(s,e))):n.push(r(s,t)):Dt(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);Dt(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),Dt(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(pi(o));else if("bytes"===e.type)n.push(Tr(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(Ot(oa,this).encode([e.type],[o]))}else r.push(e),i.push(o)}),{data:Ot(oa,this).encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);Dt(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;Dt(Gt(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(ns.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))});const o=null!=n?Ot(oa,this).decode(r,Zt(n)):null,a=Ot(oa,this).decode(i,t,!0),c=[],l=[];let u=0,h=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new ea(null);else if(s[t])n=new ea(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}c.push(n),l.push(e.name||null)}),Pn.fromItems(c,l)}parseTransaction(e){const t=Wt(e.data,"tx.data"),n=ln(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(Yt(t.slice(0,4)));if(!r)return null;const i=Ot(oa,this).decode(r.inputs,t.slice(4));return new Xo(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Zo(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Yt(e),n=this.getError($t(t,0,4));if(!n)return null;const r=Ot(oa,this).decode(n.inputs,$t(t,4));return new $o(n,n.selector,r)}static from(e){return e instanceof ca?e:"string"===typeof e?new ca(JSON.parse(e)):"function"===typeof e.formatJson?new ca(e.formatJson()):"function"===typeof e.format?new ca(e.format("json")):new ca(e)}}function la(e,t,n){if(Gt(e)){const t=e.toLowerCase();for(const e of Ot(sa,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of Ot(sa,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;Wr.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(Wr.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");Dt(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=Ot(sa,this).get(hs.from(e).format());return r||null}function ua(e,t,n){if(Gt(e)){const t=e.toLowerCase();for(const e of Ot(ia,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of Ot(ia,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(Wr.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");Dt(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=Ot(ia,this).get(cs.from(e).format());return r||null}const ha=BigInt(0);function da(e){return null==e?null:e}function fa(e){return null==e?null:e.toString()}class pa{constructor(e,t,n){(0,qt.A)(this,"gasPrice",void 0),(0,qt.A)(this,"maxFeePerGas",void 0),(0,qt.A)(this,"maxPriorityFeePerGas",void 0),Tt(this,{gasPrice:da(e),maxFeePerGas:da(t),maxPriorityFeePerGas:da(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:fa(e),maxFeePerGas:fa(t),maxPriorityFeePerGas:fa(n)}}}function ga(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Yt(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=ln(e[i],"request.".concat(i)));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=fn(e[i],"request.".concat(i)));return e.accessList&&(t.accessList=Ws(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobWrapperVersion"in e&&(t.blobWrapperVersion=e.blobWrapperVersion),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>Qt(e)?Yt(e):Object.assign({},e))),t}var ma=new WeakMap;class ya{constructor(e,t){(0,qt.A)(this,"provider",void 0),(0,qt.A)(this,"number",void 0),(0,qt.A)(this,"hash",void 0),(0,qt.A)(this,"timestamp",void 0),(0,qt.A)(this,"parentHash",void 0),(0,qt.A)(this,"parentBeaconBlockRoot",void 0),(0,qt.A)(this,"nonce",void 0),(0,qt.A)(this,"difficulty",void 0),(0,qt.A)(this,"gasLimit",void 0),(0,qt.A)(this,"gasUsed",void 0),(0,qt.A)(this,"stateRoot",void 0),(0,qt.A)(this,"receiptsRoot",void 0),(0,qt.A)(this,"blobGasUsed",void 0),(0,qt.A)(this,"excessBlobGas",void 0),(0,qt.A)(this,"miner",void 0),(0,qt.A)(this,"prevRandao",void 0),(0,qt.A)(this,"extraData",void 0),(0,qt.A)(this,"baseFeePerGas",void 0),kt(this,ma,void 0),Nt(ma,this,e.transactions.map(e=>"string"!==typeof e?new xa(e,t):e)),Tt(this,{provider:t,hash:da(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:da(e.prevRandao),extraData:e.extraData,baseFeePerGas:da(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return Ot(ma,this).map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=Ot(ma,this).slice();return 0===e.length?[]:(Lt("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:fa(e),difficulty:fa(t),extraData:n,gasLimit:fa(r),gasUsed:fa(i),blobGasUsed:fa(this.blobGasUsed),excessBlobGas:fa(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return Ot(ma,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=Ot(ma,this)[e];else{const n=e.toLowerCase();for(const e of Ot(ma,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;Dt(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class wa{constructor(e,t){(0,qt.A)(this,"provider",void 0),(0,qt.A)(this,"transactionHash",void 0),(0,qt.A)(this,"blockHash",void 0),(0,qt.A)(this,"blockNumber",void 0),(0,qt.A)(this,"removed",void 0),(0,qt.A)(this,"address",void 0),(0,qt.A)(this,"data",void 0),(0,qt.A)(this,"topics",void 0),(0,qt.A)(this,"index",void 0),(0,qt.A)(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());Tt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Lt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Lt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var va=new WeakMap;class ba{constructor(e,t){(0,qt.A)(this,"provider",void 0),(0,qt.A)(this,"to",void 0),(0,qt.A)(this,"from",void 0),(0,qt.A)(this,"contractAddress",void 0),(0,qt.A)(this,"hash",void 0),(0,qt.A)(this,"index",void 0),(0,qt.A)(this,"blockHash",void 0),(0,qt.A)(this,"blockNumber",void 0),(0,qt.A)(this,"logsBloom",void 0),(0,qt.A)(this,"gasUsed",void 0),(0,qt.A)(this,"blobGasUsed",void 0),(0,qt.A)(this,"cumulativeGasUsed",void 0),(0,qt.A)(this,"gasPrice",void 0),(0,qt.A)(this,"blobGasPrice",void 0),(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"status",void 0),(0,qt.A)(this,"root",void 0),kt(this,va,void 0),Nt(va,this,Object.freeze(e.logs.map(e=>new wa(e,t))));let n=ha;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),Tt(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return Ot(va,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:fa(this.cumulativeGasUsed),from:t,gasPrice:fa(this.gasPrice),blobGasUsed:fa(this.blobGasUsed),blobGasPrice:fa(this.blobGasPrice),gasUsed:fa(this.gasUsed),hash:r,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Sa(this)}reorderedEvent(e){return Lt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Aa(this,e)}}var Ea=new WeakMap;class xa{constructor(e,t){(0,qt.A)(this,"provider",void 0),(0,qt.A)(this,"blockNumber",void 0),(0,qt.A)(this,"blockHash",void 0),(0,qt.A)(this,"index",void 0),(0,qt.A)(this,"hash",void 0),(0,qt.A)(this,"type",void 0),(0,qt.A)(this,"to",void 0),(0,qt.A)(this,"from",void 0),(0,qt.A)(this,"nonce",void 0),(0,qt.A)(this,"gasLimit",void 0),(0,qt.A)(this,"gasPrice",void 0),(0,qt.A)(this,"maxPriorityFeePerGas",void 0),(0,qt.A)(this,"maxFeePerGas",void 0),(0,qt.A)(this,"maxFeePerBlobGas",void 0),(0,qt.A)(this,"data",void 0),(0,qt.A)(this,"value",void 0),(0,qt.A)(this,"chainId",void 0),(0,qt.A)(this,"signature",void 0),(0,qt.A)(this,"accessList",void 0),(0,qt.A)(this,"blobVersionedHashes",void 0),(0,qt.A)(this,"authorizationList",void 0),kt(this,Ea,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,Nt(Ea,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:fa(this.chainId),data:c,from:o,gasLimit:fa(this.gasLimit),gasPrice:fa(this.gasPrice),hash:r,maxFeePerGas:fa(this.maxFeePerGas),maxPriorityFeePerGas:fa(this.maxPriorityFeePerGas),maxFeePerBlobGas:fa(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:n,type:i,value:fa(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Rt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=Ot(Ea,this),s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await Rt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<Ot(Ea,this)&&(s=Ot(Ea,this)));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===ha&&(r="cancelled"),Lt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;Lt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===n)return c(l);if(l){if(1===n||await l.confirmations()>=n)return c(l)}else if(await a(),0===n)return null;const u=new Promise((e,t)=>{const s=[],l=()=>{s.forEach(e=>e())};if(s.push(()=>{o=!0}),r>0){const e=setTimeout(()=>{l(),t(Ut("wait for transaction timeout","TIMEOUT"))},r);s.push(()=>{clearTimeout(e)})}const u=async r=>{if(await r.confirmations()>=n){l();try{e(c(r))}catch(i){t(i)}}};if(s.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(n){if(Bt(n,"TRANSACTION_REPLACED"))return l(),void t(n)}o||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Sa(this)}reorderedEvent(e){return Lt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Lt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Aa(this,e)}replaceableTransaction(e){Dt(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new xa(this,this.provider);return Nt(Ea,t,e),t}}function Aa(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Sa(e){return{orphan:"drop-transaction",tx:e}}var Ia=new WeakMap;class ka{constructor(e,t,n){(0,qt.A)(this,"filter",void 0),(0,qt.A)(this,"emitter",void 0),kt(this,Ia,void 0),Nt(Ia,this,t),Tt(this,{emitter:e,filter:n})}async removeListener(){null!=Ot(Ia,this)&&await this.emitter.off(this.filter,Ot(Ia,this))}}class Pa extends wa{constructor(e,t,n){super(e,e.provider),(0,qt.A)(this,"interface",void 0),(0,qt.A)(this,"fragment",void 0),(0,qt.A)(this,"args",void 0);Tt(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Oa extends wa{constructor(e,t){super(e,e.provider),(0,qt.A)(this,"error",void 0),Tt(this,{error:t})}}var Na=new WeakMap;class Ca extends ba{constructor(e,t,n){super(n,t),kt(this,Na,void 0),Nt(Na,this,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?Ot(Na,this).getEvent(e.topics[0]):null;if(t)try{return new Pa(e,Ot(Na,this),t)}catch(n){return new Oa(e,n)}return e})}}var Ra=new WeakMap;class Ta extends xa{constructor(e,t,n){super(n,t),kt(this,Ra,void 0),Nt(Ra,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Ca(Ot(Ra,this),this.provider,n)}}class _a extends ka{constructor(e,t,n,r){super(e,t,n),(0,qt.A)(this,"log",void 0),Tt(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Ba extends _a{constructor(e,t,n,r,i){super(e,t,n,new Pa(i,e.interface,r));Tt(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const ja=BigInt(0);function Ua(e){return e&&"function"===typeof e.call}function La(e){return e&&"function"===typeof e.estimateGas}function Da(e){return e&&"function"===typeof e.resolveName}function Ma(e){return e&&"function"===typeof e.sendTransaction}function Fa(e){if(null!=e){if(Da(e))return e;if(e.provider)return e.provider}}var za=new WeakMap;class Ha{constructor(e,t,n){if(kt(this,za,void 0),(0,qt.A)(this,"fragment",void 0),Tt(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=qa(e.runner,"resolveName"),i=Da(r)?r:null;Nt(za,this,async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>As(e,i))):As(t,i):t)));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return Ot(za,this)}}function qa(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Va(e){return null==e?null:e.provider||null}async function Wa(e,t){const n=Wr.dereference(e,"overrides");Dt("object"===typeof n,"invalid overrides parameter","overrides",e);const r=ga(n);return Dt(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Dt(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function Ka(e){const t=async function(t){const n=await Wa(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await As(n.from,Fa(e.runner)));const r=e.interface,i=ln(n.value||ja,"overrides.value")===ja,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||Dt(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Dt(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return Dt(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),Dt(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;Lt(Ma(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=Va(e.runner);return new Ta(e.interface,s,i)},r=async e=>await n(e);return Tt(r,{_contract:e,estimateGas:async function(n){const r=qa(e.runner,"estimateGas");return Lt(La(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=qa(e.runner,"call");Lt(Ua(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(jt(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function Ga(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return Lt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await Wa(r.pop()),o.from&&(o.from=await As(o.from,Fa(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=qa(e,"resolveName"),i=Da(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=Wr.dereference(t,e),"address"===e?As(t,i):t))))}(e.runner,s.inputs,r);return Object.assign({},o,await Rt({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;Lt(Ma(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=Va(e.runner);return new Ta(e.interface,i,n)},o=async function(){const t=qa(e.runner,"call");Lt(Ua(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(jt(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return Tt(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=qa(e.runner,"estimateGas");return Lt(La(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return Lt(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const Qa=Symbol.for("_ethersInternal_contract"),Ja=new WeakMap;function Ya(e){return Ja.get(e[Qa])}async function Za(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(Gt(t,32))return t;const n=e.interface.getEvent(t);return Dt(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?Gt(t,32)?n=[t]:(r=e.interface.getEvent(t),Dt(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):Dt(!1,"unknown event name","event",t);var i;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});return{fragment:r,tag:n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:n}}async function Xa(e,t){const{subs:n}=Ya(e);return n.get((await Za(e,t)).tag)||null}async function $a(e,t,n){const r=Va(e.runner);Lt(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await Za(e,n),{addr:a,subs:c}=Ya(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];tc(e,n,o,r=>new Ba(e,r,n,s,t))}else tc(e,n,[],r=>new _a(e,r,n,t))};let h=[];l={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},c.set(s,l)}return l}let ec=Promise.resolve();async function tc(e,t,n,r){try{await ec}catch(s){}const i=async function(e,t,n,r){await ec;const i=await Xa(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o}),0===i.listeners.length&&(i.stop(),Ya(e).subs.delete(i.tag)),o>0}(e,t,n,r);return ec=i,await i}const nc=["then"];class rc{constructor(e,t,n,r){(0,qt.A)(this,"target",void 0),(0,qt.A)(this,"interface",void 0),(0,qt.A)(this,"runner",void 0),(0,qt.A)(this,"filters",void 0),(0,qt.A)(this,Qa,void 0),(0,qt.A)(this,"fallback",void 0),Dt("string"===typeof e||Es(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=ca.from(t);let s;Tt(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Qa,{value:{}});let o=null,a=null;if(r){const e=Va(n);a=new Ta(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(Gt(e))o=e,s=Promise.resolve(e);else{const t=qa(n,"resolveName");if(!Da(t))throw Ut("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw Ut("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ya(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return Ya(this).addr=e,e});var l,u;l=this,u={addrPromise:s,addr:o,deployTx:a,subs:c},Ja.set(l[Qa],u);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||nc.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!Bt(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>nc.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return Tt(this,{filters:h}),Tt(this,{fallback:i.receive||i.fallback?Ka(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||nc.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!Bt(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||nc.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new rc(this.target,this.interface,e)}attach(e){return new rc(e,this.interface,this.runner)}async getAddress(){return await Ya(this).addrPromise}async getDeployedCode(){const e=Va(this.runner);Lt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=Va(this.runner);return Lt(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()})}deploymentTransaction(){return Ya(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return Ga(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return Lt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new Ha(e,n(...r),r)};return Tt(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return Lt(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=Ya(this),s=r||await i,{fragment:o,topics:a}=await Za(this,e),c={address:s,topics:a,fromBlock:t,toBlock:n},l=Va(this.runner);return Lt(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Pa(e,this.interface,t)}catch(n){return new Oa(e,n)}return new wa(e,l)})}async on(e,t){const n=await $a(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await $a(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await tc(this,e,n,null)}async listenerCount(e){if(e){const t=await Xa(this,e);return t?t.listeners.length:0}const{subs:t}=Ya(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await Xa(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=Ya(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await Xa(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),Ya(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Xa(this,e);if(!t)return this;t.stop(),Ya(this).subs.delete(t.tag)}else{const{subs:e}=Ya(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends rc{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class ic extends(function(){return rc}()){}const sc=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function oc(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let b=1;b<r;b++)s.push(i+=n());let o=n(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=d>>1,p=h-1;let g=0;for(let b=0;b<31;b++)g=g<<1|u();let m=[],y=0,w=h;for(;;){let e=Math.floor(((g-y+1)*i-1)/w),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;m.push(t);let o=y+Math.floor(w*s[t]/i),a=y+Math.floor(w*s[t+1]/i)-1;for(;0==((o^a)&d);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)g=g&d|g<<1&p>>>1|u(),o=o<<1^d,a=(a^d)<<1|d|1;y=o,w=1+a-o}let v=r-4;return m.map(t=>{switch(t-v){case 3:return v+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return v+256+(e[a++]<<8|e[a++]);case 1:return v+e[a++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function ac(e){return 1&e?~e>>1:e>>1}function cc(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=ac(t());return n}function lc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function uc(e){return dc(()=>{let t=lc(e);if(t.length)return t})}function hc(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(pc(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(gc(n,e))}return t.flat()}function dc(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function fc(e,t,n){let r=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)cc(e,n).forEach((e,t)=>r[t].push(e));return r}function pc(e,t){let n=1+t(),r=t(),i=dc(t);return fc(i.length,1+e,t).flatMap((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*r;return[s+t*n,o.map(e=>e+i)]})})}function gc(e,t){return fc(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function mc(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function yc(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function wc(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function vc(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const bc=44032,Ec=4352,xc=4449,Ac=4519,Sc=28,Ic=588;function kc(e){return e>>24&255}function Pc(e){return 16777215&e}let Oc,Nc,Cc,Rc;function Tc(e){return e>=bc&&e<55204}function _c(e,t){if(e>=Ec&&e<4371&&t>=xc&&t<4470)return bc+(e-Ec)*Ic+(t-xc)*Sc;if(Tc(e)&&t>Ac&&t<4547&&(e-bc)%Sc==0)return e+(t-Ac);{let n=Rc.get(e);return n&&(n=n.get(t),n)?n:-1}}function Bc(e){Oc||function(){let e=oc("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Oc=new Map(uc(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),Nc=new Set(lc(e)),Cc=new Map,Rc=new Map;for(let[t,n]of hc(e)){if(!Nc.has(t)&&2==n.length){let[e,r]=n,i=Rc.get(e);i||(i=new Map,Rc.set(e,i)),i.set(r,t)}Cc.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Oc.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Tc(s)){let e=s-bc,t=e%Ic/Sc|0,n=e%Sc;i(Ec+(e/Ic|0)),i(xc+t),n>0&&i(Ac+n)}else{let e=Cc.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=kc(t[0]);for(let n=1;n<t.length;n++){let r=kc(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=kc(t[--i]),e<=r)break}e=kc(t[n])}}return t}function jc(e){return Bc(e).map(Pc)}function Uc(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=kc(s),o=Pc(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=_c(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(Bc(e))}const Lc=".",Dc=e=>Array.from(e);function Mc(e,t){return e.P.has(t)||e.Q.has(t)}class Fc extends Array{get is_emoji(){return!0}}let zc,Hc,qc,Vc,Wc,Kc,Gc,Qc,Jc,Yc,Zc,Xc;function $c(){if(zc)return;let e=oc("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>lc(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));zc=new Map(hc(e)),Hc=n(),qc=t(),Vc=new Set(t().map(e=>qc[e])),qc=new Set(qc),Wc=n(),Kc=n();let i=uc(e),s=e();const o=()=>{let e=new Set;return t().forEach(t=>r(e,i[t])),r(e,t()),e};Gc=dc(t=>{let n=dc(e).map(e=>e+96);if(n.length){let r=t>=s;return n[0]-=32,n=wc(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:o(),Q:o(),M:!e(),R:r}}}),Qc=n(),Jc=new Map;let a=t().concat(Dc(Qc)).sort((e,t)=>e-t);a.forEach((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),Qc.has(t)||Jc.set(t,i)});for(let{V:u,M:h}of new Set(Jc.values())){let e=[];for(let n of u){let t=Gc.filter(e=>Mc(e,n)),i=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap(e=>Dc(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)h.set(t,e)}}Yc=new Set;let c=new Set;const l=e=>Yc.has(e)?c.add(e):Yc.add(e);for(let u of Gc){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of Yc)Jc.has(u)||c.has(u)||Jc.set(u,1);r(Yc,jc(Yc)),Zc=function(e){let t=[],n=lc(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=dc(()=>{let r=lc(e).map(e=>n[e]);if(r.length)return t(r)});return{S:i,B:s,Q:r}}([]),[]),t}(e).map(e=>Fc.from(e)).sort(vc),Xc=new Map;for(let u of Zc){let e=[Xc];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function el(e){return(rl(e)?"":"".concat(tl(nl([e]))," "))+mc(e)}function tl(e){return'"'.concat(e,'"\u200e')}function nl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mc,r=[];var i;i=e[0],$c(),qc.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];rl(t)&&(r.push(wc(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(wc(e.slice(s,o))),r.join("")}function rl(e){return $c(),Wc.has(e)}function il(e,t,n){if(!e)return[];$c();let r=0;return e.split(Lc).map(e=>{let i=yc(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=ll(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(wc(e.slice(0,4)),'"'))}(a),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(qc.has(a[0]))throw cl("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&qc.has(t[0]))throw cl('emoji + combining mark: "'.concat(wc(r[e-1])," + ").concat(nl([t[0]]),'"'))}!function(e){let t=e[0],n=sc.get(t);if(n)throw cl("leading ".concat(n));let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=sc.get(t);if(r){if(i==s)throw cl("".concat(n," + ").concat(r));i=s+1,n=r}}if(i==r)throw cl("trailing ".concat(n))}(a);let n=Dc(new Set(t)),[i]=function(e){let t=Gc;for(let n of e){let e=t.filter(e=>Mc(e,n));if(!e.length)throw Gc.some(e=>Mc(e,n))?al(t[0],n):ol(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!Mc(e,n))throw al(e,n);if(e.M){let e=jc(t);for(let t=1,n=e.length;t<n;t++)if(Vc.has(e[t])){let r=t+1;for(let i;r<n&&Vc.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error("duplicate non-spacing marks: ".concat(el(i)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(tl(nl(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=Jc.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter(e=>t.has(e)):Dc(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every(e=>Mc(i,e)))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(i.N))}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s})}function sl(e){return e.map(t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(tl(nl(n,63)),": ").concat(t))}return wc(i)}).join(Lc)}function ol(e){return new Error("disallowed character: ".concat(el(e)))}function al(e,t){let n=el(t),r=Gc.find(e=>e.P.has(t));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function cl(e){return new Error("illegal placement: ".concat(e))}function ll(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=hl(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(Yc.has(t))i.push(t);else{let e=zc.get(t);if(e)i.push(...e);else if(!Hc.has(t))throw ol(t)}}}return i.length&&r.push(t(i)),r}function ul(e){return e.filter(e=>65039!=e)}function hl(e,t){let n,r=Xc,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const dl=new Uint8Array(32);function fl(e){return Dt(0!==e.length,"invalid ENS name; empty component","comp",e),e}function pl(e){const t=ui(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return sl(il(e,Uc,ul))}(e)}catch(t){Dt(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(fl(t.slice(r,i))),r=i+1)}return Dt(r<t.length,"invalid ENS name; empty component","name",e),n.push(fl(t.slice(r))),n}function gl(e){Dt("string"===typeof e,"invalid ENS name; not a string","name",e),Dt(e.length,"invalid ENS name (empty label)","name",e);let t=dl;const n=pl(e);for(;n.length;)t=Tr(Zt([t,Tr(n.pop())]));return Yt(t)}function ml(e,t){const n=null!=t?t:63;return Dt(n<=255,"DNS encoded label cannot exceed 255","length",n),Yt(Zt(pl(e).map(t=>{Dt(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}dl.fill(0);class yl extends ur{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ar(this.buffer)}update(e){Gn(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=lr(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=ar(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gn(this),Qn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=ar(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const wl=(e,t,n)=>e&t^~e&n,vl=(e,t,n)=>e&t^e&n^t&n,bl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),El=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xl=new Uint32Array(64);class Al extends yl{constructor(){super(64,32,8,!1),this.A=0|El[0],this.B=0|El[1],this.C=0|El[2],this.D=0|El[3],this.E=0|El[4],this.F=0|El[5],this.G=0|El[6],this.H=0|El[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)xl[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=xl[u-15],t=xl[u-2],n=cr(e,7)^cr(e,18)^e>>>3,r=cr(t,17)^cr(t,19)^t>>>10;xl[u]=r+xl[u-7]+n+xl[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(cr(o,6)^cr(o,11)^cr(o,25))+wl(o,a,c)+bl[u]+xl[u]|0,t=(cr(n,2)^cr(n,13)^cr(n,22))+vl(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){xl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sl=hr(()=>new Al),[Il,kl]=(()=>ir.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Pl=new Uint32Array(80),Ol=new Uint32Array(80);class Nl extends yl{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)Pl[w]=e.getUint32(t),Ol[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|Pl[w-15],t=0|Ol[w-15],n=ir.rotrSH(e,t,1)^ir.rotrSH(e,t,8)^ir.shrSH(e,t,7),r=ir.rotrSL(e,t,1)^ir.rotrSL(e,t,8)^ir.shrSL(e,t,7),i=0|Pl[w-2],s=0|Ol[w-2],o=ir.rotrSH(i,s,19)^ir.rotrBH(i,s,61)^ir.shrSH(i,s,6),a=ir.rotrSL(i,s,19)^ir.rotrBL(i,s,61)^ir.shrSL(i,s,6),c=ir.add4L(r,a,Ol[w-7],Ol[w-16]),l=ir.add4H(c,n,o,Pl[w-7],Pl[w-16]);Pl[w]=0|l,Ol[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const e=ir.rotrSH(u,h,14)^ir.rotrSH(u,h,18)^ir.rotrBH(u,h,41),t=ir.rotrSL(u,h,14)^ir.rotrSL(u,h,18)^ir.rotrBL(u,h,41),v=u&d^~u&p,b=h&f^~h&g,E=ir.add5L(y,t,b,kl[w],Ol[w]),x=ir.add5H(E,m,e,v,Il[w],Pl[w]),A=0|E,S=ir.rotrSH(n,r,28)^ir.rotrBH(n,r,34)^ir.rotrBH(n,r,39),I=ir.rotrSL(n,r,28)^ir.rotrBL(n,r,34)^ir.rotrBL(n,r,39),k=n&i^n&o^i&o,P=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=ir.add(0|c,0|l,0|x,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=ir.add3L(A,I,P);n=ir.add3H(O,x,S,k),r=0|O}({h:n,l:r}=ir.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=ir.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=ir.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=ir.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=ir.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=ir.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=ir.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ir.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){Pl.fill(0),Ol.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Cl=hr(()=>new Nl);const Rl=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();Rl.crypto||Rl.msCrypto;function Tl(e){switch(e){case"sha256":return Sl.create();case"sha512":return Cl.create()}Dt(!1,"invalid hashing algorithm name","algorithm",e)}const _l=function(e){return Tl("sha256").update(e).digest()},Bl=function(e){return Tl("sha512").update(e).digest()};let jl=_l,Ul=Bl,Ll=!1,Dl=!1;function Ml(e){const t=Wt(e,"data");return Yt(jl(t))}function Fl(e){const t=Wt(e,"data");return Yt(Ul(t))}Ml._=_l,Ml.lock=function(){Ll=!0},Ml.register=function(e){if(Ll)throw new Error("sha256 is locked");jl=e},Object.freeze(Ml),Fl._=Bl,Fl.lock=function(){Dl=!0},Fl.register=function(e){if(Dl)throw new Error("sha512 is locked");Ul=e},Object.freeze(Ml);BigInt(0);const zl=BigInt(1),Hl=BigInt(2),ql=e=>e instanceof Uint8Array,Vl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wl(e){if(!ql(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Vl[e[n]];return t}function Kl(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Gl(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Ql(e){return Kl(Wl(e))}function Jl(e){if(!ql(e))throw new Error("Uint8Array expected");return Kl(Wl(Uint8Array.from(e).reverse()))}function Yl(e,t){return Gl(e.toString(16).padStart(2*t,"0"))}function Zl(e,t){return Yl(e,t).reverse()}function Xl(e,t,n){let r;if("string"===typeof t)try{r=Gl(t)}catch(kj){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(kj))}else{if(!ql(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function $l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!ql(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}const eu=e=>(Hl<<BigInt(e-1))-zl,tu=e=>new Uint8Array(e),nu=e=>Uint8Array.from(e);function ru(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=tu(e),i=tu(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tu();i=a(nu([0]),e),r=a(),0!==e.length&&(i=a(nu([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return $l(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}const iu={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=iu[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(n))};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const ou=BigInt(0),au=BigInt(1),cu=BigInt(2),lu=BigInt(3),uu=BigInt(4),hu=BigInt(5),du=BigInt(8);BigInt(9),BigInt(16);function fu(e,t){const n=e%t;return n>=ou?n:t+n}function pu(e,t,n){if(n<=ou||t<ou)throw new Error("Expected power/modulo > 0");if(n===au)return ou;let r=au;for(;t>ou;)t&au&&(r=r*e%n),e=e*e%n,t>>=au;return r}function gu(e,t,n){let r=e;for(;t-- >ou;)r*=r,r%=n;return r}function mu(e,t){if(e===ou||t<=ou)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=fu(e,t),r=t,i=ou,s=au,o=au,a=ou;for(;n!==ou;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==au)throw new Error("invert: does not exist");return fu(i,t)}function yu(e){if(e%uu===lu){const t=(e+au)/uu;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%du===hu){const t=(e-hu)/du;return function(e,n){const r=e.mul(n,cu),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,cu),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-au)/cu;let n,r,i;for(n=e-au,r=0;n%cu===ou;n/=cu,r++);for(i=cu;i<e&&pu(i,t,e)!==e-au;i++);if(1===r){const t=(e+au)/uu;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+au)/cu;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),l=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,au<<BigInt(a-t-1));c=e.sqr(n),l=e.mul(l,n),u=e.mul(u,c),a=t}return l}}(e)}const wu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vu(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function bu(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Eu(e){const t=bu(e);return t+Math.ceil(t/2)}class xu extends ur{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Kn(e);const n=lr(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Gn(this),this.iHash.update(e),this}digestInto(e){Gn(this),Wn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Au=(e,t,n)=>new xu(e,t).update(n).digest();Au.create=(e,t)=>new xu(e,t);const Su=BigInt(0),Iu=BigInt(1);function ku(e){return su(e.Fp,wu.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),su(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,o.A)((0,o.A)((0,o.A)({},vu(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Pu,aT:Ou}=e,Nu={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Nu;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Pu(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Nu,n="string"===typeof e?Ou(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Nu._parseInt(n.subarray(2)),{d:o,l:a}=Nu._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return"30".concat(n(o+s+4),"02").concat(c).concat(i,"02").concat(a).concat(r)}},Cu=BigInt(0),Ru=BigInt(1),Tu=(BigInt(2),BigInt(3));BigInt(4);function _u(e){const t=function(e){const t=ku(e);su(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,o.A)({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return $l(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Cu<e&&e<t.n}function c(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Wl(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Ql(Xl("private key",e,r))}catch(a){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(o=fu(o,s)),c(o),o}const u=new Map;function h(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Xl("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Tu),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),l=n.add(l,h),p=n.mul(o,a),p=n.add(p,p),h=n.mul(p,g),c=n.sub(c,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(c,l,u)}add(e){h(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,Tu);let m=n.mul(r,o),y=n.mul(i,a),w=n.mul(s,c),v=n.add(r,i),b=n.add(o,a);v=n.mul(v,b),b=n.add(m,y),v=n.sub(v,b),b=n.add(r,s);let E=n.add(o,c);return b=n.mul(b,E),E=n.add(m,w),b=n.sub(b,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(y,w),E=n.sub(E,l),f=n.mul(p,b),l=n.mul(g,w),f=n.add(l,f),l=n.sub(y,f),f=n.add(y,f),u=n.mul(l,f),y=n.add(m,m),y=n.add(y,m),w=n.mul(p,w),b=n.mul(g,b),y=n.add(y,w),w=n.sub(m,w),w=n.mul(p,w),b=n.add(b,w),m=n.mul(y,b),u=n.add(u,m),m=n.mul(E,b),l=n.mul(v,l),l=n.sub(l,m),m=n.mul(v,y),f=n.mul(E,f),f=n.add(f,m),new d(l,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,u,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(d.fromAffine)})}multiplyUnsafe(e){const r=d.ZERO;if(e===Cu)return r;if(c(e),e===Ru)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:a,k2:l}=i.splitScalar(e),u=r,h=r,f=this;for(;o>Cu||l>Cu;)o&Ru&&(u=u.add(f)),l&Ru&&(h=h.add(f)),f=f.double(),o>>=Ru,l>>=Ru;return s&&(u=u.negate()),a&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){c(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(c);l=p.constTimeNegate(e,l),h=p.constTimeNegate(a,h),h=new d(n.mul(h.px,o.beta),h.py,h.pz),r=l.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==Cu&&t!==Ru&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ru)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ru?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Wl(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Su;)n&Iu&&(r=r.add(i)),i=i.double(),n>>=Iu;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=d,r>a&&(r-=h,s+=Iu);const o=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?l=l.add(n(p,i[o])):c=c.add(n(g,i[f]))}return{p:c,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(d,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function Bu(e){const t=function(e){const t=ku(e);return su(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,o.A)({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function a(e){return fu(e,r)}function c(e){return mu(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=_u((0,o.A)((0,o.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=$l;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(s," uncompressed bytes"))}{const e=Ql(o);if(!function(e){return Cu<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=h(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Ru)===Ru)&&(i=n.neg(i)),{x:e,y:i}}}})),f=e=>Wl(Yl(e,t.nByteLength));function p(e){return e>r>>Ru}const g=(e,t,n)=>Ql(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Xl("compactSignature",e,2*n),new m(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Nu.toSig(Xl("DER",e));return new m(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,o=b(Xl("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=l.fromHex(h+f(u)),p=c(u),g=a(-o*p),m=a(i*p),y=l.BASE.multiplyAndAddUnsafe(d,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Gl(this.toDERHex())}toDERHex(){return Nu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gl(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Eu(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=bu(t),s=Eu(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));const o=fu(n?Ql(e):Jl(e),t-au)+au;return n?Zl(o,i):Yl(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function w(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof l}const v=t.bits2int||function(e){const n=Ql(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return a(v(e))},E=eu(t.nBitLength);function x(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Cu<=e&&e<E))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Yl(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=Xl("msgHash",e),f&&(e=Xl("prehashed msgHash",s(e)));const y=b(e),w=u(r),E=[x(w),x(y)];if(null!=g){const e=!0===g?o(n.BYTES):g;E.push(Xl("extraEntropy",e))}const A=$l(...E),I=y;return{seed:A,k2sig:function(e){const t=v(e);if(!d(t))return;const n=c(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Cu)return;const s=a(n*a(I+i*w));if(s===Cu)return;let o=(r.x===i?0:2)|Number(r.y&Ru),u=s;return h&&p(s)&&(u=function(e){return p(e)?a(-e):e}(s),o^=1),new m(i,u,o)}}}const S={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(w(e))throw new Error("first arg must be private key");if(!w(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:s}=A(e,n,r),o=t;return ru(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;const o=e;if(n=Xl("msgHash",n),r=Xl("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=s;let d,f;try{if("string"===typeof o||o instanceof Uint8Array)try{d=m.fromDER(o)}catch(A){if(!(A instanceof Nu.Err))throw A;d=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new m(e,t)}}f=l.fromHex(r)}catch(S){if("PARSE"===S.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(n=t.hash(n));const{r:p,s:g}=d,y=b(n),w=c(g),v=a(y*w),E=a(p*w),x=null===(i=l.BASE.multiplyAndAddUnsafe(f,v,E))||void 0===i?void 0:i.toAffine();return!!x&&a(x.x)===p},ProjectivePoint:l,Signature:m,utils:y}}function ju(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Au(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!or(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}(...r))},randomBytes:dr}}const Uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Lu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Du=BigInt(1),Mu=BigInt(2),Fu=(e,t)=>(e+t/Mu)/t;function zu(e){const t=Uu,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=gu(u,n,t)*u%t,d=gu(h,n,t)*u%t,f=gu(d,Mu,t)*l%t,p=gu(f,i,t)*f%t,g=gu(p,s,t)*p%t,m=gu(g,a,t)*g%t,y=gu(m,c,t)*m%t,w=gu(y,a,t)*g%t,v=gu(w,n,t)*u%t,b=gu(v,o,t)*p%t,E=gu(b,r,t)*l%t,x=gu(E,Mu,t);if(!Hu.eql(Hu.sqr(x),e))throw new Error("Cannot find square root");return x}const Hu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=ou)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:s}=vu(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=yu(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:eu(i),ZERO:ou,ONE:au,create:t=>fu(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return ou<=t&&t<e},is0:e=>e===ou,isOdd:e=>(e&au)===au,neg:t=>fu(-t,e),eql:(e,t)=>e===t,sqr:t=>fu(t*t,e),add:(t,n)=>fu(t+n,e),sub:(t,n)=>fu(t-n,e),mul:(t,n)=>fu(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ou)throw new Error("Expected power > 0");if(n===ou)return e.ONE;if(n===au)return t;let r=e.ONE,i=t;for(;n>ou;)n&au&&(r=e.mul(r,i)),i=e.sqr(i),n>>=au;return r}(a,e,t),div:(t,n)=>fu(t*mu(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>mu(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Zl(e,s):Yl(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return n?Jl(e):Ql(e)}});return Object.freeze(a)}(Uu,void 0,void 0,{sqrt:zu}),qu=function(e,t){const n=t=>Bu((0,o.A)((0,o.A)({},e),ju(t)));return Object.freeze((0,o.A)((0,o.A)({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:Hu,n:Lu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Lu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Du*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Fu(s*e,t),c=Fu(-r*e,t);let l=fu(e-a*n-c*i,t),u=fu(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},Sl);BigInt(0);qu.ProjectivePoint;var Vu=new WeakMap;class Wu{constructor(e){kt(this,Vu,void 0),Dt(32===Xt(e),"invalid private key","privateKey","[REDACTED]"),Nt(Vu,this,Yt(e))}get privateKey(){return Ot(Vu,this)}get publicKey(){return Wu.computePublicKey(Ot(Vu,this))}get compressedPublicKey(){return Wu.computePublicKey(Ot(Vu,this),!0)}sign(e){Dt(32===Xt(e),"invalid digest length","digest",e);const t=qu.sign(Kt(e),Kt(Ot(Vu,this)),{lowS:!0});return co.from({r:pn(t.r,32),s:pn(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Wu.computePublicKey(e);return Yt(qu.getSharedSecret(Kt(Ot(Vu,this)),Wt(t),!1))}static computePublicKey(e,t){let n=Wt(e,"key");if(32===n.length){return Yt(qu.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return Yt(qu.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){Dt(32===Xt(e),"invalid digest length","digest",e);const n=co.from(t);let r=qu.Signature.fromCompact(Kt(Zt([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(Kt(e));return Dt(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=qu.ProjectivePoint.fromHex(Wu.computePublicKey(e).substring(2)),i=qu.ProjectivePoint.fromHex(Wu.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function Ku(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Gu(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function Qu(e,t,n,r){const i=[];for(;n<t+1+r;){const s=Ju(e,n);i.push(s.result),Lt((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function Ju(e,t){Lt(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{Lt(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=Gu(e,t+1,r);return n(t+1+r+i),Qu(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),Qu(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=Gu(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:Yt(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:Yt(e.slice(t+1,t+1+r))}}return{consumed:1,result:Ku(e[t])}}function Yu(e){const t=Wt(e,"data"),n=Ju(t,0);return Dt(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Zu(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Xu(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(Xu(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=Zu(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(Wt(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Zu(t.length);return n.unshift(183+n.length),n.concat(t)}const $u="0123456789abcdef";function eh(e){let t="0x";for(const n of Xu(e))t+=$u[n>>4],t+=$u[15&n];return t}function th(e,t){return function(e){let t;return t="string"===typeof e?Wu.computePublicKey(e,!1):e.publicKey,Mr(Tr("0x"+t.substring(4)).substring(26))}(Wu.recoverPublicKey(e,t))}const nh=BigInt(0),rh=BigInt(2),ih=BigInt(27),sh=BigInt(28),oh=BigInt(35),ah=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ch=Symbol.for("nodejs.util.inspect.custom"),lh=131072,uh=128;function hh(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Ml(t).substring(4),"0x"+n}function dh(e){return"0x"===e?null:Mr(e)}function fh(e,t){try{return Ws(e)}catch(n){Dt(!1,n.message,t,e)}}function ph(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error("authorization[".concat(n,"]: invalid array"));if(6!==r.length)throw new Error("authorization[".concat(n,"]: wrong length"));if(!r[1])throw new Error("authorization[".concat(n,"]: null address"));t.push({address:dh(r[1]),nonce:mh(r[2],"nonce"),chainId:mh(r[0],"chainId"),signature:co.from({yParity:gh(r[3],"yParity"),r:tn(r[4],32),s:tn(r[5],32)})})}return t}catch(n){Dt(!1,n.message,t,e)}}function gh(e,t){return"0x"===e?0:fn(e,t)}function mh(e,t){if("0x"===e)return nh;const n=ln(e,t);return Dt(n<=ah,"value exceeds uint size",t,n),n}function yh(e,t){const n=ln(e,"value"),r=gn(n);return Dt(r.length<=32,"value too large","tx.".concat(t),n),r}function wh(e){return Ws(e).map(e=>[e.address,e.storageKeys])}function vh(e,t){Dt(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)Dt(Gt(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function bh(e,t){let n;try{if(n=gh(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){Dt(!1,"invalid yParity","yParity",t[0])}const r=tn(t[1],32),i=tn(t[2],32),s=co.from({r:r,s:i,yParity:n});e.signature=s}var Eh=new WeakMap,xh=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,Ih=new WeakMap,kh=new WeakMap,Ph=new WeakMap,Oh=new WeakMap,Nh=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,Th=new WeakMap,_h=new WeakMap,Bh=new WeakMap,jh=new WeakMap,Uh=new WeakMap,Lh=new WeakMap,Dh=new WeakMap,Mh=new WeakSet;class Fh{get type(){return Ot(Eh,this)}set type(e){switch(e){case null:Nt(Eh,this,null);break;case 0:case"legacy":Nt(Eh,this,0);break;case 1:case"berlin":case"eip-2930":Nt(Eh,this,1);break;case 2:case"london":case"eip-1559":Nt(Eh,this,2);break;case 3:case"cancun":case"eip-4844":Nt(Eh,this,3);break;case 4:case"pectra":case"eip-7702":Nt(Eh,this,4);break;default:Dt(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=Ot(xh,this);return null==e&&3===this.type?Yo:e}set to(e){Nt(xh,this,null==e?null:Mr(e))}get nonce(){return Ot(Sh,this)}set nonce(e){Nt(Sh,this,fn(e,"value"))}get gasLimit(){return Ot(Ih,this)}set gasLimit(e){Nt(Ih,this,ln(e))}get gasPrice(){const e=Ot(kh,this);return null!=e||0!==this.type&&1!==this.type?e:nh}set gasPrice(e){Nt(kh,this,null==e?null:ln(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Ot(Ph,this);return null==e?2===this.type||3===this.type?nh:null:e}set maxPriorityFeePerGas(e){Nt(Ph,this,null==e?null:ln(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Ot(Oh,this);return null==e?2===this.type||3===this.type?nh:null:e}set maxFeePerGas(e){Nt(Oh,this,null==e?null:ln(e,"maxFeePerGas"))}get data(){return Ot(Ah,this)}set data(e){Nt(Ah,this,Yt(e))}get value(){return Ot(Nh,this)}set value(e){Nt(Nh,this,ln(e,"value"))}get chainId(){return Ot(Ch,this)}set chainId(e){Nt(Ch,this,ln(e))}get signature(){return Ot(Rh,this)||null}set signature(e){Nt(Rh,this,null==e?null:co.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const t=this.authorizationList;if(t)for(const n of t)if(!n.signature.isValid())return!1;return!0}get accessList(){const e=Ot(Th,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){Nt(Th,this,null==e?null:Ws(e))}get authorizationList(){const e=Ot(Lh,this)||null;return null==e&&4===this.type?[]:e}set authorizationList(e){Nt(Lh,this,null==e?null:e.map(e=>lo(e)))}get maxFeePerBlobGas(){const e=Ot(_h,this);return null==e&&3===this.type?nh:e}set maxFeePerBlobGas(e){Nt(_h,this,null==e?null:ln(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Ot(Bh,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){Dt(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Dt(Gt(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}Nt(Bh,this,e)}get blobs(){return null==Ot(Uh,this)?null:Ot(Uh,this).map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void Nt(Uh,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(Qt(i)){Lt(Ot(jh,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=Wt(i);if(Dt(e.length<=lh,"blob is too large","blobs[".concat(r,"]"),i),e.length!==lh){const t=new Uint8Array(lh);t.set(e),e=t}const s=Ot(jh,this).blobToKzgCommitment(e),o=Yt(Ot(jh,this).computeBlobKzgProof(e,s));t.push({data:Yt(e),commitment:Yt(s),proof:o}),n.push(hh(1,s))}else{const e=Yt(i.data),r=Yt(i.commitment),s=Yt(i.proof);t.push({data:e,commitment:r,proof:s}),n.push(hh(1,r))}}Nt(Uh,this,t),Nt(Bh,this,n)}get kzg(){return Ot(jh,this)}set kzg(e){Nt(jh,this,null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return Wt(e.blobToKzgCommitment(Yt(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return Wt(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return Wt(e.blobToKZGCommitment(Yt(t)));Dt(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?Wt(e.computeBlobProof(Yt(t),Yt(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?Wt(e.computeBlobKZGProof(Yt(t),Yt(n))):void Dt(!1,"unsupported KZG library","kzg",e)}}(e))}get blobWrapperVersion(){return Ot(Dh,this)}set blobWrapperVersion(e){Nt(Dh,this,e)}constructor(){Ht(this,Mh),kt(this,Eh,void 0),kt(this,xh,void 0),kt(this,Ah,void 0),kt(this,Sh,void 0),kt(this,Ih,void 0),kt(this,kh,void 0),kt(this,Ph,void 0),kt(this,Oh,void 0),kt(this,Nh,void 0),kt(this,Ch,void 0),kt(this,Rh,void 0),kt(this,Th,void 0),kt(this,_h,void 0),kt(this,Bh,void 0),kt(this,jh,void 0),kt(this,Uh,void 0),kt(this,Lh,void 0),kt(this,Dh,void 0),Nt(Eh,this,null),Nt(xh,this,null),Nt(Sh,this,0),Nt(Ih,this,nh),Nt(kh,this,null),Nt(Ph,this,null),Nt(Oh,this,null),Nt(Ah,this,"0x"),Nt(Nh,this,nh),Nt(Ch,this,nh),Nt(Rh,this,null),Nt(Th,this,null),Nt(_h,this,null),Nt(Bh,this,null),Nt(jh,this,null),Nt(Uh,this,null),Nt(Lh,this,null),Nt(Dh,this,null)}get hash(){return null==this.signature?null:Tr(Pt(Mh,this,zh).call(this,!0,!1))}get unsignedHash(){return Tr(this.unsignedSerialized)}get from(){return null==this.signature?null:th(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return null==this.signature?null:Wu.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return null!=this.signature}get serialized(){return Pt(Mh,this,zh).call(this,!0,!0)}get unsignedSerialized(){return Pt(Mh,this,zh).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=Ot(_h,this)||Ot(Bh,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Lt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Lt(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Lt(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Fh.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[ch](){return this.toString()}toString(){const e=[],t=t=>{let n=this[t];"string"===typeof n&&(n=JSON.stringify(n)),e.push("".concat(t,": ").concat(n))};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),null!=this.chainId&&t("chainId"),this.signature&&(t("from"),e.push("signature: ".concat(this.signature.toString())));const n=this.authorizationList;if(n){const t=[];for(const e of n){const n=[];n.push("address: ".concat(JSON.stringify(e.address))),null!=e.nonce&&n.push("nonce: ".concat(e.nonce)),null!=e.chainId&&n.push("chainId: ".concat(e.chainId)),e.signature&&n.push("signature: ".concat(e.signature.toString())),t.push("Authorization { ".concat(n.join(", ")," }"))}e.push("authorizations: [ ".concat(t.join(", ")," ]"))}return"Transaction { ".concat(e.join(", ")," }")}static from(e){if(null==e)return new Fh;if("string"===typeof e){const t=Wt(e);if(t[0]>=127)return Fh.from(function(e){const t=Yu(e);Dt(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:gh(t[0],"nonce"),gasPrice:mh(t[1],"gasPrice"),gasLimit:mh(t[2],"gasLimit"),to:dh(t[3]),value:mh(t[4],"value"),data:Yt(t[5]),chainId:nh};if(6===t.length)return n;const r=mh(t[6],"v"),i=mh(t[7],"r"),s=mh(t[8],"s");if(i===nh&&s===nh)n.chainId=r;else{let e=(r-oh)/rh;e<nh&&(e=nh),n.chainId=e,Dt(e!==nh||r===ih||r===sh,"non-canonical legacy v","v",t[6]),n.signature=co.from({r:tn(t[7],32),s:tn(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Fh.from(function(e){const t=Yu(Wt(e).slice(1));Dt(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Yt(e));const n={type:1,chainId:mh(t[0],"chainId"),nonce:gh(t[1],"nonce"),gasPrice:mh(t[2],"gasPrice"),gasLimit:mh(t[3],"gasLimit"),to:dh(t[4]),value:mh(t[5],"value"),data:Yt(t[6]),accessList:fh(t[7],"accessList")};return 8===t.length||bh(n,t.slice(8)),n}(t));case 2:return Fh.from(function(e){const t=Yu(Wt(e).slice(1));Dt(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Yt(e));const n={type:2,chainId:mh(t[0],"chainId"),nonce:gh(t[1],"nonce"),maxPriorityFeePerGas:mh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:mh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:mh(t[4],"gasLimit"),to:dh(t[5]),value:mh(t[6],"value"),data:Yt(t[7]),accessList:fh(t[8],"accessList")};return 9===t.length||bh(n,t.slice(9)),n}(t));case 3:return Fh.from(function(e){let t=Yu(Wt(e).slice(1)),n="3",r=null,i=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],r=t[2],s=t[3];Dt(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),Dt(Array.isArray(r),"invalid network format: commitments not an array","fields[2]",r),Dt(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),Dt(e.length===r.length,"invalid network format: blobs/commitments length mismatch","fields",t),Dt(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let n=0;n<t[1].length;n++)i.push({data:e[n],commitment:r[n],proof:s[n]});t=t[0]}else if(5===t.length&&Array.isArray(t[0])){n="3 (EIP-7594 network format)",r=fn(t[1]);const e=t[2],s=t[3],o=t[4];Dt(1===r,"unsupported EIP-7594 network format version: ".concat(r),"fields[1]",r),Dt(Array.isArray(e),"invalid EIP-7594 network format: blobs not an array","fields[2]",e),Dt(Array.isArray(s),"invalid EIP-7594 network format: commitments not an array","fields[3]",s),Dt(Array.isArray(o),"invalid EIP-7594 network format: proofs not an array","fields[4]",o),Dt(e.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",t),Dt(e.length*uh===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let t=0;t<e.length;t++){const n=[];for(let e=0;e<uh;e++)n.push(o[t*uh+e]);i.push({data:e[t],commitment:s[t],proof:Zt(n)})}t=t[0]}Dt(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",Yt(e));const s={type:3,chainId:mh(t[0],"chainId"),nonce:gh(t[1],"nonce"),maxPriorityFeePerGas:mh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:mh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:mh(t[4],"gasLimit"),to:dh(t[5]),value:mh(t[6],"value"),data:Yt(t[7]),accessList:fh(t[8],"accessList"),maxFeePerBlobGas:mh(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10],blobWrapperVersion:r};i&&(s.blobs=i),Dt(null!=s.to,"invalid address for transaction type: ".concat(n),"data",e),Dt(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let o=0;o<s.blobVersionedHashes.length;o++)Dt(Gt(s.blobVersionedHashes[o],32),"invalid blobVersionedHash at index ".concat(o,": must be length 32"),"data",e);return 11===t.length||bh(s,t.slice(11)),s}(t));case 4:return Fh.from(function(e){const t=Yu(Wt(e).slice(1));Dt(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",Yt(e));const n={type:4,chainId:mh(t[0],"chainId"),nonce:gh(t[1],"nonce"),maxPriorityFeePerGas:mh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:mh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:mh(t[4],"gasLimit"),to:dh(t[5]),value:mh(t[6],"value"),data:Yt(t[7]),accessList:fh(t[8],"accessList"),authorizationList:ph(t[9],"authorizationList")};return 10===t.length||bh(n,t.slice(10)),n}(t))}Lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Fh;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=co.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobWrapperVersion&&(t.blobWrapperVersion=e.blobWrapperVersion),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(Dt(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Dt(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Dt(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Dt(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function zh(e,t){Lt(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[yh(e.nonce,"nonce"),yh(e.gasPrice||0,"gasPrice"),yh(e.gasLimit,"gasLimit"),e.to||"0x",yh(e.value,"value"),e.data];let r=nh;if(e.chainId!=nh)r=ln(e.chainId,"tx.chainId"),Dt(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==nh&&(n.push(gn(r)),n.push("0x"),n.push("0x")),eh(n);let i=BigInt(27+t.yParity);return r!==nh?i=co.getChainIdV(r,t.v):BigInt(t.v)!==i&&Dt(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(gn(i)),n.push(gn(t.r)),n.push(gn(t._s)),eh(n)}(this,n);case 1:return function(e,t){const n=[yh(e.chainId,"chainId"),yh(e.nonce,"nonce"),yh(e.gasPrice||0,"gasPrice"),yh(e.gasLimit,"gasLimit"),e.to||"0x",yh(e.value,"value"),e.data,wh(e.accessList||[])];return t&&(n.push(yh(t.yParity,"recoveryParam")),n.push(gn(t.r)),n.push(gn(t.s))),Zt(["0x01",eh(n)])}(this,n);case 2:return function(e,t){const n=[yh(e.chainId,"chainId"),yh(e.nonce,"nonce"),yh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yh(e.maxFeePerGas||0,"maxFeePerGas"),yh(e.gasLimit,"gasLimit"),e.to||"0x",yh(e.value,"value"),e.data,wh(e.accessList||[])];return t&&(n.push(yh(t.yParity,"yParity")),n.push(gn(t.r)),n.push(gn(t.s))),Zt(["0x02",eh(n)])}(this,n);case 3:return function(e,t,n){const r=[yh(e.chainId,"chainId"),yh(e.nonce,"nonce"),yh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yh(e.maxFeePerGas||0,"maxFeePerGas"),yh(e.gasLimit,"gasLimit"),e.to||Yo,yh(e.value,"value"),e.data,wh(e.accessList||[]),yh(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),vh(e.blobVersionedHashes||[],"blobVersionedHashes")];if(t&&(r.push(yh(t.yParity,"yParity")),r.push(gn(t.r)),r.push(gn(t.s)),n)){if(null!=e.blobWrapperVersion){const t=gn(e.blobWrapperVersion),i=[];for(const{proof:e}of n){const t=Wt(e),n=t.length/uh;for(let e=0;e<t.length;e+=n)i.push(t.subarray(e,e+n))}return Zt(["0x03",eh([r,t,n.map(e=>e.data),n.map(e=>e.commitment),i])])}return Zt(["0x03",eh([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])])}return Zt(["0x03",eh(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[yh(e.chainId,"chainId"),yh(e.nonce,"nonce"),yh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yh(e.maxFeePerGas||0,"maxFeePerGas"),yh(e.gasLimit,"gasLimit"),e.to||"0x",yh(e.value,"value"),e.data,wh(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[yh(e.chainId,"chainId"),e.address,yh(e.nonce,"nonce"),yh(e.signature.yParity,"yParity"),gn(e.signature.r),gn(e.signature._s)]))];var r;return t&&(n.push(yh(t.yParity,"yParity")),n.push(gn(t.r)),n.push(gn(t.s))),Zt(["0x04",eh(n)])}(this,n)}Lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const Hh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const qh=BigInt(58);var Vh;function Wh(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Dt(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class Kh{constructor(e){(0,qt.A)(this,"name",void 0),Tt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Gh=new RegExp("^(ipfs)://(.*)$","i"),Qh=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Gh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Jh=new WeakMap,Yh=new WeakMap,Zh=new WeakSet;class Xh{constructor(e,t,n){Ht(this,Zh),(0,qt.A)(this,"provider",void 0),(0,qt.A)(this,"address",void 0),(0,qt.A)(this,"name",void 0),kt(this,Jh,void 0),kt(this,Yh,void 0),Tt(this,{provider:e,address:t,name:n}),Nt(Jh,this,null),Nt(Yh,this,new ic(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==Ot(Jh,this)&&Nt(Jh,this,(async()=>{try{return await Ot(Yh,this).supportsInterface("0x9061b923")}catch(e){if(Bt(e,"CALL_EXCEPTION"))return!1;throw Nt(Jh,this,null),e}})()),await Ot(Jh,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await Pt(Zh,this,$h).call(this,"addr(bytes32)");return null==e||e===Yo?null:e}catch(i){if(Bt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await Pt(Zh,this,$h).call(this,"addr(bytes32,uint)",[t]);if(Gt(n,20))return Mr(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof Kh&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await Pt(Zh,this,$h).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;Lt(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await Pt(Zh,this,$h).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await Pt(Zh,this,$h).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=Wt(e);let n=dn(t),r="";for(;n;)r=Hh[Number(n%qh)]+r,n/=qh;for(let i=0;i<t.length&&!t[i];i++)r=Hh[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);Lt(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Qh.length;r++){const i=n.match(Qh[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=Wh(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:"!".concat(s,"caip"),value:i[2]||""}),{url:null,linkage:e};const c=a[1],l=new ic(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await l.ownerOf(c);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await l.balanceOf(o,c);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](c);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",pn(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=Wh(u)),e.push({type:"metadata-url",value:u});let h={};const d=await new Fo(u).send();d.assertOk();try{h=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:Yt(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let f=h.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Gh))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=Wh(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return Lt(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await ed.call(Xh,e,n);if(null!=r){const i=new Xh(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}async function $h(e,t){t=(t||[]).slice();const n=Ot(Yh,this).interface;t.unshift(gl(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Lt(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[ml(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await Ot(Yh,this)[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!Bt(i,"CALL_EXCEPTION"))throw i}return null}async function ed(e,t){const n=await Vh.getEnsAddress(e);try{const r=new ic(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(gl(t),{enableCcipRead:!0});return i===Yo?null:i}catch(r){throw r}}Vh=Xh;const td=BigInt(0);function nd(e,t){return function(n){return null==n?t:e(n)}}function rd(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function id(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){const e=i instanceof Error?i.message:"not-an-error";Lt(!1,"invalid value for value.".concat(s," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function sd(e){return Dt(Gt(e,!0),"invalid data","value",e),e}function od(e){return Dt(Gt(e,32),"invalid hash","value",e),e}const ad=id({address:Mr,blockHash:od,blockNumber:fn,data:sd,index:fn,removed:nd(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Dt(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},!1),topics:rd(od),transactionHash:od,transactionIndex:fn},{index:["logIndex"]});const cd=id({hash:nd(od),parentHash:od,parentBeaconBlockRoot:nd(od,null),number:fn,timestamp:fn,nonce:nd(sd),difficulty:ln,gasLimit:ln,gasUsed:ln,stateRoot:nd(od,null),receiptsRoot:nd(od,null),blobGasUsed:nd(ln,null),excessBlobGas:nd(ln,null),miner:nd(Mr),prevRandao:nd(od,null),extraData:sd,baseFeePerGas:nd(ln)},{prevRandao:["mixHash"]});const ld=id({transactionIndex:fn,blockNumber:fn,transactionHash:od,address:Mr,topics:rd(od),data:sd,index:fn,blockHash:od},{index:["logIndex"]});const ud=id({to:nd(Mr,null),from:nd(Mr,null),contractAddress:nd(Mr,null),index:fn,root:nd(Yt),gasUsed:ln,blobGasUsed:nd(ln,null),logsBloom:nd(sd),blockHash:od,hash:od,logs:rd(function(e){return ld(e)}),blockNumber:fn,cumulativeGasUsed:ln,effectiveGasPrice:nd(ln),blobGasPrice:nd(ln,null),status:nd(fn),type:nd(fn,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function hd(e){e.to&&ln(e.to)===td&&(e.to="0x0000000000000000000000000000000000000000");const t=id({hash:od,index:nd(fn,void 0),type:e=>"0x"===e||null==e?0:fn(e),accessList:nd(Ws,null),blobVersionedHashes:nd(rd(od,!0),null),authorizationList:nd(rd(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:Mr(e.address),chainId:ln(e.chainId),nonce:ln(e.nonce),signature:co.from(t)}},!1),null),blockHash:nd(od,null),blockNumber:nd(fn,null),transactionIndex:nd(fn,null),from:Mr,gasPrice:nd(ln),maxPriorityFeePerGas:nd(ln),maxFeePerGas:nd(ln),maxFeePerBlobGas:nd(ln,null),gasLimit:ln,to:nd(Mr,null),value:ln,nonce:fn,data:sd,creates:nd(Mr,null),chainId:nd(ln,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=Mr(e.from);let n=ln(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,Mr($t(Tr(eh([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=co.from(e.signature):t.signature=co.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&ln(t.blockHash)===td&&(t.blockHash=null),t}class dd{constructor(e){(0,qt.A)(this,"name",void 0),Tt(this,{name:e})}clone(){return new dd(this.name)}}class fd extends dd{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),(0,qt.A)(this,"effectiveBlock",void 0),(0,qt.A)(this,"txBase",void 0),(0,qt.A)(this,"txCreate",void 0),(0,qt.A)(this,"txDataZero",void 0),(0,qt.A)(this,"txDataNonzero",void 0),(0,qt.A)(this,"txAccessListStorageKey",void 0),(0,qt.A)(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),Dt("number"===typeof i,"invalud value for ".concat(e),"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),Tt(this,n)}clone(){return new fd(this.effectiveBlock,this)}}class pd extends dd{constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,qt.A)(this,"address",void 0),(0,qt.A)(this,"targetNetwork",void 0),Tt(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new pd(this.address,this.targetNetwork)}}var gd=new WeakMap,md=new WeakMap;class yd extends dd{get url(){return Ot(gd,this)}get processFunc(){return Ot(md,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),kt(this,gd,void 0),kt(this,md,void 0),Nt(gd,this,e),Nt(md,this,t)}clone(){return this}}const wd=new Map;var vd=new WeakMap,bd=new WeakMap,Ed=new WeakMap;class xd{constructor(e,t){kt(this,vd,void 0),kt(this,bd,void 0),kt(this,Ed,void 0),Nt(vd,this,e),Nt(bd,this,ln(t)),Nt(Ed,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return Ot(vd,this)}set name(e){Nt(vd,this,e)}get chainId(){return Ot(bd,this)}set chainId(e){Nt(bd,this,ln(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===ln(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===ln(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===ln(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(Ot(Ed,this).values())}attachPlugin(e){if(Ot(Ed,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return Ot(Ed,this).set(e.name,e.clone()),this}getPlugin(e){return Ot(Ed,this).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new xd(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new fd;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Ws(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Id)return;function e(e,t,n){const r=function(){const r=new xd(e,t);return null!=n.ensNetwork&&r.attachPlugin(new pd(null,n.ensNetwork)),r.attachPlugin(new fd),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};xd.register(e,r),xd.register(t,r),n.altNames&&n.altNames.forEach(e=>{xd.register(e,r)})}Id=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("filecoin",314,{}),e("filecoin-calibration",314159,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Sd("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Sd("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return xd.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=wd.get(e);if(t)return t();if("bigint"===typeof e)return new xd("unknown",e);Dt(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){Dt("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new xd(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new pd(e.ensAddress,e.ensNetwork)),t}Dt(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=wd.get(e);n&&Dt(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),wd.set(e,t)}}function Ad(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function Sd(e){return new yd(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Ad(s.maxFee,9),maxPriorityFeePerGas:Ad(s.maxPriorityFee,9)}}catch(i){Lt(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:i})}})}let Id=!1;function kd(e){return JSON.parse(JSON.stringify(e))}var Pd=new WeakMap,Od=new WeakMap,Nd=new WeakMap,Cd=new WeakMap,Rd=new WeakSet;class Td{constructor(e){Ht(this,Rd),kt(this,Pd,void 0),kt(this,Od,void 0),kt(this,Nd,void 0),kt(this,Cd,void 0),Nt(Pd,this,e),Nt(Od,this,null),Nt(Nd,this,4e3),Nt(Cd,this,-2)}get pollingInterval(){return Ot(Nd,this)}set pollingInterval(e){Nt(Nd,this,e)}start(){Ot(Od,this)||(Nt(Od,this,Ot(Pd,this)._setTimeout(Pt(Rd,this,_d).bind(this),Ot(Nd,this))),Pt(Rd,this,_d).call(this))}stop(){Ot(Od,this)&&(Ot(Pd,this)._clearTimeout(Ot(Od,this)),Nt(Od,this,null))}pause(e){this.stop(),e&&Nt(Cd,this,-2)}resume(){this.start()}}async function _d(){try{const e=await Ot(Pd,this).getBlockNumber();if(-2===Ot(Cd,this))return void Nt(Cd,this,e);if(e!==Ot(Cd,this)){for(let t=Ot(Cd,this)+1;t<=e;t++){if(null==Ot(Od,this))return;await Ot(Pd,this).emit("block",t)}Nt(Cd,this,e)}}catch(e){}null!=Ot(Od,this)&&Nt(Od,this,Ot(Pd,this)._setTimeout(Pt(Rd,this,_d).bind(this),Ot(Nd,this)))}var Bd=new WeakMap,jd=new WeakMap,Ud=new WeakMap;class Ld{constructor(e){kt(this,Bd,void 0),kt(this,jd,void 0),kt(this,Ud,void 0),Nt(Bd,this,e),Nt(Ud,this,!1),Nt(jd,this,e=>{this._poll(e,Ot(Bd,this))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){Ot(Ud,this)||(Nt(Ud,this,!0),Ot(jd,this).call(this,-2),Ot(Bd,this).on("block",Ot(jd,this)))}stop(){Ot(Ud,this)&&(Nt(Ud,this,!1),Ot(Bd,this).off("block",Ot(jd,this)))}pause(e){this.stop()}resume(){this.start()}}var Dd=new WeakMap,Md=new WeakMap;class Fd extends Ld{constructor(e,t){super(e),kt(this,Dd,void 0),kt(this,Md,void 0),Nt(Dd,this,t),Nt(Md,this,-2)}pause(e){e&&Nt(Md,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(Ot(Dd,this));null!=n&&(-2===Ot(Md,this)?Nt(Md,this,n.number):n.number>Ot(Md,this)&&(t.emit(Ot(Dd,this),n.number),Nt(Md,this,n.number)))}}var zd=new WeakMap;class Hd extends Ld{constructor(e,t){super(e),kt(this,zd,void 0),Nt(zd,this,kd(t))}async _poll(e,t){throw new Error("@TODO")}}var qd=new WeakMap;class Vd extends Ld{constructor(e,t){super(e),kt(this,qd,void 0),Nt(qd,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(Ot(qd,this));n&&t.emit(Ot(qd,this),n)}}var Wd=new WeakMap,Kd=new WeakMap,Gd=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,Yd=new WeakSet;class Zd{constructor(e,t){Ht(this,Yd),kt(this,Wd,void 0),kt(this,Kd,void 0),kt(this,Gd,void 0),kt(this,Qd,void 0),kt(this,Jd,void 0),Nt(Wd,this,e),Nt(Kd,this,kd(t)),Nt(Gd,this,Pt(Yd,this,Xd).bind(this)),Nt(Qd,this,!1),Nt(Jd,this,-2)}start(){Ot(Qd,this)||(Nt(Qd,this,!0),-2===Ot(Jd,this)&&Ot(Wd,this).getBlockNumber().then(e=>{Nt(Jd,this,e)}),Ot(Wd,this).on("block",Ot(Gd,this)))}stop(){Ot(Qd,this)&&(Nt(Qd,this,!1),Ot(Wd,this).off("block",Ot(Gd,this)))}pause(e){this.stop(),e&&Nt(Jd,this,-2)}resume(){this.start()}}async function Xd(e){if(-2===Ot(Jd,this))return;const t=kd(Ot(Kd,this));t.fromBlock=Ot(Jd,this)+1,t.toBlock=e;const n=await Ot(Wd,this).getLogs(t);if(0!==n.length)for(const r of n)Ot(Wd,this).emit(Ot(Kd,this),r),Nt(Jd,this,r.blockNumber);else Ot(Jd,this)<e-60&&Nt(Jd,this,e-60)}const $d=BigInt(2);function ef(e){return e&&"function"===typeof e.then}function tf(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class nf{constructor(e){(0,qt.A)(this,"name",void 0),Tt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function rf(e){return(e=Array.from(new Set(e).values())).sort(),e}async function sf(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Gt(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:tf("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:tf("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?rf(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],i=[],s=n=>{Gt(n)?e.push(n):i.push((async()=>{e.push(await As(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=rf(e.map(e=>e.toLowerCase()))}return{filter:r,tag:tf("event",r),type:"event"}}Dt(!1,"unknown ProviderEvent","event",e)}function of(){return(new Date).getTime()}const af={cacheTimeout:250,pollingInterval:4e3};var cf=new WeakMap,lf=new WeakMap,uf=new WeakMap,hf=new WeakMap,df=new WeakMap,ff=new WeakMap,pf=new WeakMap,gf=new WeakMap,mf=new WeakMap,yf=new WeakMap,wf=new WeakMap,vf=new WeakMap,bf=new WeakSet;class Ef{constructor(e,t){if(Ht(this,bf),kt(this,cf,void 0),kt(this,lf,void 0),kt(this,uf,void 0),kt(this,hf,void 0),kt(this,df,void 0),kt(this,ff,void 0),kt(this,pf,void 0),kt(this,gf,void 0),kt(this,mf,void 0),kt(this,yf,void 0),kt(this,wf,void 0),kt(this,vf,void 0),Nt(vf,this,Object.assign({},af,t||{})),"any"===e)Nt(ff,this,!0),Nt(df,this,null);else if(e){const t=xd.from(e);Nt(ff,this,!1),Nt(df,this,Promise.resolve(t)),setTimeout(()=>{this.emit("network",t,null)},0)}else Nt(ff,this,!1),Nt(df,this,null);Nt(gf,this,-1),Nt(pf,this,new Map),Nt(cf,this,new Map),Nt(lf,this,new Map),Nt(uf,this,null),Nt(hf,this,!1),Nt(mf,this,1),Nt(yf,this,new Map),Nt(wf,this,!1)}get pollingInterval(){return Ot(vf,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(Ot(lf,this).values())}attachPlugin(e){if(Ot(lf,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return Ot(lf,this).set(e.name,e.connect(this)),this}getPlugin(e){return Ot(lf,this).get(e)||null}get disableCcipRead(){return Ot(wf,this)}set disableCcipRead(e){Nt(wf,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],c=t.replace("{sender}",r).replace("{data}",i),l=new Fo(c);-1===t.indexOf("{data}")&&(l.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let u,h="unknown error";try{u=await l.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(o){}Lt(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}Lt(!1,"error encountered during CCIP fetch: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new ya(function(e){const t=cd(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:hd(e)),t}(e),this)}_wrapLog(e,t){return new wa(function(e){return ad(e)}(e),this)}_wrapTransactionReceipt(e,t){return new ba(function(e){return ud(e)}(e),this)}_wrapTransactionResponse(e,t){return new xa(hd(e),this)}_detectNetwork(){Lt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Lt(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=fn(await Pt(bf,this,xf).call(this,{method:"getBlockNumber"}),"%response");return Ot(gf,this)>=0&&Nt(gf,this,e),e}_getAddress(e){return As(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Gt(e)?Gt(e,32)?e:mn(e):("bigint"===typeof e&&(e=fn(e,"blockTag")),"number"===typeof e?e>=0?mn(e):Ot(gf,this)>=0?mn(Ot(gf,this)+e):this.getBlockNumber().then(t=>mn(t+e)):void Dt(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?rf(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!==typeof e).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then(e=>r(e[0],e[1],e[2])):r(o,i,s)}_getTransactionRequest(e){const t=ga(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=As(t[e],this);ef(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);ef(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==Ot(df,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw Ot(df,this)===e&&Nt(df,this,null),t}})();return Nt(df,this,e),(await e).clone()}const e=Ot(df,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(Ot(ff,this)?(this.emit("network",n,t),Ot(df,this)===e&&Nt(df,this,Promise.resolve(n))):Lt(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await Rt({_block:Pt(bf,this,kf).call(this,"latest",!1),gasPrice:(async()=>{try{return ln(await Pt(bf,this,xf).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return ln(await Pt(bf,this,xf).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*$d+s),new pa(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Fo(n.url),r=await n.processFunc(t,this,e);return new pa(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return ef(t)&&(t=await t),ln(await Pt(bf,this,xf).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await Rt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Pt(bf,this,Sf).call(this,Pt(bf,this,Af).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return ln(await Pt(bf,this,If).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return fn(await Pt(bf,this,If).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Yt(await Pt(bf,this,If).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=ln(t,"position");return Yt(await Pt(bf,this,If).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await Rt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Fh.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await Rt({network:this.getNetwork(),params:Pt(bf,this,kf).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await Rt({network:this.getNetwork(),params:Pt(bf,this,xf).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await Rt({network:this.getNetwork(),params:Pt(bf,this,xf).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await Pt(bf,this,xf).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await Rt({network:this.getNetwork(),result:Pt(bf,this,xf).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:Yt(t)}async getLogs(e){let t=this._getFilter(e);ef(t)&&(t=await t);const{network:n,params:r}=await Rt({network:this.getNetwork(),params:Pt(bf,this,xf).call(this,{method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){Lt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Xh.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=gl((e=Mr(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Xh.getEnsAddress(this),r=new ic(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===Yo)return null;const s=new ic(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(Bt(n,"BAD_DATA")&&"0x"===n.value)return null;if(Bt(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",o),i(Ut("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){Lt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=Ot(yf,this).get(e);t&&(t.timer&&clearTimeout(t.timer),Ot(yf,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const i=(Nt(mf,this,(n=Ot(mf,this),r=n++,n)),r),s=()=>{Ot(yf,this).delete(i),e()};if(this.paused)Ot(yf,this).set(i,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);Ot(yf,this).set(i,{timer:e,func:s,time:of()})}return i}_forEachSubscriber(e){for(const t of Ot(cf,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new nf(e.type);case"block":{const e=new Td(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Fd(this,e.type);case"event":return new Zd(this,e.filter);case"transaction":return new Vd(this,e.hash);case"orphan":return new Hd(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of Ot(cf,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=Ot(uf,this)&&t.pause(Ot(uf,this));break}}async on(e,t){const n=await Pt(bf,this,Of).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=Ot(uf,this)&&n.subscriber.pause(Ot(uf,this))),this}async once(e,t){const n=await Pt(bf,this,Of).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=Ot(uf,this)&&n.subscriber.pause(Ot(uf,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await Pt(bf,this,Pf).call(this,e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:r,once:i}=t;const s=new ka(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i}),0===i.listeners.length&&(i.started&&i.subscriber.stop(),Ot(cf,this).delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await Pt(bf,this,Pf).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of Ot(cf,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await Pt(bf,this,Pf).call(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of Ot(cf,this).values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await Pt(bf,this,Pf).call(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),Ot(cf,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await Pt(bf,this,Of).call(this,e);n&&r.stop(),Ot(cf,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of Ot(cf,this))n&&r.stop(),Ot(cf,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return Ot(hf,this)}destroy(){this.removeAllListeners();for(const e of Ot(yf,this).keys())this._clearTimeout(e);Nt(hf,this,!0)}get paused(){return null!=Ot(uf,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(Nt(gf,this,-1),null!=Ot(uf,this)){if(Ot(uf,this)==!!e)return;Lt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),Nt(uf,this,!!e);for(const t of Ot(yf,this).values())t.timer&&clearTimeout(t.timer),t.time=of()-t.time}resume(){if(null!=Ot(uf,this)){this._forEachSubscriber(e=>e.resume()),Nt(uf,this,null);for(const e of Ot(yf,this).values()){let t=e.time;t<0&&(t=0),e.time=of(),setTimeout(e.func,t)}}}}async function xf(e){const t=Ot(vf,this).cacheTimeout;if(t<0)return await this._perform(e);const n=tf(e.method,e);let r=Ot(pf,this).get(n);return r||(r=this._perform(e),Ot(pf,this).set(n,r),setTimeout(()=>{Ot(pf,this).get(n)===r&&Ot(pf,this).delete(n)},t)),await r}async function Af(e,t,n){Lt(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=ga(e);try{return Yt(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&jt(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===$t(i.data,0,4)){const e=i.data,s=await As(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Lt(Xt(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=$t(e,0,32);Lt($t(n,0,12)===$t(jf,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=$t(n,12);try{const n=[],r=fn($t(e,32,64)),i=fn($t(e,r,r+32)),s=$t(e,r+32);for(let e=0;e<i;e++){const t=Nf(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){Lt(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Cf(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){Lt(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Lt($t(e,100,128)===$t(jf,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=$t(e,96,100);try{const n=Cf(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){Lt(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}($t(i.data,4))}catch(i){Lt(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}Lt(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);Lt(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:Zt([o.selector,Bf([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await Pt(bf,this,Af).call(this,c,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async function Sf(e){const{value:t}=await Rt({network:this.getNetwork(),value:e});return t}async function If(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await Pt(bf,this,Sf).call(this,Pt(bf,this,xf).call(this,Object.assign(e,{address:r,blockTag:i})))}async function kf(e,t){if(Gt(e,32))return await Pt(bf,this,xf).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await Pt(bf,this,xf).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function Pf(e,t){let n=await sf(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await sf({orphan:"drop-log",log:t[0]},this)),Ot(cf,this).get(n.tag)||null}async function Of(e){const t=await sf(e,this),n=t.tag;let r=Ot(cf,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},Ot(cf,this).set(n,r)}return r}function Nf(e,t){try{const n=Cf(e,t);if(n)return hi(n)}catch(n){}return null}function Cf(e,t){if("0x"===e)return null;try{const n=fn($t(e,t,t+32)),r=fn($t(e,n,n+32));return $t(e,n+32,n+32+r)}catch(n){}return null}function Rf(e){const t=gn(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Tf(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const _f=new Uint8Array([]);function Bf(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(_f),n+=32;for(let r=0;r<e.length;r++){const i=Wt(e[r]);t[r]=Rf(n),t.push(Rf(i.length)),t.push(Tf(i)),n+=32+32*Math.ceil(i.length/32)}return Zt(t)}const jf="0x0000000000000000000000000000000000000000000000000000000000000000";function Uf(e,t){if(e.provider)return e.provider;Lt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Lf(e,t){let n=ga(t);if(null!=n.to&&(n.to=As(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),As(t,e)]).then(e=>{let[t,n]=e;return Dt(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await Rt(n)}class Df{constructor(e){(0,qt.A)(this,"provider",void 0),Tt(this,{provider:e||null})}async getNonce(e){return Uf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Lf(this,e)}async populateTransaction(e){const t=Uf(this,"populateTransaction"),n=await Lf(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){Dt(ln(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||Dt(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Dt(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();Lt(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Lt(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):Lt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await Rt(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await Uf(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Uf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Uf(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Uf(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Uf(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Fh.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){Lt(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Mf=new WeakMap,Ff=new WeakMap,zf=new WeakMap,Hf=new WeakMap,qf=new WeakMap,Vf=new WeakMap,Wf=new WeakSet;class Kf{constructor(e){Ht(this,Wf),kt(this,Mf,void 0),kt(this,Ff,void 0),kt(this,zf,void 0),kt(this,Hf,void 0),kt(this,qf,void 0),kt(this,Vf,void 0),Nt(Mf,this,e),Nt(Ff,this,null),Nt(zf,this,Pt(Wf,this,Gf).bind(this)),Nt(Hf,this,!1),Nt(qf,this,null),Nt(Vf,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){Ot(Hf,this)||(Nt(Hf,this,!0),Pt(Wf,this,Gf).call(this,-2))}stop(){Ot(Hf,this)&&(Nt(Hf,this,!1),Nt(Vf,this,!0),Pt(Wf,this,Qf).call(this),Ot(Mf,this).off("block",Ot(zf,this)))}pause(e){e&&Pt(Wf,this,Qf).call(this),Ot(Mf,this).off("block",Ot(zf,this))}resume(){this.start()}}async function Gf(e){try{null==Ot(Ff,this)&&Nt(Ff,this,this._subscribe(Ot(Mf,this)));let e=null;try{e=await Ot(Ff,this)}catch(t){if(!Bt(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return Nt(Ff,this,null),void Ot(Mf,this)._recoverSubscriber(this,this._recover(Ot(Mf,this)));const n=await Ot(Mf,this).getNetwork();if(Ot(qf,this)||Nt(qf,this,n),Ot(qf,this).chainId!==n.chainId)throw new Error("chaid changed");if(Ot(Vf,this))return;const r=await Ot(Mf,this).send("eth_getFilterChanges",[e]);await this._emitResults(Ot(Mf,this),r)}catch(t){console.log("@TODO",t)}Ot(Mf,this).once("block",Ot(zf,this))}function Qf(){const e=Ot(Ff,this);e&&(Nt(Ff,this,null),e.then(e=>{Ot(Mf,this).destroyed||Ot(Mf,this).send("eth_uninstallFilter",[e])}))}var Jf=new WeakMap;class Yf extends Kf{constructor(e,t){var n;super(e),kt(this,Jf,void 0),Nt(Jf,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new Zd(e,Ot(Jf,this))}async _subscribe(e){return await e.send("eth_newFilter",[Ot(Jf,this)])}async _emitResults(e,t){for(const n of t)e.emit(Ot(Jf,this),e._wrapLog(n,e._network))}}class Zf extends Kf{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Xf="bigint,boolean,function,number,string,symbol".split(/,/g);function $f(e){if(null==e||Xf.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map($f);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function ep(e){return new Promise(t=>{setTimeout(t,e)})}function tp(e){return e?e.toLowerCase():e}function np(e){return e&&"number"===typeof e.pollingInterval}const rp={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class ip extends Df{constructor(e,t){super(e),(0,qt.A)(this,"address",void 0),Tt(this,{address:t=Mr(t)})}connect(e){Lt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=$f(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await As(r,this.provider);Dt(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas((0,o.A)((0,o.A)({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await As(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(Bt(a,"CANCELLED")||Bt(a,"BAD_DATA")||Bt(a,"NETWORK_ERROR")||Bt(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(Bt(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",Ut("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout(()=>{o()},i.pop()||4e3)};o()})}async signTransaction(e){const t=$f(e);if(t.from){const n=await As(t.from,this.provider);Dt(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?ui(e):e;return await this.provider.send("personal_sign",[Yt(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=$f(n),i=await Hs.resolveNames(e,t,r,async e=>{const t=await As(e);return Dt(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Hs.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?ui(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Yt(t)])}}var sp=new WeakMap,op=new WeakMap,ap=new WeakMap,cp=new WeakMap,lp=new WeakMap,up=new WeakMap,hp=new WeakMap,dp=new WeakSet;class fp extends Ef{constructor(e,t){super(e,t),Ht(this,dp),kt(this,sp,void 0),kt(this,op,void 0),kt(this,ap,void 0),kt(this,cp,void 0),kt(this,lp,void 0),kt(this,up,void 0),kt(this,hp,void 0),Nt(op,this,1),Nt(sp,this,Object.assign({},rp,t||{})),Nt(ap,this,[]),Nt(cp,this,null),Nt(up,this,null),Nt(hp,this,null);{let e=null;const t=new Promise(t=>{e=t});Nt(lp,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(Dt(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&Nt(up,this,xd.from(e))):n&&(Dt(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),Nt(up,this,n))}_getOption(e){return Ot(sp,this)[e]}get _network(){return Lt(Ot(up,this),"network is not available yet","NETWORK_ERROR"),Ot(up,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&ln(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(Ot(up,this))return Ot(up,this)}return Ot(hp,this)?await Ot(hp,this):this.ready?(Nt(hp,this,(async()=>{try{const e=xd.from(ln(await this.send("eth_chainId",[])));return Nt(hp,this,null),e}catch(e){throw Nt(hp,this,null),e}})()),await Ot(hp,this)):(Nt(hp,this,(async(e,t)=>{const n={id:(Nt(op,this,(e=Ot(op,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],Nt(hp,this,null)}catch(i){throw Nt(hp,this,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return xd.from(ln(r.result));throw this.getRpcError(n,r)})()),await Ot(hp,this))}_start(){null!=Ot(lp,this)&&null!=Ot(lp,this).resolve&&(Ot(lp,this).resolve(),Nt(lp,this,null),(async()=>{for(;null==Ot(up,this)&&!this.destroyed;)try{Nt(up,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ut("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await ep(1e3)}Pt(dp,this,pp).call(this)})())}async _waitUntilReady(){if(null!=Ot(lp,this))return await Ot(lp,this).promise}_getSubscriber(e){return"pending"===e.type?new Zf(this):"event"===e.type?this._getOption("polling")?new Zd(this,e.filter):new Yf(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new nf("orphan"):super._getSubscriber(e)}get ready(){return null==Ot(lp,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=mn(ln(e[n],"tx.".concat(n)))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=Yt(e[n]))}),e.accessList&&(t.accessList=Ws(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=lo(e);return{address:t.address,nonce:mn(t.nonce),chainId:mn(t.chainId),yParity:mn(t.signature.yParity),r:mn(t.signature.r),s:mn(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[tp(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[tp(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[tp(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[tp(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(tp):e.filter.address=tp(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Ut("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return Ut("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=vp(r),i=vs.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return bp(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Ut("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Ut("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return Ut("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Ut("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return Ut("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?Ut("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Ut("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(Ut("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=(Nt(op,this,(n=Ot(op,this),r=n++,n)),r),s=new Promise((n,r)=>{Ot(ap,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})});return Pt(dp,this,pp).call(this),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new ip(this,n[e])}const{accounts:n}=await Rt({network:this.getNetwork(),accounts:t});e=Mr(e);for(const r of n)if(Mr(r)===e)return new ip(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new ip(this,e))}destroy(){Ot(cp,this)&&(clearTimeout(Ot(cp,this)),Nt(cp,this,null));for(const{payload:e,reject:t}of Ot(ap,this))t(Ut("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));Nt(ap,this,[]),super.destroy()}}function pp(){if(Ot(cp,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");Nt(cp,this,setTimeout(()=>{Nt(cp,this,null);const e=Ot(ap,this);for(Nt(ap,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==Ot(sp,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map(e=>e.payload));if(n.length>Ot(sp,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(Ut("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter(e=>e.id===i.id)[0];if(null==t){const e=Ut("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(i,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e))}var gp=new WeakMap;class mp extends fp{constructor(e,t){super(e,t),kt(this,gp,void 0);let n=this._getOption("pollingInterval");null==n&&(n=rp.pollingInterval),Nt(gp,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return np(t)&&(t.pollingInterval=Ot(gp,this)),t}get pollingInterval(){return Ot(gp,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");Nt(gp,this,e),this._forEachSubscriber(e=>{np(e)&&(e.pollingInterval=Ot(gp,this))})}}var yp=new WeakMap;class wp extends mp{constructor(e,t,n){null==e&&(e="http://localhost:8545"),super(t,n),kt(this,yp,void 0),Nt(yp,this,"string"===typeof e?new Fo(e):e.clone())}_getConnection(){return Ot(yp,this).clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}}function vp(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&Gt(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=vp(e[t]);if(n)return n}return null}if("string"===typeof e)try{return vp(JSON.parse(e))}catch(t){}return null}function bp(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)bp(e[n],t);if("string"===typeof e)try{return bp(JSON.parse(e),t)}catch(n){}}}var Ep,xp=new WeakMap,Ap=new WeakMap;class Sp extends mp{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});Dt(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),kt(this,xp,void 0),kt(this,Ap,void 0),Nt(Ap,this,null),n&&n.providerInfo&&Nt(Ap,this,n.providerInfo),Nt(xp,this,async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(kj){const t=new Error(kj.message);throw t.code=kj.code,t.data=kj.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}})}get providerInfo(){return Ot(Ap,this)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Dt(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await Ot(xp,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(kj){return[{id:e.id,error:{code:kj.code,data:kj.data,message:kj.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await Ot(xp,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new Sp(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Sp(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((i,s)=>{let o=[];const a=e=>{o.push(e.detail),n&&c()},c=()=>{if(clearTimeout(l),o.length)if(e&&e.filter){const t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)i(null);else if(t instanceof Sp)i(t);else{let e=null;if(t.uuid){const n=o.filter(e=>t.uuid===e.info.uuid);e=n[0]}if(e){const{provider:t,info:n}=e;i(new Sp(t,void 0,{providerInfo:n}))}else s(Ut("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=o[0];i(new Sp(e,void 0,{providerInfo:t}))}else i(null);t.removeEventListener("eip6963:announceProvider",a)},l=setTimeout(()=>{c()},r);t.addEventListener("eip6963:announceProvider",a),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Ip=BigInt(-1),kp=BigInt(0),Pp=BigInt(1),Op=BigInt(5),Np={};let Cp="0000";for(;Cp.length<80;)Cp+=Cp;function Rp(e){let t=Cp;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Tp(e,t,n){const r=BigInt(t.width);if(t.signed){const t=Pp<<r-Pp;Lt(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>kp?on(cn(e,r),r):-on(cn(-e,r),r)}else{const t=Pp<<r;Lt(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-Pp}return e}function _p(e){"number"===typeof e&&(e="fixed128x".concat(e));let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Dt(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(Dt(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}Dt(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Dt(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var Bp=new WeakMap,jp=new WeakMap,Up=new WeakMap,Lp=new WeakSet;class Dp{constructor(e,t,n){Ht(this,Lp),(0,qt.A)(this,"format",void 0),kt(this,Bp,void 0),kt(this,jp,void 0),kt(this,Up,void 0),(0,qt.A)(this,"_value",void 0),zt(e,Np,"FixedNumber"),Nt(jp,this,t),Nt(Bp,this,n);const r=function(e,t){let n="";e<kp&&(n="-",e*=Ip);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=Cp+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);Tt(this,{format:n.name,_value:r}),Nt(Up,this,Rp(n.decimals))}get signed(){return Ot(Bp,this).signed}get width(){return Ot(Bp,this).width}get decimals(){return Ot(Bp,this).decimals}get value(){return Ot(jp,this)}addUnsafe(e){return Pt(Lp,this,zp).call(this,e)}add(e){return Pt(Lp,this,zp).call(this,e,"add")}subUnsafe(e){return Pt(Lp,this,Hp).call(this,e)}sub(e){return Pt(Lp,this,Hp).call(this,e,"sub")}mulUnsafe(e){return Pt(Lp,this,qp).call(this,e)}mul(e){return Pt(Lp,this,qp).call(this,e,"mul")}mulSignal(e){Pt(Lp,this,Mp).call(this,e);const t=Ot(jp,this)*Ot(jp,e);return Lt(t%Ot(Up,this)===kp,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Pt(Lp,this,Fp).call(this,t/Ot(Up,this),"mulSignal")}divUnsafe(e){return Pt(Lp,this,Vp).call(this,e)}div(e){return Pt(Lp,this,Vp).call(this,e,"div")}divSignal(e){Lt(Ot(jp,e)!==kp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Pt(Lp,this,Mp).call(this,e);const t=Ot(jp,this)*Ot(Up,this);return Lt(t%Ot(jp,e)===kp,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Pt(Lp,this,Fp).call(this,t/Ot(jp,e),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=Rp(r):r<0&&(t*=Rp(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=Ot(jp,this);return Ot(jp,this)<kp&&(e-=Ot(Up,this)-Pp),e=Ot(jp,this)/Ot(Up,this)*Ot(Up,this),Pt(Lp,this,Fp).call(this,e,"floor")}ceiling(){let e=Ot(jp,this);return Ot(jp,this)>kp&&(e+=Ot(Up,this)-Pp),e=Ot(jp,this)/Ot(Up,this)*Ot(Up,this),Pt(Lp,this,Fp).call(this,e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=Op*Rp(t-1);let r=this.value+n;const i=Rp(t);return r=r/i*i,Tp(r,Ot(Bp,this),"round"),new Dp(Np,r,Ot(Bp,this))}isZero(){return Ot(jp,this)===kp}isNegative(){return Ot(jp,this)<kp}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Dp.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:fn(t),i=_p(n);let s=ln(e,"value");const o=r-i.decimals;if(o>0){const t=Rp(o);Lt(s%t===kp,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=Rp(-o));return Tp(s,i,"fromValue"),new Dp(Np,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Dt(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=_p(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=Cp;Lt(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return Tp(o,r,"fromString"),new Dp(Np,o,r)}static fromBytes(e,t){let n=dn(Wt(e,"value"));const r=_p(t);return r.signed&&(n=on(n,r.width)),Tp(n,r,"fromBytes"),new Dp(Np,n,r)}}function Mp(e){Dt(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function Fp(e,t){return e=Tp(e,Ot(Bp,this),t),new Ep(Np,e,Ot(Bp,this))}function zp(e,t){return Pt(Lp,this,Mp).call(this,e),Pt(Lp,this,Fp).call(this,Ot(jp,this)+Ot(jp,e),t)}function Hp(e,t){return Pt(Lp,this,Mp).call(this,e),Pt(Lp,this,Fp).call(this,Ot(jp,this)-Ot(jp,e),t)}function qp(e,t){return Pt(Lp,this,Mp).call(this,e),Pt(Lp,this,Fp).call(this,Ot(jp,this)*Ot(jp,e)/Ot(Up,this),t)}function Vp(e,t){return Lt(Ot(jp,e)!==kp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Pt(Lp,this,Mp).call(this,e),Pt(Lp,this,Fp).call(this,Ot(jp,this)*Ot(Up,this)/Ot(jp,e),t)}Ep=Dp;const Wp=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Kp(e,t){let n=18;if("string"===typeof t){const e=Wp.indexOf(t);Dt(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=fn(t,"unit"));return Dp.fromValue(e,n,{decimals:n,width:512}).toString()}function Gp(e,t){Dt("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=Wp.indexOf(t);Dt(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=fn(t,"unit"));return Dp.fromString(e,{decimals:n,width:512}).value}var Qp=n(7284),Jp=n.n(Qp),Yp=n(9827),Zp=n(3901),Xp=n(33),$p=n(9332);class eg extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e=>{if(t.cause instanceof eg){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"===typeof t.cause.details?t.cause.details:null!==(e=t.cause)&&void 0!==e&&e.message?t.cause.message:t.details})(),r=t.cause instanceof eg&&t.cause.docsPath||t.docsPath,i="".concat("https://oxlib.sh").concat(null!==r&&void 0!==r?r:""),s=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?"Details: ".concat(n):void 0,r?"See: ".concat(i):void 0]:[]].filter(e=>"string"===typeof e).join("\n");super(s,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@".concat("0.1.1")}),this.cause=t.cause,this.details=n,this.docs=i,this.docsPath=r,this.shortMessage=e}walk(e){return tg(this,e)}}function tg(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&e.cause?tg(e.cause,t):t?null:e}function ng(e,t){if(fg(e)>t)throw new wg({givenSize:fg(e),maxSize:t})}function rg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dir:n,size:r=32}=t;if(0===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new bg({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return"0x".concat(i["right"===n?"padEnd":"padStart"](2*r,"0"))}const ig="#__bigint";function sg(e,t,n){return JSON.stringify(e,(e,n)=>"function"===typeof t?t(e,n):"bigint"===typeof n?n.toString()+ig:n,n)}const og=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ag(e){return e instanceof Uint8Array?cg(e):Array.isArray(e)?cg(new Uint8Array(e)):e}function cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=og[e[i]];const r="0x".concat(n);return"number"===typeof t.size?(ng(r,t.size),hg(r,t.size)):r}function lg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new gg({max:s?"".concat(s).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a=(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16),c="0x".concat(a);return r?ug(c,r):c}function ug(e,t){return rg(e,{dir:"left",size:t})}function hg(e,t){return rg(e,{dir:"right",size:t})}function dg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{strict:i}=r;!function(e,t){if("number"===typeof t&&t>0&&t>fg(e)-1)throw new vg({offset:t,position:"start",size:fg(e)})}(e,t);const s="0x".concat(e.replace("0x","").slice(2*(null!==t&&void 0!==t?t:0),2*(null!==n&&void 0!==n?n:e.length)));return i&&function(e,t,n){if("number"===typeof t&&"number"===typeof n&&fg(e)!==n-t)throw new vg({offset:n,position:"end",size:fg(e)})}(s,t,n),s}function fg(e){return Math.ceil((e.length-2)/2)}function pg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!1}=t;try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!1}=t;if(!e)throw new mg(e);if("string"!==typeof e)throw new mg(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new yg(e);if(!e.startsWith("0x"))throw new yg(e)}(e,{strict:n}),!0}catch(r){return!1}}class gg extends eg{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super("Number `".concat(s,"` is not in safe").concat(i?" ".concat(8*i,"-bit"):"").concat(r?" signed":" unsigned"," integer range ").concat(t?"(`".concat(n,"` to `").concat(t,"`)"):"(above `".concat(n,"`)"))),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class mg extends eg{constructor(e){super("Value `".concat("object"===typeof e?sg(e):e,"` of type `").concat(typeof e,"` is an invalid hex type."),{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class yg extends eg{constructor(e){super("Value `".concat(e,"` is an invalid hex value."),{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class wg extends eg{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed `".concat(n,"` bytes. Given size: `").concat(t,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class vg extends eg{constructor(e){let{offset:t,position:n,size:r}=e;super("Slice ".concat("start"===n?"starting":"ending"," at offset `").concat(t,"` is out-of-bounds (size: `").concat(r,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class bg extends eg{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(t,"`) exceeds padding size (`").concat(n,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Eg(e){if(130!==e.length&&132!==e.length)throw new Ag({signature:e});const t=BigInt(dg(e,0,32)),n=BigInt(dg(e,32,64)),r=(()=>{const t=Number("0x".concat(e.slice(130)));if(!Number.isNaN(t))try{return xg(t)}catch(n){throw new Sg({value:t})}})();return"undefined"===typeof r?{r:t,s:n}:{r:t,s:n,yParity:r}}function xg(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2===0?1:0;throw new Ig({value:e})}class Ag extends eg{constructor(e){let{signature:t}=e;super("Value `".concat(t,"` is an invalid signature size."),{metaMessages:["Expected: 64 bytes or 65 bytes.","Received ".concat(fg(ag(t))," bytes.")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Sg extends eg{constructor(e){let{value:t}=e;super("Value `".concat(t,"` is an invalid y-parity value. Y-parity must be 0 or 1.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ig extends eg{constructor(e){let{value:t}=e;super("Value `".concat(t,"` is an invalid v value. v must be 27, 28 or >=35.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}const kg="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Pg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Og(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function Ng(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Cg(e,t){Og(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function Tg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _g(e,t){return e<<32-t|e>>>t}const Bg=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function jg(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ug=Bg?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=jg(e[t]);return e};function Lg(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Dg(e){return"string"===typeof e&&(e=Lg(e)),Og(e),e}class Mg{}function Fg(e){const t=t=>e().update(Dg(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(kg&&"function"===typeof kg.getRandomValues)return kg.getRandomValues(new Uint8Array(e));if(kg&&"function"===typeof kg.randomBytes)return Uint8Array.from(kg.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Hg(e,t,n){return e&t^~e&n}function qg(e,t,n){return e&t^e&n^t&n}class Vg extends Mg{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Tg(this.buffer)}update(e){Ng(this),Og(e=Dg(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=Tg(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ng(this),Cg(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,Rg(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Tg(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Wg=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kg=BigInt(2**32-1),Gg=BigInt(32);function Qg(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Kg),l:Number(e>>Gg&Kg)}:{h:0|Number(e>>Gg&Kg),l:0|Number(e&Kg)}}function Jg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=Qg(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const Yg=(e,t,n)=>e<<n|t>>>32-n,Zg=(e,t,n)=>t<<n|e>>>32-n,Xg=(e,t,n)=>t<<n-32|e>>>64-n,$g=(e,t,n)=>e<<n-32|t>>>64-n;const em=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tm=new Uint32Array(64);class nm extends Vg{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|Wg[0],this.B=0|Wg[1],this.C=0|Wg[2],this.D=0|Wg[3],this.E=0|Wg[4],this.F=0|Wg[5],this.G=0|Wg[6],this.H=0|Wg[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)tm[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=tm[u-15],t=tm[u-2],n=_g(e,7)^_g(e,18)^e>>>3,r=_g(t,17)^_g(t,19)^t>>>10;tm[u]=r+tm[u-7]+n+tm[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(_g(o,6)^_g(o,11)^_g(o,25))+Hg(o,a,c)+em[u]+tm[u]|0,t=(_g(n,2)^_g(n,13)^_g(n,22))+qg(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){Rg(tm)}destroy(){this.set(0,0,0,0,0,0,0,0),Rg(this.buffer)}}const rm=Fg(()=>new nm);class im extends Mg{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Pg(e.outputLen),Pg(e.blockLen)}(e);const n=Dg(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),Rg(i)}update(e){return Ng(this),this.iHash.update(e),this}digestInto(e){Ng(this),Og(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sm=(e,t,n)=>new im(e,t).update(n).digest();sm.create=(e,t)=>new im(e,t);const om=BigInt(0),am=BigInt(1);function cm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function lm(e){if(!cm(e))throw new Error("Uint8Array expected")}function um(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}function hm(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function dm(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?om:BigInt("0x"+e)}const fm="function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex,pm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function gm(e){if(lm(e),fm)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=pm[e[n]];return t}const mm=48,ym=57,wm=65,vm=70,bm=97,Em=102;function xm(e){return e>=mm&&e<=ym?e-mm:e>=wm&&e<=vm?e-(wm-10):e>=bm&&e<=Em?e-(bm-10):void 0}function Am(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);if(fm)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=xm(e.charCodeAt(s)),n=xm(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Sm(e){return dm(gm(e))}function Im(e){return lm(e),dm(gm(Uint8Array.from(e).reverse()))}function km(e,t){return Am(e.toString(16).padStart(2*t,"0"))}function Pm(e,t){return km(e,t).reverse()}function Om(e,t,n){let r;if("string"===typeof t)try{r=Am(t)}catch(kj){throw new Error(e+" must be hex string or Uint8Array, cause: "+kj)}else{if(!cm(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Nm(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];lm(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const Cm=e=>"bigint"===typeof e&&om<=e;function Rm(e,t,n){return Cm(e)&&Cm(t)&&Cm(n)&&t<=e&&e<n}function Tm(e,t,n,r){if(!Rm(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const _m=e=>(am<<BigInt(e))-am,Bm=e=>new Uint8Array(e),jm=e=>Uint8Array.from(e);const Um={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||cm(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Lm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Um[n];if("function"!==typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Dm(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const Mm=BigInt(0),Fm=BigInt(1),zm=BigInt(2),Hm=BigInt(3),qm=BigInt(4),Vm=BigInt(5),Wm=BigInt(8);function Km(e,t){const n=e%t;return n>=Mm?n:t+n}function Gm(e,t,n){let r=e;for(;t-- >Mm;)r*=r,r%=n;return r}function Qm(e,t){if(e===Mm)throw new Error("invert: expected non-zero number");if(t<=Mm)throw new Error("invert: expected positive modulus, got "+t);let n=Km(e,t),r=t,i=Mm,s=Fm,o=Fm,a=Mm;for(;n!==Mm;){const e=r/n,t=r%n,c=i-o*e,l=s-a*e;r=n,n=t,i=o,s=a,o=c,a=l}if(r!==Fm)throw new Error("invert: does not exist");return Km(i,t)}function Jm(e,t){const n=(e.ORDER+Fm)/qm,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ym(e,t){const n=(e.ORDER-Vm)/Wm,r=e.mul(t,zm),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,zm),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Zm(e){return e%qm===Hm?Jm:e%Wm===Vm?Ym:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Fm,n=0;for(;t%zm===Mm;)t/=zm,n++;let r=zm;const i=ry(e);for(;1===ty(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Jm;let s=i.pow(r,t);const o=(t+Fm)/zm;return function(e,r){if(e.is0(r))return r;if(1!==ty(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Fm<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)}const Xm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $m(e,t,n){if(n<Mm)throw new Error("invalid exponent, negatives unsupported");if(n===Mm)return e.ONE;if(n===Fm)return t;let r=e.ONE,i=t;for(;n>Mm;)n&Fm&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Fm;return r}function ey(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function ty(e,t){const n=(e.ORDER-Fm)/zm,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function ny(e,t){void 0!==t&&Pg(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ry(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Mm)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=ny(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:_m(i),ZERO:Mm,ONE:Fm,create:t=>Km(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Mm<=t&&t<e},is0:e=>e===Mm,isOdd:e=>(e&Fm)===Fm,neg:t=>Km(-t,e),eql:(e,t)=>e===t,sqr:t=>Km(t*t,e),add:(t,n)=>Km(t+n,e),sub:(t,n)=>Km(t-n,e),mul:(t,n)=>Km(t*n,e),pow:(e,t)=>$m(a,e,t),div:(t,n)=>Km(t*Qm(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Qm(t,e),sqrt:r.sqrt||(t=>(o||(o=Zm(e)),o(a,t))),toBytes:e=>n?Pm(e,s):km(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?Im(e):Sm(e)},invertBatch:e=>ey(a,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(a)}function iy(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function sy(e){const t=iy(e);return t+Math.ceil(t/2)}const oy=BigInt(0),ay=BigInt(1);function cy(e,t){const n=t.negate();return e?n:t}function ly(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function uy(e,t){ly(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:_m(e),maxNumber:n,shiftBy:BigInt(e)}}function hy(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=ay);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:l}}function dy(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}function fy(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}const py=new WeakMap,gy=new WeakMap;function my(e){return gy.get(e)||1}function yy(e,t,n,r){dy(n,e),fy(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>om;e>>=am,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=_m(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((t.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(d)&l);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==d)for(let t=0;t<c;t++)h=h.double()}return h}function wy(e){return Lm(e.Fp,Xm.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Lm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,o.A)((0,o.A)((0,o.A)({},ny(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function vy(e){void 0!==e.lowS&&um("lowS",e.lowS),void 0!==e.prehash&&um("prehash",e.prehash)}class by extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const Ey={Err:by,_tlv:{encode:(e,t)=>{const{Err:n}=Ey;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=hm(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?hm(i.length/2|128):"";return hm(e)+s+i+t},decode(e,t){const{Err:n}=Ey;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Ey;if(e<Ay)throw new t("integer: negative integers are not allowed");let n=hm(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ey;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Sm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ey,i=Om("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Ey,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function xy(e,t){return gm(km(e,t))}const Ay=BigInt(0),Sy=BigInt(1),Iy=(BigInt(2),BigInt(3)),ky=BigInt(4);function Py(e){const t=function(e){const t=wy(e);Lm(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze((0,o.A)({},t))}(e),{Fp:n}=t,r=ry(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Nm(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}function c(e,t){const r=n.sqr(t),i=a(e);return n.eql(r,i)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,Iy),ky),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,u)))throw new Error("bad curve params: a or b");function h(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(cm(e)&&(e=gm(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Sm(Om("private key",e,r))}catch(a){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=Km(o,s)),Tm("private key",o,Sy,s),o}function d(e){if(!(e instanceof g))throw new Error("ProjectivePoint expected")}const f=Dm((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),p=Dm(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");if(!c(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof g)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?g.ZERO:new g(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=ey(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(g.fromAffine)}static fromHex(e){const t=g.fromAffine(s(Om("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(h(e))}static msm(e,t){return yy(g,r,e,t)}_setWindowSize(e){w.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Iy),{px:s,py:o,pz:a}=this;let c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(s,s),d=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,o);return p=n.add(p,p),u=n.mul(s,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,f),l=n.add(c,l),c=n.sub(d,l),l=n.add(d,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),f=n.mul(e,f),p=n.sub(h,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,f),h=n.mul(h,p),l=n.add(l,h),f=n.mul(o,a),f=n.add(f,f),h=n.mul(f,p),c=n.sub(c,h),u=n.mul(f,d),u=n.add(u,u),u=n.add(u,u),new g(c,l,u)}add(e){d(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=n.ZERO,u=n.ZERO,h=n.ZERO;const f=t.a,p=n.mul(t.b,Iy);let m=n.mul(r,o),y=n.mul(i,a),w=n.mul(s,c),v=n.add(r,i),b=n.add(o,a);v=n.mul(v,b),b=n.add(m,y),v=n.sub(v,b),b=n.add(r,s);let E=n.add(o,c);return b=n.mul(b,E),E=n.add(m,w),b=n.sub(b,E),E=n.add(i,s),l=n.add(a,c),E=n.mul(E,l),l=n.add(y,w),E=n.sub(E,l),h=n.mul(f,b),l=n.mul(p,w),h=n.add(l,h),l=n.sub(y,h),h=n.add(y,h),u=n.mul(l,h),y=n.add(m,m),y=n.add(y,m),w=n.mul(f,w),b=n.mul(p,b),y=n.add(y,w),w=n.sub(m,w),w=n.mul(f,w),b=n.add(b,w),m=n.mul(y,b),u=n.add(u,m),m=n.mul(E,b),l=n.mul(v,l),l=n.sub(l,m),m=n.mul(v,y),h=n.mul(E,h),h=n.add(h,m),new g(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return w.wNAFCached(this,e,g.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;Tm("scalar",e,Ay,i);const s=g.ZERO;if(e===Ay)return s;if(this.is0()||e===Sy)return this;if(!r||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,e,g.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=r.splitScalar(e),u=s,h=s,d=this;for(;a>Ay||l>Ay;)a&Sy&&(u=u.add(d)),l&Sy&&(h=h.add(d)),d=d.double(),a>>=Sy,l>>=Sy;return o&&(u=u.negate()),c&&(h=h.negate()),h=new g(n.mul(h.px,r.beta),h.py,h.pz),u.add(h)}multiply(e){const{endo:r,n:i}=t;let s,o;if(Tm("scalar",e,Sy,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:l,f:u}=this.wNAF(i),{p:h,f:d}=this.wNAF(c);l=w.constTimeNegate(t,l),h=w.constTimeNegate(a,h),h=new g(n.mul(h.px,r.beta),h.py,h.pz),s=l.add(h),o=u.add(d)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return g.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=g.BASE,i=(e,t)=>t!==Ay&&t!==Sy&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return f(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Sy)return!0;if(n)return n(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Sy?this:n?n(g,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return um("isCompressed",e),this.assertValidity(),i(g,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return um("isCompressed",e),gm(this.toRawBytes(e))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:y}=t,w=function(e,t){return{constTimeNegate:cy,hasPrecomputes:e=>1!==my(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>oy;)n&ay&&(r=r.add(i)),i=i.double(),n>>=ay;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=uy(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=uy(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:c,isNeg:l,isNegF:u,offsetF:h}=hy(i,e,a);i=t,c?o=o.add(cy(u,r[h])):s=s.add(cy(l,r[n]))}return{p:s,f:o}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const o=uy(n,t);for(let e=0;e<o.windows&&i!==oy;e++){const{nextN:t,offset:n,isZero:a,isNeg:c}=hy(i,e,o);if(i=t,!a){const e=r[n];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,n){let r=py.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&py.set(t,n(r))),r},wNAFCached(e,t,n){const r=my(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=my(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){ly(n,t),gy.set(e,n),py.delete(e)}}}(g,m?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:function(e){return Rm(e,Sy,t.n)}}}function Oy(e){const t=function(e){const t=wy(e);return Lm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,o.A)({lowS:!0},t))}(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,a=n.BYTES+1,c=2*n.BYTES+1;function l(e){return Km(e,r)}function u(e){return Qm(e,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:p}=Py((0,o.A)((0,o.A)({},t),{},{toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Nm;return um("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==a||2!==r&&3!==r){if(t===c&&4===r){return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+a+", or uncompressed "+c+", got "+t)}{const e=Sm(i);if(!Rm(e,Sy,n.ORDER))throw new Error("Point is not on curve");const t=f(e);let o;try{o=n.sqrt(t)}catch(s){const e=s instanceof Error?": "+s.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((o&Sy)===Sy)&&(o=n.neg(o)),{x:e,y:o}}}}));function g(e){return e>r>>Sy}const m=(e,t,n)=>Sm(e.slice(t,n));class y{constructor(e,t,n){Tm("r",e,Sy,r),Tm("s",t,Sy,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=i;return e=Om("compactSignature",e,2*t),new y(m(e,0,t),m(e,t,2*t))}static fromDER(e){const{r:t,s:n}=Ey.toSig(Om("DER",e));return new y(t,n)}assertValidity(){}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,o=E(Om("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?r+t.n:r;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0===(1&s)?"02":"03",d=h.fromHex(c+xy(a,n.BYTES)),f=u(a),p=l(-o*f),g=l(i*f),m=h.BASE.multiplyAndAddUnsafe(d,p,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Am(this.toDERHex())}toDERHex(){return Ey.hexFromSig(this)}toCompactRawBytes(){return Am(this.toCompactHex())}toCompactHex(){const e=i;return xy(this.r,e)+xy(this.s,e)}}const w={isValidPrivateKey(e){try{return d(e),!0}catch(t){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=sy(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=iy(t),s=sy(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=Km(n?Im(e):Sm(e),t-Fm)+Fm;return n?Pm(o,i):km(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){if("bigint"===typeof e)return!1;if(e instanceof h)return!0;const r=Om("key",e).length,s=n.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:r===o||r===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Sm(e),n=8*e.length-s;return n>0?t>>BigInt(n):t},E=t.bits2int_modN||function(e){return l(b(e))},x=_m(s);function A(e){return Tm("num < 2^"+s,e,Ay,x),km(e,i)}function S(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:c,extraEntropy:f}=i;null==a&&(a=!0),e=Om("msgHash",e),vy(i),c&&(e=Om("prehashed msgHash",s(e)));const m=E(e),w=d(r),v=[A(w),A(m)];if(null!=f&&!1!==f){const e=!0===f?o(n.BYTES):f;v.push(Om("extraEntropy",e))}const x=Nm(...v),S=m;return{seed:x,k2sig:function(e){const t=b(e);if(!p(t))return;const n=u(t),r=h.BASE.multiply(t).toAffine(),i=l(r.x);if(i===Ay)return;const s=l(n*l(S+i*w));if(s===Ay)return;let o=(r.x===i?0:2)|Number(r.y&Sy),c=s;return a&&g(s)&&(c=function(e){return g(e)?l(-e):e}(s),o^=1),new y(i,c,o)}}}const I={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===v(e))throw new Error("first arg must be private key");if(!1===v(t))throw new Error("second arg must be public key");return h.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;const{seed:i,k2sig:s}=S(e,n,r),o=t,a=function(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Bm(e),i=Bm(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bm(0);i=a(jm([0]),e),r=a(),0!==e.length&&(i=a(jm([1]),e),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Nm(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(l()));)c();return o(),n}}(o.hash.outputLen,o.nByteLength,o.hmac);return a(i,s)},verify:function(e,n,r){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const o=e;n=Om("msgHash",n),r=Om("publicKey",r);const{lowS:a,prehash:c,format:d}=s;if(vy(s),"strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const f="string"===typeof o||cm(o),p=!f&&!d&&"object"===typeof o&&null!==o&&"bigint"===typeof o.r&&"bigint"===typeof o.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let g,m;try{if(p&&(g=new y(o.r,o.s)),f){try{"compact"!==d&&(g=y.fromDER(o))}catch(P){if(!(P instanceof Ey.Err))throw P}g||"der"===d||(g=y.fromCompact(o))}m=h.fromHex(r)}catch(O){return!1}if(!g)return!1;if(a&&g.hasHighS())return!1;c&&(n=t.hash(n));const{r:w,s:v}=g,b=E(n),x=u(v),A=l(b*x),S=l(w*x),I=null===(i=h.BASE.multiplyAndAddUnsafe(m,A,S))||void 0===i?void 0:i.toAffine();return!!I&&l(I.x)===w},ProjectivePoint:h,Signature:y,utils:w}}function Ny(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return sm(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Og(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:zg}}const Cy=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ry=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ty=BigInt(0),_y=BigInt(1),By=BigInt(2),jy=(e,t)=>(e+t/By)/t;function Uy(e){const t=Cy,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=Gm(u,n,t)*u%t,d=Gm(h,n,t)*u%t,f=Gm(d,By,t)*l%t,p=Gm(f,i,t)*f%t,g=Gm(p,s,t)*p%t,m=Gm(g,a,t)*g%t,y=Gm(m,c,t)*m%t,w=Gm(y,a,t)*g%t,v=Gm(w,n,t)*u%t,b=Gm(v,o,t)*p%t,E=Gm(b,r,t)*l%t,x=Gm(E,By,t);if(!Ly.eql(Ly.sqr(x),e))throw new Error("Cannot find square root");return x}const Ly=ry(Cy,void 0,void 0,{sqrt:Uy}),Dy=function(e,t){const n=t=>Oy((0,o.A)((0,o.A)({},e),Ny(t)));return(0,o.A)((0,o.A)({},n(t)),{},{create:n})}({a:Ty,b:BigInt(7),Fp:Ly,n:Ry,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ry,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jy(s*e,t),c=jy(-r*e,t);let l=Km(e-a*n-c*i,t),u=Km(-a*r-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},rm);const My=48,Fy=57,zy=65,Hy=70,qy=97,Vy=102;function Wy(e){return e>=My&&e<=Fy?e-My:e>=zy&&e<=Hy?e-(zy-10):e>=qy&&e<=Vy?e-(qy-10):void 0}const Ky=new TextEncoder;function Gy(e){return e instanceof Uint8Array?e:"string"===typeof e?Qy(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function Qy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{size:n}=t;let r=e;n&&(ng(e,n),r=hg(e,n));let i=r.slice(2);i.length%2&&(i="0".concat(i));const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const e=Wy(i.charCodeAt(c++)),t=Wy(i.charCodeAt(c++));if(void 0===e||void 0===t)throw new eg('Invalid byte sequence ("'.concat(i[c-2]).concat(i[c-1],'" in "').concat(i,'").'));o[a]=16*e+t}return o}function Jy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{size:n}=t,r=Ky.encode(e);return"number"===typeof n?(function(e,t){if(Yy(e)>t)throw new $y({givenSize:Yy(e),maxSize:t})}(r,n),function(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new ew({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const t="right"===n;i[t?s:r-s-1]=e[t?s:e.length-s-1]}return i}(e,{dir:"right",size:t})}(r,n)):r}function Yy(e){return e.length}function Zy(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new Xy(e);if("object"!==typeof e)throw new Xy(e);if(!("BYTES_PER_ELEMENT"in e))throw new Xy(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new Xy(e)}}(e),!0}catch(t){return!1}}class Xy extends eg{constructor(e){super("Value `".concat("object"===typeof e?sg(e):e,"` of type `").concat(typeof e,"` is an invalid Bytes value."),{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class $y extends eg{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed `".concat(n,"` bytes. Given size: `").concat(t,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class ew extends eg{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(t,"`) exceeds padding size (`").concat(n,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class tw extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const nw={checksum:new tw(8192)},rw=nw.checksum;const iw=BigInt(0),sw=BigInt(1),ow=BigInt(2),aw=BigInt(7),cw=BigInt(256),lw=BigInt(113),uw=[],hw=[],dw=[];for(let n=0,Pj=sw,Oj=1,Nj=0;n<24;n++){[Oj,Nj]=[Nj,(2*Oj+3*Nj)%5],uw.push(2*(5*Nj+Oj)),hw.push((n+1)*(n+2)/2%64);let e=iw;for(let t=0;t<7;t++)Pj=(Pj<<sw^(Pj>>aw)*lw)%cw,Pj&ow&&(e^=sw<<(sw<<BigInt(t))-sw);dw.push(e)}const fw=Jg(dw,!0),pw=fw[0],gw=fw[1],mw=(e,t,n)=>n>32?Xg(e,t,n):Yg(e,t,n),yw=(e,t,n)=>n>32?$g(e,t,n):Zg(e,t,n);class ww extends Mg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,Pg(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ug(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=mw(s,o,1)^n[t],c=yw(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=hw[n],s=mw(t,i,r),o=yw(t,i,r),a=uw[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=pw[r],e[1]^=gw[r]}Rg(n)}(this.state32,this.rounds),Ug(this.state32),this.posOut=0,this.pos=0}update(e){Ng(this),Og(e=Dg(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Ng(this,!1),Og(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cg(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Rg(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new ww(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const vw=(e,t,n)=>Fg(()=>new ww(t,e,n)),bw=(()=>vw(1,136,32))();function Ew(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{as:n=("string"===typeof e?"Hex":"Bytes")}=t,r=bw(Gy(e));return"Bytes"===n?r:cg(r)}function xw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{compressed:n}=t,{prefix:r,x:i,y:s}=e;if(!1===n||"bigint"===typeof i&&"bigint"===typeof s){if(4!==r)throw new Pw({prefix:r,cause:new Nw})}else{if(!0!==n&&("bigint"!==typeof i||"undefined"!==typeof s))throw new kw({publicKey:e});if(3!==r&&2!==r)throw new Pw({prefix:r,cause:new Ow})}}function Aw(e){const t=(()=>{if(pg(e))return Sw(e);if(Zy(e))return function(e){return Sw(cg(e))}(e);const{prefix:t,x:n,y:r}=e;return"bigint"===typeof n&&"bigint"===typeof r?{prefix:null!==t&&void 0!==t?t:4,x:n,y:r}:{prefix:t,x:n}})();return xw(t),t}function Sw(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new Cw({publicKey:e});if(130===e.length){return{prefix:4,x:BigInt(dg(e,0,32)),y:BigInt(dg(e,32,64))}}if(132===e.length){return{prefix:Number(dg(e,0,1)),x:BigInt(dg(e,1,33)),y:BigInt(dg(e,33,65))}}return{prefix:Number(dg(e,0,1)),x:BigInt(dg(e,1,33))}}function Iw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xw(e);const{prefix:n,x:r,y:i}=e,{includePrefix:s=!0}=t,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"0x".concat(t.reduce((e,t)=>e+t.replace("0x",""),""))}(s?lg(n,{size:1}):"0x",lg(r,{size:32}),"bigint"===typeof i?lg(i,{size:32}):"0x");return o}class kw extends eg{constructor(e){let{publicKey:t}=e;super("Value `".concat(sg(t),"` is not a valid public key."),{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Pw extends eg{constructor(e){let{prefix:t,cause:n}=e;super('Prefix "'.concat(t,'" is invalid.'),{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Ow extends eg{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Nw extends eg{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class Cw extends eg{constructor(e){let{publicKey:t}=e;super("Value `".concat(t,"` is an invalid public key size."),{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).","Received ".concat(fg(ag(t))," bytes.")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const Rw=/^0x[a-fA-F0-9]{40}$/;function Tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{strict:n=!0}=t;if(!Rw.test(e))throw new jw({address:e,cause:new Uw});if(n){if(e.toLowerCase()===e)return;if(_w(e)!==e)throw new jw({address:e,cause:new Lw})}}function _w(e){if(rw.has(e))return rw.get(e);Tw(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ew(Jy(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(15&n[s>>1])>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i="0x".concat(r.join(""));return rw.set(e,i),i}function Bw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ew("0x".concat(Iw(e).slice(4))).substring(26);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{checksum:n=!1}=t;return Tw(e),n?_w(e):e}("0x".concat(n),t)}class jw extends eg{constructor(e){let{address:t,cause:n}=e;super('Address "'.concat(t,'" is invalid.'),{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Uw extends eg{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Lw extends eg{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Dw(e){return Bw(function(e){const{payload:t,signature:n}=e,{r:r,s:i,yParity:s}=n,o=new Dy.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s);return Aw(o.recoverPublicKey(ag(t).substring(2)))}(e))}var Mw=n(1666),Fw=n(4017),zw=n(5311),Hw=n(5771),qw=n(883),Vw=n(8019),Ww=n(1757),Kw=n(5094),Gw=n(9397);const Qw=":";function Jw(e){const[t,n]=e.split(Qw);return{namespace:t,reference:n}}function Yw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return Object.keys(e).forEach(r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)}),n}function Zw(e,t){return e.includes(":")?[e]:t.chains||[]}var Xw=Object.defineProperty,$w=Object.defineProperties,ev=Object.getOwnPropertyDescriptors,tv=Object.getOwnPropertySymbols,nv=Object.prototype.hasOwnProperty,rv=Object.prototype.propertyIsEnumerable,iv=(e,t,n)=>t in e?Xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sv=(e,t)=>{for(var n in t||(t={}))nv.call(t,n)&&iv(e,n,t[n]);if(tv)for(var n of tv(t))rv.call(t,n)&&iv(e,n,t[n]);return e},ov=(e,t,n)=>iv(e,"symbol"!=typeof t?t+"":t,n);const av="react-native",cv="node",lv="browser",uv="unknown",hv="js";function dv(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function fv(){return!(0,Xp.getDocument)()&&!!(0,Xp.getNavigator)()&&"ReactNative"===navigator.product}function pv(){return!dv()&&!!(0,Xp.getNavigator)()&&!!(0,Xp.getDocument)()}function gv(){return fv()?av:dv()?cv:pv()?lv:uv}function mv(){var e;try{return fv()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}function yv(e){var t,n;const r=wv();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn("The configured WalletConnect 'metadata.url':".concat(e.url," differs from the actual page url:").concat(r.url,". This is probably unintended and can lead to issues.")),e.url=r.url),null!=(t=null===e||void 0===e?void 0:e.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>$w(e,ev(t)))(sv(sv({},r),e),{url:(null===e||void 0===e?void 0:e.url)||r.url,name:(null===e||void 0===e?void 0:e.name)||r.name,description:(null===e||void 0===e?void 0:e.description)||r.description,icons:null!=(n=null===e||void 0===e?void 0:e.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),e||r}}function wv(){return(0,$p.g)()||{name:"",description:"",url:"",icons:[""]}}function vv(e,t,r){const i=function(){if(gv()===av&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=(0,Yp.o0)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=gv();return t===lv?[t,(null==(e=(0,Xp.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[hv,r].join("-"),i,s].join("/")}function bv(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=r.split("?"),h={auth:s,ua:vv(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},d=function(e,t){const n=new URLSearchParams(e);return Object.entries(t).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[t,r]=e;null!=r&&n.set(t,String(r))}),n.toString()}(u[1]||"",h);return u[0]+"?"+d}function Ev(e,t){return e.filter(e=>t.includes(e)).length===e.length}function xv(e){return Object.fromEntries(e.entries())}function Av(e){return new Map(Object.entries(e))}function Sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zp.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,Zp.toMiliseconds)(e||Zp.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function Iv(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(Sk){i(Sk)}clearTimeout(s)})}function kv(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function Pv(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(n));r.id=Number(n)}return r}function Ov(e,t){return(0,Zp.fromMiliseconds)((t||Date.now())+(0,Zp.toMiliseconds)(e))}function Nv(e){return Date.now()>=(0,Zp.toMiliseconds)(e)}function Cv(e,t){return"".concat(e).concat(t?":".concat(t):"")}function Rv(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function Tv(e){let{id:t,topic:r,wcDeepLink:i}=e;var s;try{if(!i)return;const e="string"==typeof i?JSON.parse(i):i,o=null===e||void 0===e?void 0:e.href;if("string"!=typeof o)return;const a=function(e,t,n){const r="requestId=".concat(t,"&sessionTopic=").concat(n);e.endsWith("/")&&(e=e.slice(0,-1));let i="".concat(e);if(e.startsWith("https://t.me")){const t=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0))}else i="".concat(i,"/wc?").concat(r);return i}(o,t,r),c=gv();if(c===lv){if(null==(s=(0,Xp.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch(e){return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(a)}else c===av&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(o){console.error(o)}}function _v(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function Bv(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function jv(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",REACT_APP_RECEIVE_ADDRESS:"0x953b9dE9c17Fd91cED9A64f87716013DcBF40d82"}.IS_VITEST}function Uv(e){return Buffer.from(e,"base64").toString("utf-8")}class Lv{constructor(e){let{limit:t}=e;ov(this,"limit"),ov(this,"set"),this.limit=t,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const Dv=BigInt(2**32-1),Mv=BigInt(32);function Fv(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Dv),l:Number(e>>Mv&Dv)}:{h:0|Number(e>>Mv&Dv),l:0|Number(e&Dv)}}function zv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=Fv(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const Hv=(e,t,n)=>e>>>n,qv=(e,t,n)=>e<<32-n|t>>>n,Vv=(e,t,n)=>e>>>n|t<<32-n,Wv=(e,t,n)=>e<<32-n|t>>>n,Kv=(e,t,n)=>e<<64-n|t>>>n-32,Gv=(e,t,n)=>e>>>n-32|t<<64-n,Qv=(e,t)=>t,Jv=(e,t)=>e;function Yv(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const Zv=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Xv=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,$v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),eb=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,tb=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),nb=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,rb="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function ib(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function sb(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ob(e){if(!ib(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function ab(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");sb(e.outputLen),sb(e.blockLen)}function cb(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function lb(e,t){ob(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ub(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function hb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function db(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fb(e,t){return e<<32-t|e>>>t}const pb=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function gb(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const mb=pb?e=>e:e=>gb(e);const yb=pb?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=gb(e[t]);return e},wb="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,vb=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bb(e){if(ob(e),wb)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=vb[e[n]];return t}const Eb=48,xb=57,Ab=65,Sb=70,Ib=97,kb=102;function Pb(e){return e>=Eb&&e<=xb?e-Eb:e>=Ab&&e<=Sb?e-(Ab-10):e>=Ib&&e<=kb?e-(Ib-10):void 0}function Ob(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(wb)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Pb(e.charCodeAt(s)),n=Pb(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Nb(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function Cb(e){return"string"==typeof e&&(e=Nb(e)),ob(e),e}function Rb(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];ob(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class Tb{}function _b(e){const t=t=>e().update(Cb(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Bb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(rb&&"function"==typeof rb.getRandomValues)return rb.getRandomValues(new Uint8Array(e));if(rb&&"function"==typeof rb.randomBytes)return Uint8Array.from(rb.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const jb=BigInt(0),Ub=BigInt(1),Lb=BigInt(2),Db=BigInt(7),Mb=BigInt(256),Fb=BigInt(113),zb=[],Hb=[],qb=[];for(let n=0,Pj=Ub,Oj=1,Nj=0;n<24;n++){[Oj,Nj]=[Nj,(2*Oj+3*Nj)%5],zb.push(2*(5*Nj+Oj)),Hb.push((n+1)*(n+2)/2%64);let e=jb;for(let t=0;t<7;t++)Pj=(Pj<<Ub^(Pj>>Db)*Fb)%Mb,Pj&Lb&&(e^=Ub<<(Ub<<BigInt(t))-Ub);qb.push(e)}const Vb=zv(qb,!0),Wb=Vb[0],Kb=Vb[1],Gb=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Qb=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Jb extends Tb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,sb(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ub(this.state)}clone(){return this._cloneInto()}keccak(){yb(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Gb(s,o,1)^n[t],c=Qb(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Hb[n],s=Gb(t,i,r),o=Qb(t,i,r),a=zb[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Wb[r],e[1]^=Kb[r]}hb(n)}(this.state32,this.rounds),yb(this.state32),this.posOut=0,this.pos=0}update(e){cb(this),ob(e=Cb(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){cb(this,!1),ob(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lb(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hb(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Jb(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Yb=((e,t,n)=>_b(()=>new Jb(t,e,n)))(1,136,32);function Zb(e,t,n){return e&t^~e&n}function Xb(e,t,n){return e&t^e&n^t&n}class $b extends Tb{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=db(this.buffer)}update(e){cb(this),ob(e=Cb(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=db(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cb(this),lb(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,hb(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=db(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const eE=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tE=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),nE=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),rE=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iE=new Uint32Array(64);class sE extends $b{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|eE[0],this.B=0|eE[1],this.C=0|eE[2],this.D=0|eE[3],this.E=0|eE[4],this.F=0|eE[5],this.G=0|eE[6],this.H=0|eE[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)iE[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=iE[u-15],t=iE[u-2],n=fb(e,7)^fb(e,18)^e>>>3,r=fb(t,17)^fb(t,19)^t>>>10;iE[u]=r+iE[u-7]+n+iE[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(fb(o,6)^fb(o,11)^fb(o,25))+Zb(o,a,c)+rE[u]+iE[u]|0,t=(fb(n,2)^fb(n,13)^fb(n,22))+Xb(n,r,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,s,o,a,c,l)}roundClean(){hb(iE)}destroy(){this.set(0,0,0,0,0,0,0,0),hb(this.buffer)}}const oE=zv(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),aE=oE[0],cE=oE[1],lE=new Uint32Array(80),uE=new Uint32Array(80);class hE extends $b{constructor(){super(128,arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,16,!1),this.Ah=0|nE[0],this.Al=0|nE[1],this.Bh=0|nE[2],this.Bl=0|nE[3],this.Ch=0|nE[4],this.Cl=0|nE[5],this.Dh=0|nE[6],this.Dl=0|nE[7],this.Eh=0|nE[8],this.El=0|nE[9],this.Fh=0|nE[10],this.Fl=0|nE[11],this.Gh=0|nE[12],this.Gl=0|nE[13],this.Hh=0|nE[14],this.Hl=0|nE[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)lE[w]=e.getUint32(t),uE[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|lE[w-15],t=0|uE[w-15],n=Vv(e,t,1)^Vv(e,t,8)^Hv(e,0,7),r=Wv(e,t,1)^Wv(e,t,8)^qv(e,t,7),i=0|lE[w-2],s=0|uE[w-2],o=Vv(i,s,19)^Kv(i,s,61)^Hv(i,0,6),a=Wv(i,s,19)^Gv(i,s,61)^qv(i,s,6),c=$v(r,a,uE[w-7],uE[w-16]),l=eb(c,n,o,lE[w-7],lE[w-16]);lE[w]=0|l,uE[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let w=0;w<80;w++){const e=Vv(u,h,14)^Vv(u,h,18)^Kv(u,h,41),t=Wv(u,h,14)^Wv(u,h,18)^Gv(u,h,41),v=u&d^~u&p,b=tb(y,t,h&f^~h&g,cE[w],uE[w]),E=nb(b,m,e,v,aE[w],lE[w]),x=0|b,A=Vv(n,r,28)^Kv(n,r,34)^Kv(n,r,39),S=Wv(n,r,28)^Gv(n,r,34)^Gv(n,r,39),I=n&i^n&o^i&o,k=r&s^r&a^s&a;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=Yv(0|c,0|l,0|E,0|x)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const P=Zv(x,S,k);n=Xv(P,E,A,I),r=0|P}({h:n,l:r}=Yv(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Yv(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Yv(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Yv(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=Yv(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=Yv(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Yv(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=Yv(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,y)}roundClean(){hb(lE,uE)}destroy(){hb(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class dE extends hE{constructor(){super(48),this.Ah=0|tE[0],this.Al=0|tE[1],this.Bh=0|tE[2],this.Bl=0|tE[3],this.Ch=0|tE[4],this.Cl=0|tE[5],this.Dh=0|tE[6],this.Dl=0|tE[7],this.Eh=0|tE[8],this.El=0|tE[9],this.Fh=0|tE[10],this.Fl=0|tE[11],this.Gh=0|tE[12],this.Gl=0|tE[13],this.Hh=0|tE[14],this.Hl=0|tE[15]}}const fE=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class pE extends hE{constructor(){super(32),this.Ah=0|fE[0],this.Al=0|fE[1],this.Bh=0|fE[2],this.Bl=0|fE[3],this.Ch=0|fE[4],this.Cl=0|fE[5],this.Dh=0|fE[6],this.Dl=0|fE[7],this.Eh=0|fE[8],this.El=0|fE[9],this.Fh=0|fE[10],this.Fl=0|fE[11],this.Gh=0|fE[12],this.Gl=0|fE[13],this.Hh=0|fE[14],this.Hl=0|fE[15]}}const gE=_b(()=>new sE),mE=_b(()=>new hE),yE=_b(()=>new dE),wE=_b(()=>new pE),vE=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bE=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),EE=new Uint32Array(32);function xE(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=EE[2*e],l=EE[2*e+1],u=EE[2*t],h=EE[2*t+1],d=EE[2*n],f=EE[2*n+1],p=EE[2*r],g=EE[2*r+1],m=Zv(c,u,o);l=Xv(m,l,h,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Qv(0,p),Dl:Jv(g)}),({h:f,l:d}=Yv(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:Vv(h,u,24),Bl:Wv(h,u,24)}),EE[2*e]=c,EE[2*e+1]=l,EE[2*t]=u,EE[2*t+1]=h,EE[2*n]=d,EE[2*n+1]=f,EE[2*r]=p,EE[2*r+1]=g}function AE(e,t,n,r,i,s){const o=i[s],a=i[s+1];let c=EE[2*e],l=EE[2*e+1],u=EE[2*t],h=EE[2*t+1],d=EE[2*n],f=EE[2*n+1],p=EE[2*r],g=EE[2*r+1],m=Zv(c,u,o);l=Xv(m,l,h,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:Vv(g,p,16),Dl:Wv(g,p,16)}),({h:f,l:d}=Yv(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:Kv(h,u,63),Bl:Gv(h,u,63)}),EE[2*e]=c,EE[2*e+1]=l,EE[2*t]=u,EE[2*t+1]=h,EE[2*n]=d,EE[2*n+1]=f,EE[2*r]=p,EE[2*r+1]=g}class SE extends Tb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,sb(e),sb(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=ub(this.buffer)}update(e){cb(this),ob(e=Cb(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(yb(r),this.compress(r,0,!1),yb(r),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){const e=new Uint32Array(o,l,Math.floor((i-a)/4));yb(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);yb(e);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){cb(this),lb(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,hb(this.buffer.subarray(t)),yb(n),this.compress(n,0,!0),yb(n);const r=ub(e);this.get().forEach((e,t)=>r[t]=mb(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class IE extends SE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|bE[0],this.v0h=0|bE[1],this.v1l=0|bE[2],this.v1h=0|bE[3],this.v2l=0|bE[4],this.v2h=0|bE[5],this.v3l=0|bE[6],this.v3h=0|bE[7],this.v4l=0|bE[8],this.v4h=0|bE[9],this.v5l=0|bE[10],this.v5h=0|bE[11],this.v6l=0|bE[12],this.v6h=0|bE[13],this.v7l=0|bE[14],this.v7h=0|bE[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(sb(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=Cb(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=Cb(i);const e=ub(i);this.v4l^=mb(e[0]),this.v4h^=mb(e[1]),this.v5l^=mb(e[2]),this.v5h^=mb(e[3])}if(void 0!==r){r=Cb(r);const e=ub(r);this.v6l^=mb(e[0]),this.v6h^=mb(e[1]),this.v7l^=mb(e[2]),this.v7h^=mb(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:u,v5h:h,v6l:d,v6h:f,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|h,this.v6l=0|d,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>EE[t]=e),EE.set(bE,16);let{h:r,l:i}=Fv(BigInt(this.length));EE[24]=bE[8]^i,EE[25]=bE[9]^r,n&&(EE[28]=~EE[28],EE[29]=~EE[29]);let s=0;const o=vE;for(let a=0;a<12;a++)xE(0,4,8,12,e,t+2*o[s++]),AE(0,4,8,12,e,t+2*o[s++]),xE(1,5,9,13,e,t+2*o[s++]),AE(1,5,9,13,e,t+2*o[s++]),xE(2,6,10,14,e,t+2*o[s++]),AE(2,6,10,14,e,t+2*o[s++]),xE(3,7,11,15,e,t+2*o[s++]),AE(3,7,11,15,e,t+2*o[s++]),xE(0,5,10,15,e,t+2*o[s++]),AE(0,5,10,15,e,t+2*o[s++]),xE(1,6,11,12,e,t+2*o[s++]),AE(1,6,11,12,e,t+2*o[s++]),xE(2,7,8,13,e,t+2*o[s++]),AE(2,7,8,13,e,t+2*o[s++]),xE(3,4,9,14,e,t+2*o[s++]),AE(3,4,9,14,e,t+2*o[s++]);this.v0l^=EE[0]^EE[16],this.v0h^=EE[1]^EE[17],this.v1l^=EE[2]^EE[18],this.v1h^=EE[3]^EE[19],this.v2l^=EE[4]^EE[20],this.v2h^=EE[5]^EE[21],this.v3l^=EE[6]^EE[22],this.v3h^=EE[7]^EE[23],this.v4l^=EE[8]^EE[24],this.v4h^=EE[9]^EE[25],this.v5l^=EE[10]^EE[26],this.v5h^=EE[11]^EE[27],this.v6l^=EE[12]^EE[28],this.v6h^=EE[13]^EE[29],this.v7l^=EE[14]^EE[30],this.v7h^=EE[15]^EE[31],hb(EE)}destroy(){this.destroyed=!0,hb(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const kE=function(e){const t=(t,n)=>e(n).update(Cb(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new IE(e)),PE="https://rpc.walletconnect.org/v1";function OE(e){const t="\x19Ethereum Signed Message:\n".concat(e.length),n=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(Yb(n)).toString("hex")}async function NE(e,t,n,r,i,s){switch(n.t){case"eip191":return await function(e,t,n){const r=Eg(n);return Dw({payload:OE(t),signature:r}).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=Jw(r);if(!o.namespace||!o.reference)throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(r));try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=n.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:OE(t)).substring(2)+a+l+c,h=await fetch("".concat(s||PE,"/?chainId=").concat(r,"&projectId=").concat(i),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:CE(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(lk){return console.error("isValidEip1271Signature: ",lk),!1}}(e,t,n.s,r,i,s);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(n.t))}}function CE(){return Date.now()+Math.floor(1e3*Math.random())}function RE(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=kE(r,{dkLen:32});return Mw.A.encode(i)}function TE(e){const t=new Uint8Array(gE(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return Mw.A.encode(t)}function _E(e){const t=Buffer.from(e,"base64"),n=(0,Fw.D)(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=(0,zw.l)(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=wE(s);return Hw.RG.encode(o).replace(/=+$/,"")}function BE(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function jE(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(BE(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(BE(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(BE(r.length)),i.push(r);const s=Buffer.concat(i),o=gE(s);return Buffer.from(o).toString("hex").toUpperCase()}var UE=Object.defineProperty,LE=Object.defineProperties,DE=Object.getOwnPropertyDescriptors,ME=Object.getOwnPropertySymbols,FE=Object.prototype.hasOwnProperty,zE=Object.prototype.propertyIsEnumerable,HE=(e,t,n)=>t in e?UE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qE=(e,t)=>{for(var n in t||(t={}))FE.call(t,n)&&HE(e,n,t[n]);if(ME)for(var n of ME(t))zE.call(t,n)&&HE(e,n,t[n]);return e},VE=(e,t)=>LE(e,DE(t));const WE="did:pkh:",KE={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},GE=e=>null===e||void 0===e?void 0:e.split(":"),QE=e=>{const t=e&&GE(e);if(t)return t[2]+":"+t[3]},JE=e=>{const t=e&&GE(e);if(t)return t.pop()};async function YE(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=ZE(i,i.iss),o=JE(i.iss);return await NE(o,s,r,QE(i.iss),n)}const ZE=(e,t)=>{const n=(e=>{const t=e&&GE(e);if(t)return e.includes(WE)?t[2]:t[0]})(t);if(!n)throw new Error("Invalid issuer: "+t);const r="".concat(e.domain," wants you to sign in with your ").concat((e=>e?KE[e]||e:"")(n)," account:"),i=JE(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const o="URI: ".concat(e.aud||e.uri),a="Version: ".concat(e.version),c="Chain ID: ".concat((e=>{const t=e&&GE(e);if(t)return e.includes(WE)?t[3]:t[1]})(t)),l="Nonce: ".concat(e.nonce),u="Issued At: ".concat(e.iat),h=e.exp?"Expiration Time: ".concat(e.exp):void 0,d=e.nbf?"Not Before: ".concat(e.nbf):void 0,f=e.requestId?"Request ID: ".concat(e.requestId):void 0,p=e.resources?"Resources:".concat(e.resources.map(e=>"\n- ".concat(e)).join("")):void 0,g=cx(e.resources);if(g){s=sx(s,tx(g))}return[r,i,"",s,"",o,a,c,l,u,h,d,f,p].filter(e=>null!=e).join("\n")};function XE(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof n)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(n).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach(t=>{if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))})})})}function $E(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(t=null===(n=t)||void 0===n?void 0:n.sort((e,t)=>e.localeCompare(t))).map(t=>({["".concat(e,"/").concat(t)]:[r]}));return Object.assign({},...i)}function ex(e){return XE(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function tx(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return XE(t),t}function nx(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==n&&void 0!==n&&n.sort((e,t)=>e.localeCompare(t)),{att:{[e]:$E(t,n,r)}}}(e,t,n);return ex(r)}function rx(e){return e&&e.includes("urn:recap:")}function ix(e,t){const n=function(e,t){XE(e),XE(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=VE(qE({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(tx(e),tx(t));return ex(n)}function sx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;XE(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,"(".concat(i,") '").concat(t,"': '").concat(s[t].join("', '"),"' for '").concat(e,"'.")));r.push(o.join(", ").replace(".,","."))});const s=r.join(" "),o="".concat(n).concat(s);return"".concat(e?e+" ":"").concat(o)}function ox(e){var t;const n=tx(e);XE(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function ax(e){const t=tx(e);XE(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function cx(e){if(!e)return;const t=null===e||void 0===e?void 0:e[e.length-1];return rx(t)?t:void 0}function lx(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ux(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}function hx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function dx(e){if(!lx(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function fx(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function px(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function gx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const mx=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function yx(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!lx(e))throw new Error("Uint8Array expected, got "+typeof e);e=Ex(e)}return e}function wx(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function vx(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function bx(e,t,n){ux(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return vx(i,0,BigInt(t),n),vx(i,8,BigInt(e),n),r}function Ex(e){return Uint8Array.from(e)}const xx=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),Ax=xx("expand 16-byte k"),Sx=xx("expand 32-byte k"),Ix=px(Ax),kx=px(Sx);function Px(e,t){return e<<t|e>>>32-t}function Ox(e){return e.byteOffset%4===0}const Nx=2**32-1,Cx=new Uint32Array;const Rx=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Tx{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,dx(e=yx(e),32);const t=Rx(e,0),n=Rx(e,2),r=Rx(e,4),i=Rx(e,6),s=Rx(e,8),o=Rx(e,10),a=Rx(e,12),c=Rx(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Rx(e,16+2*l)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],u=i[5],h=i[6],d=i[7],f=i[8],p=i[9],g=Rx(e,t+0),m=Rx(e,t+2),y=Rx(e,t+4),w=Rx(e,t+6),v=Rx(e,t+8),b=Rx(e,t+10),E=Rx(e,t+12),x=Rx(e,t+14);let A=r[0]+(8191&g),S=r[1]+(8191&(g>>>13|m<<3)),I=r[2]+(8191&(m>>>10|y<<6)),k=r[3]+(8191&(y>>>7|w<<9)),P=r[4]+(8191&(w>>>4|v<<12)),O=r[5]+(v>>>1&8191),N=r[6]+(8191&(v>>>14|b<<2)),C=r[7]+(8191&(b>>>11|E<<5)),R=r[8]+(8191&(E>>>8|x<<8)),T=r[9]+(x>>>5|n),_=0,B=_+A*s+S*(5*p)+I*(5*f)+k*(5*d)+P*(5*h);_=B>>>13,B&=8191,B+=O*(5*u)+N*(5*l)+C*(5*c)+R*(5*a)+T*(5*o),_+=B>>>13,B&=8191;let j=_+A*o+S*s+I*(5*p)+k*(5*f)+P*(5*d);_=j>>>13,j&=8191,j+=O*(5*h)+N*(5*u)+C*(5*l)+R*(5*c)+T*(5*a),_+=j>>>13,j&=8191;let U=_+A*a+S*o+I*s+k*(5*p)+P*(5*f);_=U>>>13,U&=8191,U+=O*(5*d)+N*(5*h)+C*(5*u)+R*(5*l)+T*(5*c),_+=U>>>13,U&=8191;let L=_+A*c+S*a+I*o+k*s+P*(5*p);_=L>>>13,L&=8191,L+=O*(5*f)+N*(5*d)+C*(5*h)+R*(5*u)+T*(5*l),_+=L>>>13,L&=8191;let D=_+A*l+S*c+I*a+k*o+P*s;_=D>>>13,D&=8191,D+=O*(5*p)+N*(5*f)+C*(5*d)+R*(5*h)+T*(5*u),_+=D>>>13,D&=8191;let M=_+A*u+S*l+I*c+k*a+P*o;_=M>>>13,M&=8191,M+=O*s+N*(5*p)+C*(5*f)+R*(5*d)+T*(5*h),_+=M>>>13,M&=8191;let F=_+A*h+S*u+I*l+k*c+P*a;_=F>>>13,F&=8191,F+=O*o+N*s+C*(5*p)+R*(5*f)+T*(5*d),_+=F>>>13,F&=8191;let z=_+A*d+S*h+I*u+k*l+P*c;_=z>>>13,z&=8191,z+=O*a+N*o+C*s+R*(5*p)+T*(5*f),_+=z>>>13,z&=8191;let H=_+A*f+S*d+I*h+k*u+P*l;_=H>>>13,H&=8191,H+=O*c+N*a+C*o+R*s+T*(5*p),_+=H>>>13,H&=8191;let q=_+A*p+S*f+I*d+k*h+P*u;_=q>>>13,q&=8191,q+=O*l+N*c+C*a+R*o+T*s,_+=q>>>13,q&=8191,_=(_<<2)+_|0,_=_+B|0,B=8191&_,_>>>=13,j+=_,r[0]=B,r[1]=j,r[2]=U,r[3]=L,r[4]=D,r[5]=M,r[6]=F,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;gx(n)}update(e){fx(this),dx(e=yx(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){gx(this.h,this.r,this.buffer,this.pad)}digestInto(e){fx(this),function(e,t){dx(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const _x=function(e){const t=(t,n)=>e(n).update(yx(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new Tx(e));const Bx=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return hx(i),hx(o),ux(s),ux(n),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;dx(t),dx(a),dx(c);const h=c.length;if(void 0===l&&(l=new Uint8Array(h)),dx(l),hx(u),u<0||u>=Nx)throw new Error("arx: counter overflow");if(l.length<h)throw new Error("arx: output (".concat(l.length,") is shorter than data (").concat(h,")"));const d=[];let f,p,g=t.length;if(32===g)d.push(f=Ex(t)),p=kx;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=Ix,d.push(f)}Ox(a)||d.push(a=Ex(a));const m=px(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,m,px(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-i;if(y!==a.length)throw new Error("arx: nonce must be ".concat(y," or 16 bytes"));if(12!==y){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,d.push(a)}const w=px(a);return function(e,t,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(64),u=px(l),h=Ox(i)&&Ox(s),d=h?px(i):Cx,f=h?px(s):Cx;for(let p=0;p<c;o++){if(e(t,n,r,u,o,a),o>=Nx)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=d[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^l[t];p+=g}}(e,p,m,w,c,l,u,o),gx(...d),l}}(function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],h=t[1],d=t[2],f=t[3],p=t[4],g=t[5],m=t[6],y=t[7],w=i,v=n[0],b=n[1],E=n[2],x=o,A=a,S=c,I=l,k=u,P=h,O=d,N=f,C=p,R=g,T=m,_=y,B=w,j=v,U=b,L=E;for(let M=0;M<s;M+=2)x=x+k|0,B=Px(B^x,16),C=C+B|0,k=Px(k^C,12),x=x+k|0,B=Px(B^x,8),C=C+B|0,k=Px(k^C,7),A=A+P|0,j=Px(j^A,16),R=R+j|0,P=Px(P^R,12),A=A+P|0,j=Px(j^A,8),R=R+j|0,P=Px(P^R,7),S=S+O|0,U=Px(U^S,16),T=T+U|0,O=Px(O^T,12),S=S+O|0,U=Px(U^S,8),T=T+U|0,O=Px(O^T,7),I=I+N|0,L=Px(L^I,16),_=_+L|0,N=Px(N^_,12),I=I+N|0,L=Px(L^I,8),_=_+L|0,N=Px(N^_,7),x=x+P|0,L=Px(L^x,16),T=T+L|0,P=Px(P^T,12),x=x+P|0,L=Px(L^x,8),T=T+L|0,P=Px(P^T,7),A=A+O|0,B=Px(B^A,16),_=_+B|0,O=Px(O^_,12),A=A+O|0,B=Px(B^A,8),_=_+B|0,O=Px(O^_,7),S=S+N|0,j=Px(j^S,16),C=C+j|0,N=Px(N^C,12),S=S+N|0,j=Px(j^S,8),C=C+j|0,N=Px(N^C,7),I=I+k|0,U=Px(U^I,16),R=R+U|0,k=Px(k^R,12),I=I+k|0,U=Px(U^I,8),R=R+U|0,k=Px(k^R,7);let D=0;r[D++]=o+x|0,r[D++]=a+A|0,r[D++]=c+S|0,r[D++]=l+I|0,r[D++]=u+k|0,r[D++]=h+P|0,r[D++]=d+O|0,r[D++]=f+N|0,r[D++]=p+C|0,r[D++]=g+R|0,r[D++]=m+T|0,r[D++]=y+_|0,r[D++]=w+B|0,r[D++]=v+j|0,r[D++]=b+U|0,r[D++]=E+L|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),jx=new Uint8Array(16),Ux=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(jx.subarray(n))},Lx=new Uint8Array(32);function Dx(e,t,n,r,i){const s=e(t,n,Lx),o=_x.create(s);i&&Ux(o,i),Ux(o,r);const a=bx(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return gx(s,a),c}const Mx=((e,t)=>{function n(n){if(dx(n),!mx)throw new Error("Non little-endian hardware is not yet supported");for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?dx(t):dx(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&dx(i[1]);const a=t(n,...i),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");dx(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,dx(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(dx(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(Fx=Bx,(e,t,n)=>({encrypt(r,i){const s=r.length;(i=wx(s+16,i,!1)).set(r);const o=i.subarray(0,-16);Fx(e,t,o,o,1);const a=Dx(Fx,e,t,o,n);return i.set(a,s),gx(a),i},decrypt(r,i){i=wx(r.length-16,i,!1);const s=r.subarray(0,-16),o=r.subarray(-16),a=Dx(Fx,e,t,s,n);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(o,a))throw new Error("invalid tag");return i.set(r.subarray(0,-16)),Fx(e,t,i,i,1),gx(a),i}})));var Fx;class zx extends Tb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ab(e);const n=Cb(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),hb(i)}update(e){return cb(this),this.iHash.update(e),this}digestInto(e){cb(this),ob(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hx=(e,t,n)=>new zx(e,t).update(n).digest();Hx.create=(e,t)=>new zx(e,t);const qx=Uint8Array.from([0]),Vx=Uint8Array.of();const Wx=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;ab(e),sb(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=Vx);const o=new Uint8Array(s*i),a=Hx.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)qx[0]=u+1,c.update(0===u?Vx:l).update(n).update(qx).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),hb(l,qx),o.slice(0,r)}(e,function(e,t,n){return ab(e),void 0===n&&(n=new Uint8Array(e.outputLen)),Hx(e,Cb(n),Cb(t))}(e,t,n),r,i),Kx=gE,Gx=BigInt(0),Qx=BigInt(1);function Jx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("boolean"!=typeof e){const n=t&&'"'.concat(t,'"');throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Yx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=ib(e),i=null===e||void 0===e?void 0:e.length,s=void 0!==t;if(!r||s&&i!==t){const o=n&&'"'.concat(n,'" '),a=s?" of length ".concat(t):"",c=r?"length=".concat(i):"type=".concat(typeof e);throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function Zx(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Xx(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Gx:BigInt("0x"+e)}function $x(e){return Xx(bb(e))}function eA(e){return ob(e),Xx(bb(Uint8Array.from(e).reverse()))}function tA(e,t){return Ob(e.toString(16).padStart(2*t,"0"))}function nA(e,t){return tA(e,t).reverse()}function rA(e,t,n){let r;if("string"==typeof t)try{r=Ob(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!ib(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const iA=e=>"bigint"==typeof e&&Gx<=e;function sA(e,t,n,r){if(!function(e,t,n){return iA(e)&&iA(t)&&iA(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function oA(e){let t;for(t=0;e>Gx;e>>=Qx,t+=1);return t}const aA=e=>(Qx<<BigInt(e))-Qx;function cA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error('param "'.concat(t,'" is invalid: expected ').concat(n,", got ").concat(s))}Object.entries(t).forEach(e=>{let[t,n]=e;return r(t,n,!1)}),Object.entries(n).forEach(e=>{let[t,n]=e;return r(t,n,!0)})}function lA(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const uA=BigInt(0),hA=BigInt(1),dA=BigInt(2),fA=BigInt(3),pA=BigInt(4),gA=BigInt(5),mA=BigInt(7),yA=BigInt(8),wA=BigInt(9),vA=BigInt(16);function bA(e,t){const n=e%t;return n>=uA?n:t+n}function EA(e,t,n){let r=e;for(;t-- >uA;)r*=r,r%=n;return r}function xA(e,t){if(e===uA)throw new Error("invert: expected non-zero number");if(t<=uA)throw new Error("invert: expected positive modulus, got "+t);let n=bA(e,t),r=t,i=uA,s=hA;for(;n!==uA;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==hA)throw new Error("invert: does not exist");return bA(i,t)}function AA(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function SA(e,t){const n=(e.ORDER+hA)/pA,r=e.pow(t,n);return AA(e,r,t),r}function IA(e,t){const n=(e.ORDER-gA)/yA,r=e.mul(t,dA),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,dA),i),a=e.mul(s,e.sub(o,e.ONE));return AA(e,a,t),a}function kA(e){if(e<fA)throw new Error("sqrt is not defined for small field");let t=e-hA,n=0;for(;t%dA===uA;)t/=dA,n++;let r=dA;const i=TA(e);for(;1===CA(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return SA;let s=i.pow(r,t);const o=(t+hA)/dA;return function(e,r){if(e.is0(r))return r;if(1!==CA(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),c=e.pow(r,t),l=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=hA<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}function PA(e){return e%pA===fA?SA:e%yA===gA?IA:e%vA===wA?function(e){const t=TA(e),n=kA(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+mA)/vA;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const c=e.mul(n,i),l=e.mul(n,s),u=e.eql(e.sqr(a),t),h=e.eql(e.sqr(c),t);n=e.cmov(n,a,u),a=e.cmov(l,c,h);const d=e.eql(e.sqr(a),t),f=e.cmov(n,a,d);return AA(e,f,t),f}}(e):kA(e)}const OA=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function NA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function CA(e,t){const n=(e.ORDER-hA)/dA,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function RA(e,t){void 0!==t&&sb(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function TA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=uA)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=RA(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:aA(c),ZERO:uA,ONE:hA,allowedLengths:o,create:t=>bA(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return uA<=t&&t<e},is0:e=>e===uA,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&hA)===hA,neg:t=>bA(-t,e),eql:(e,t)=>e===t,sqr:t=>bA(t*t,e),add:(t,n)=>bA(t+n,e),sub:(t,n)=>bA(t-n,e),mul:(t,n)=>bA(t*n,e),pow:(e,t)=>function(e,t,n){if(n<uA)throw new Error("invalid exponent, negatives unsupported");if(n===uA)return e.ONE;if(n===hA)return t;let r=e.ONE,i=t;for(;n>uA;)n&hA&&(r=e.mul(r,i)),i=e.sqr(i),n>>=hA;return r}(h,e,t),div:(t,n)=>bA(t*xA(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>xA(t,e),sqrt:s||(t=>(u||(u=PA(e)),u(h,t))),toBytes:e=>n?nA(e,l):tA(e,l),fromBytes:function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=n?eA(t):$x(t);if(a&&(i=bA(i,e)),!r&&!h.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>NA(h,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(h)}function _A(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function BA(e){const t=_A(e);return t+Math.ceil(t/2)}const jA=BigInt(0),UA=BigInt(1);function LA(e,t){const n=t.negate();return e?n:t}function DA(e,t){const n=NA(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function MA(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function FA(e,t){MA(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:aA(e),maxNumber:n,shiftBy:BigInt(e)}}function zA(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=UA);const l=t*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:l}}const HA=new WeakMap,qA=new WeakMap;function VA(e){return qA.get(e)||1}function WA(e){if(e!==jA)throw new Error("invalid wNAF")}class KA{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ZERO,r=e;for(;t>jA;)t&UA&&(n=n.add(r)),r=r.double(),t>>=UA;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=FA(t,this.bits),i=[];let s=e,o=s;for(let a=0;a<n;a++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=FA(e,this.bits);for(let o=0;o<s.windows;o++){const{nextN:e,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:h}=zA(n,o,s);n=e,c?i=i.add(LA(u,t[h])):r=r.add(LA(l,t[a]))}return WA(n),{p:r,f:i}}wNAFUnsafe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.ZERO;const i=FA(e,this.bits);for(let s=0;s<i.windows&&n!==jA;s++){const{nextN:e,offset:o,isZero:a,isNeg:c}=zA(n,s,i);if(n=e,!a){const e=t[o];r=r.add(c?e.negate():e)}}return WA(n),r}getPrecomputes(e,t,n){let r=HA.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),HA.set(t,r))),r}cached(e,t,n){const r=VA(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=VA(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){MA(t,this.bits),qA.set(e,t),HA.delete(e)}hasCache(e){return 1!==VA(e)}}function GA(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=oA(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=aA(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((t.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(d)&l);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==d)for(let t=0;t<c;t++)h=h.double()}return h}function QA(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){cA(e,OA.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return TA(e,{isLE:n})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),Nb("HashToScalar-");const JA=BigInt(0),YA=BigInt(1),ZA=BigInt(2);function XA(e){const t=function(e){return cA(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze((0,o.A)({},e))}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=t,c="x25519"===r;if(!c&&"x448"!==r)throw new Error("invalid type");const l=a||Bb,u=c?255:448,h=c?32:56,d=BigInt(c?9:5),f=BigInt(c?121665:39081),p=c?ZA**BigInt(254):ZA**BigInt(447),g=c?BigInt(8)*ZA**BigInt(251)-YA:BigInt(4)*ZA**BigInt(445)-YA,m=p+g+YA,y=e=>bA(e,n),w=v(d);function v(e){return nA(y(e),h)}function b(e,t){const r=function(e,t){sA("u",e,JA,n),sA("scalar",t,p,m);const r=t,i=e;let o=YA,a=JA,c=e,l=YA,h=JA;for(let n=BigInt(u-1);n>=JA;n--){const e=r>>n&YA;h^=e,({x_2:o,x_3:c}=x(h,o,c)),({x_2:a,x_3:l}=x(h,a,l)),h=e;const t=o+a,s=y(t*t),u=o-a,d=y(u*u),p=s-d,g=c+l,m=y((c-l)*t),w=y(g*u),v=m+w,b=m-w;c=y(v*v),l=y(i*y(b*b)),o=y(s*d),a=y(p*(s+y(f*p)))}({x_2:o,x_3:c}=x(h,o,c)),({x_2:a,x_3:l}=x(h,a,l));const d=s(a);return y(o*d)}(function(e){const t=rA("u coordinate",e,h);return c&&(t[31]&=127),y(eA(t))}(t),function(e){return eA(i(rA("scalar",e,h)))}(e));if(r===JA)throw new Error("invalid private or public key received");return v(r)}function E(e){return b(e,w)}function x(e,t,n){const r=y(e*(t-n));return{x_2:t=y(t-r),x_3:n=y(n+r)}}const A={secretKey:h,publicKey:h,seed:h},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(h);return ob(e,A.seed),e};return{keygen:function(e){const t=S(e);return{secretKey:t,publicKey:E(t)}},getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>E(e),scalarMult:b,scalarMultBase:E,utils:{randomSecretKey:S,randomPrivateKey:S},GuBytes:w.slice(),lengths:A}}const $A=BigInt(1),eS=BigInt(2),tS=BigInt(3),nS=BigInt(5),rS=BigInt(8),iS=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function sS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const oS=TA({p:iS,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:rS,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),aS=(()=>{const e=oS.ORDER;return XA({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=iS,o=e*e%s*e%s,a=EA(o,eS,s)*o%s,c=EA(a,$A,s)*e%s,l=EA(c,nS,s)*c%s,u=EA(l,t,s)*l%s,h=EA(u,n,s)*u%s,d=EA(h,r,s)*h%s,f=EA(d,i,s)*d%s,p=EA(f,i,s)*d%s,g=EA(p,t,s)*l%s;return{pow_p_5_8:EA(g,eS,s)*e%s,b2:o}}(t);return bA(EA(n,tS,e)*r,e)},adjustScalarBytes:sS})})(),cS=(e,t)=>(e+(e>=0?t:-t)/gS)/t;function lS(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function uS(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return Jx(n.lowS,"lowS"),Jx(n.prehash,"prehash"),void 0!==n.format&&lS(n.format),n}class hS extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const dS={Err:hS,_tlv:{encode:(e,t)=>{const{Err:n}=dS;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Zx(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Zx(i.length/2|128):"";return Zx(e)+s+i+t},decode(e,t){const{Err:n}=dS;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=dS;if(e<fS)throw new t("integer: negative integers are not allowed");let n=Zx(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=dS;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return $x(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=dS,i=rA("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=dS,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},fS=BigInt(0),pS=BigInt(1),gS=BigInt(2),mS=BigInt(3),yS=BigInt(4);function wS(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let s=rA("private key",t);try{r=e.fromBytes(s)}catch(i){throw new Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(typeof t))}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function vS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error("expected valid ".concat(e," CURVE object"));for(const a of["p","n","h"]){const e=t[a];if(!("bigint"==typeof e&&e>jA))throw new Error("CURVE.".concat(a," must be positive bigint"))}const i=QA(t.p,n.Fp,r),s=QA(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const a of o)if(!i.isValid(t[a]))throw new Error("CURVE.".concat(a," must be valid field element of CURVE.Fp"));return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;cA(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ES(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if(Jx(n,"isCompressed"),n){u();return Rb(bS(!r.isOdd(s)),o)}return Rb(Uint8Array.of(4),o,r.toBytes(s))},d=t.fromBytes||function(e){Yx(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error("bad point: got length ".concat(i,", expected compressed=").concat(t," or uncompressed=").concat(n))}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}u();return 1===(1&s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=r.mul(r.pow(s.a,mS),yS),m=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r.isValid(t)||n&&r.is0(t))throw new Error("bad point coordinate ".concat(e));return t}function w(e){if(!(e instanceof A))throw new Error("ProjectivePoint expected")}function v(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=cS(o*e,n),c=cS(-i*e,n);let l=e-a*r-c*s,u=-a*i-c*o;const h=l<fS,d=u<fS;h&&(l=-l),d&&(u=-u);const f=aA(Math.ceil(oA(n)/2))+pS;if(l<fS||l>=f||u<fS||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}(e,c.basises,i.ORDER)}const b=lA((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),E=lA(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(e,t,n,i,s){return n=new A(r.mul(n.X,e),n.Y,n.Z),t=LA(i,t),n=LA(s,n),t.add(n)}class A{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof A)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?A.ZERO:new A(t,n,r.ONE)}static fromBytes(e){const t=A.fromAffine(d(Yx(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return A.fromBytes(rA("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return I.createCache(this,e),t||this.multiply(mS),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){w(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new A(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,mS),{X:i,Y:o,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(i,i),d=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(d,l),l=r.add(d,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(h,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,f),h=r.mul(h,p),l=r.add(l,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,p),c=r.sub(c,h),u=r.mul(f,d),u=r.add(u,u),u=r.add(u,u),new A(c,l,u)}add(e){w(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=r.ZERO,u=r.ZERO,h=r.ZERO;const d=s.a,f=r.mul(s.b,mS);let p=r.mul(t,o),g=r.mul(n,a),m=r.mul(i,c),y=r.add(t,n),v=r.add(o,a);y=r.mul(y,v),v=r.add(p,g),y=r.sub(y,v),v=r.add(t,i);let b=r.add(o,c);return v=r.mul(v,b),b=r.add(p,m),v=r.sub(v,b),b=r.add(n,i),l=r.add(a,c),b=r.mul(b,l),l=r.add(g,m),b=r.sub(b,l),h=r.mul(d,v),l=r.mul(f,m),h=r.add(l,h),l=r.sub(g,h),h=r.add(g,h),u=r.mul(l,h),g=r.add(p,p),g=r.add(g,p),m=r.mul(d,m),v=r.mul(f,v),g=r.add(g,m),m=r.sub(p,m),m=r.mul(d,m),v=r.add(v,m),p=r.mul(g,v),u=r.add(u,p),p=r.mul(b,v),l=r.mul(y,l),l=r.sub(l,p),p=r.mul(y,g),h=r.mul(b,h),h=r.add(h,p),new A(l,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(A.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>I.cached(this,e,e=>DA(A,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:c}=v(e),{p:l,f:u}=o(i),{p:h,f:d}=o(c);s=u.add(d),r=x(n.beta,l,h,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return DA(A,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===fS||r.is0())return A.ZERO;if(e===pS)return r;if(I.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=v(e),{p1:a,p2:c}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>jA||r>jA;)n&UA&&(s=s.add(i)),r&UA&&(o=o.add(i)),i=i.double(),n>>=UA,r>>=UA;return{p1:s,p2:o}}(A,r,i,o);return x(n.beta,a,c,t,s)}return I.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return b(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===pS||(e?e(A,this):I.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===pS?this:e?e(A,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Jx(e,"isCompressed"),this.assertValidity(),h(A,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return bb(this.toBytes(e))}toString(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return DA(A,e)}static msm(e,t){return GA(A,i,e,t)}static fromPrivateKey(e){return A.BASE.multiply(wS(i,e))}}A.BASE=new A(s.Gx,s.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO),A.Fp=r,A.Fn=i;const S=i.BITS,I=new KA(A,t.endo?Math.ceil(S/2):S);return A.BASE.precompute(8),A}function bS(e){return Uint8Array.of(e?2:3)}function ES(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function xS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{Fn:n}=e,r=t.randomBytes||Bb,i=Object.assign(ES(e.Fp,n),{seed:BA(n.ORDER)});function s(e){try{return!!wS(n,e)}catch(t){return!1}}function o(){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=_A(t),s=BA(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=bA(n?eA(e):$x(e),t-hA)+hA;return n?nA(o,i):tA(o,i)}(Yx(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(i.seed),i.seed,"seed"),n.ORDER)}function a(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.BASE.multiply(wS(n,t)).toBytes(r)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=rA("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const s=wS(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===n&&i!==r||!1===n&&i!==s)&&!!e.fromBytes(t)}catch(o){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>wS(n,e),precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE).precompute(t,!1)}},lengths:i})}function AS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ab(t),cA(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Bb,i=n.hmac||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Hx(t,e,Rb(...r))},{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f}=xS(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>pS}function y(e,t){if(!o.isValidNot0(t))throw new Error("invalid signature ".concat(e,": out of range 1..Point.Fn.ORDER"));return t}class w{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(function(e,t){lS(t);const n=f.signature;Yx(e,"compact"===t?n:"recovered"===t?n+1:void 0,"".concat(t," signature"))}(e,n),"der"===n){const{r:t,s:n}=dS.toSig(Yx(e));return new w(t,n)}"recovered"===n&&(t=e[0],n="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new w(o.fromBytes(i),o.fromBytes(s),t)}static fromHex(e,t){return this.fromBytes(Ob(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r:r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*gS<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),h=e.fromBytes(Rb(bS(0===(1&c)),u)),d=o.inv(l),f=b(rA("msgHash",t)),p=o.create(-f*d),g=o.create(i*d),m=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(lS(e),"der"===e)return Ob(dS.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Rb(Uint8Array.of(this.recovery),t,n)}return Rb(t,n)}toHex(e){return bb(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(rA("sig",e),"compact")}static fromDER(e){return w.fromBytes(rA("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return bb(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return bb(this.toBytes("compact"))}}const v=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=$x(e),n=8*e.length-c;return n>0?t>>BigInt(n):t},b=n.bits2int_modN||function(e){return o.create(v(e))},E=aA(c);function x(e){return sA("num < 2^"+c,e,fS,E),o.toBytes(e)}function A(e,n){return Yx(e,void 0,"message"),n?Yx(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f,Point:e,sign:function(n,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=rA("message",n);const{seed:c,k2sig:l}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=uS(i,p);t=A(t,a);const l=b(t),u=wS(o,n),h=[x(u),x(l)];if(null!=c&&!1!==c){const e=!0===c?r(f.secretKey):c;h.push(rA("extraEntropy",e))}const d=Rb(...h),g=l;return{seed:d,k2sig:function(t){const n=v(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===fS)return;const c=o.create(r*o.create(g+a*u));if(c===fS)return;let l=(i.x===a?0:2)|Number(i.y&pS),h=c;return s&&m(c)&&(h=o.neg(c),l^=1),new w(a,h,l)}}}(n,s,a);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(o,s,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(0);o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=l();const t=s.slice();n.push(t),e+=s.length}return Rb(...n)};return(e,t)=>{let n;for(c(),u(e);!(n=t(h()));)u();return c(),n}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{lowS:s,prehash:a,format:c}=uS(i,p);if(r=rA("publicKey",r),n=A(rA("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const n="string"==typeof e||ib(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new w(e.r,e.s);else if(n){try{t=w.fromBytes(rA("sig",e),"der")}catch(s){if(!(s instanceof dS.Err))throw s}if(!t)try{t=w.fromBytes(rA("sig",e),"compact")}catch(i){return!1}}return t||!1}(t):w.fromBytes(rA("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(r);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=b(n),u=o.inv(a),h=o.create(c*u),d=o.create(i*u),f=e.BASE.multiplyUnsafe(h).add(t.multiplyUnsafe(d));return!f.is0()&&o.create(f.x)===i}catch(u){return!1}},recoverPublicKey:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{prehash:r}=uS(n,p);return t=A(t,r),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function SS(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:TA(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function IS(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=SS(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,RA(n.Fn.ORDER,n.Fn.BITS))})}(e,AS(vS(t,n),r,i))}function kS(e,t){const n=t=>IS((0,o.A)((0,o.A)({},e),{},{hash:t}));return(0,o.A)((0,o.A)({},n(t)),{},{create:n})}const PS={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},OS={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},NS={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},CS=TA(PS.p),RS=TA(OS.p),TS=TA(NS.p),_S=kS((0,o.A)((0,o.A)({},PS),{},{Fp:CS,lowS:!1}),gE);kS((0,o.A)((0,o.A)({},OS),{},{Fp:RS,lowS:!1}),yE),kS((0,o.A)((0,o.A)({},NS),{},{Fp:TS,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),mE);const BS=_S,jS="base10",US="base16",LS="base64pad",DS="base64url",MS="utf8";function FS(){const e=Bb(32);return(0,Vw.dI)(e,US)}function zS(e){const t=Kx((0,Vw.sH)(e,US));return(0,Vw.dI)(t,US)}function HS(e){const t=Kx((0,Vw.sH)(e,MS));return(0,Vw.dI)(t,US)}function qS(e){return(0,Vw.sH)("".concat(e),jS)}function VS(e){return Number((0,Vw.dI)(e,jS))}function WS(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function KS(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function GS(e){if(2===VS(e.type))return(0,Vw.dI)((0,Vw.xW)([e.type,e.sealed]),LS);if(1===VS(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,Vw.dI)((0,Vw.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),LS)}return(0,Vw.dI)((0,Vw.xW)([e.type,e.iv,e.sealed]),LS)}function QS(e){const t=(e.encoding||LS)===DS?KS(e.encoded):e.encoded,n=(0,Vw.sH)(t,LS),r=n.slice(0,1);if(1===VS(r)){const e=33,t=e+12,i=n.slice(1,e),s=n.slice(e,t);return{type:r,sealed:n.slice(t),iv:s,senderPublicKey:i}}if(2===VS(r)){return{type:r,sealed:n.slice(1),iv:Bb(12)}}const i=n.slice(1,13);return{type:r,sealed:n.slice(13),iv:i}}function JS(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function YS(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function ZS(e){return 2===e.type}function XS(e,t){const[n,r,i]=e.split("."),s=Buffer.from(KS(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c="".concat(n,".").concat(r),l=Kx(c),u=function(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return(0,Vw.xW)([new Uint8Array([4]),t,n])}(t);if(!BS.verify((0,Vw.xW)([o,a]),l,u))throw new Error("Invalid signature");return(0,qw.Cq)(e).payload}function $S(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function eI(e){const t=Ww.CG[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,iI=Object.getOwnPropertySymbols,sI=Object.prototype.hasOwnProperty,oI=Object.prototype.propertyIsEnumerable,aI=(e,t,n)=>t in e?tI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cI=(e,t)=>{for(var n in t||(t={}))sI.call(t,n)&&aI(e,n,t[n]);if(iI)for(var n of iI(t))oI.call(t,n)&&aI(e,n,t[n]);return e};function lI(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach(r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}}),t}function uI(e){if(!e.includes("wc:")){const t=Uv(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:hI(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:lI(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function hI(e){return e.startsWith("//")?e.substring(2):e}function dI(e){const t=new URLSearchParams,n=cI(cI(((e,t)=>nI(e,rI(t)))(cI({},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(n).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).forEach(e=>{let[n,r]=e;void 0!==r&&t.append(n,String(r))}),"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(t)}function fI(e,t,n){return"".concat(e,"?wc_ev=").concat(n,"&topic=").concat(t)}var pI=Object.defineProperty,gI=Object.defineProperties,mI=Object.getOwnPropertyDescriptors,yI=Object.getOwnPropertySymbols,wI=Object.prototype.hasOwnProperty,vI=Object.prototype.propertyIsEnumerable,bI=(e,t,n)=>t in e?pI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EI=(e,t)=>{for(var n in t||(t={}))wI.call(t,n)&&bI(e,n,t[n]);if(yI)for(var n of yI(t))vI.call(t,n)&&bI(e,n,t[n]);return e},xI=(e,t)=>gI(e,mI(t));function AI(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push("".concat(n,":").concat(r))}),t}function SI(e){const t=[];return Object.values(e).forEach(e=>{t.push(...AI(e.accounts))}),[...new Set(t)]}function II(e){return e.includes(":")}function kI(e){return II(e)?e.split(":")[0]:e}function PI(e){var t,n,r;const i={};if(!BI(e))return i;for(const[s,o]of Object.entries(e)){const e=II(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=kI(s);i[l]=xI(EI({},i[l]),{chains:Rv(e,null==(t=i[l])?void 0:t.chains),methods:Rv(a,null==(n=i[l])?void 0:n.methods),events:Rv(c,null==(r=i[l])?void 0:r.events)})}return i}function OI(e,t){const n=function(e){const t={};return null!==e&&void 0!==e&&e.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push("".concat(r,":").concat(i))}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(const[r,i]of Object.entries(n))i.methods?i.methods=Rv(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const NI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},CI={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function RI(e,t){const{message:n,code:r}=CI[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function TI(e,t){const{message:n,code:r}=NI[e];return{message:t?"".concat(n," ").concat(t):n,code:r}}function _I(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function BI(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function jI(e){return typeof e>"u"}function UI(e,t){return!(!t||!jI(e))||"string"==typeof e&&!!e.trim().length}function LI(e,t){return!(!t||!jI(e))||"number"==typeof e&&!isNaN(e)}function DI(e){return!(!UI(e,!1)||!e.includes(":"))&&2===e.split(":").length}function MI(e){let t=!0;return _I(e)?e.length&&(t=e.every(e=>UI(e,!1))):t=!1,t}function FI(e,t,n){let r=null;return Object.entries(e).forEach(e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return _I(t)&&t.length?t.forEach(e=>{r||DI(e)||(r=TI("UNSUPPORTED_CHAINS","".concat(n,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):DI(e)||(r=TI("UNSUPPORTED_CHAINS","".concat(n,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),r}(i,Zw(i,s),"".concat(t," ").concat(n));o&&(r=o)}),r}function zI(e,t){let n=null;return _I(e)?e.forEach(e=>{n||function(e){if(UI(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&DI(e)}}return!1}(e)||(n=TI("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):n=TI("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),n}function HI(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return MI(null===e||void 0===e?void 0:e.methods)?MI(null===e||void 0===e?void 0:e.events)||(n=TI("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):n=TI("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),n}(e,"".concat(t,", namespace"));r&&(n=r)}),n}function qI(e,t){let n=null;if(e&&BI(e)){const r=HI(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=zI(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));r&&(n=r)}),n}(e,t);i&&(n=i)}else n=RI("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return n}function VI(e){return UI(e.protocol,!0)}function WI(e){return typeof e<"u"&&null!==typeof e}function KI(e,t){return!(!DI(t)||!SI(e).includes(t))}function GI(e,t,n){return!!UI(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{AI(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}function QI(e,t,n){return!!UI(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{AI(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}function JI(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=AI(e[n].accounts);null===r||void 0===r||r.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes("".concat(r,":"))),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=YI(Object.keys(e)),l=YI(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(r=RI("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),Ev(o,a)||(r=RI("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=AI(t[e].accounts);i.includes(e)||(r=RI("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}),o.forEach(e=>{r||(Ev(i[e].methods,s[e].methods)?Ev(i[e].events,s[e].events)||(r=RI("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):r=RI("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))}),r}function YI(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function ZI(){const e=gv();return new Promise(t=>{switch(e){case lv:t(function(){var e;return pv()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case av:t(async function(){if(fv()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}})}function XI(e){switch(gv()){case lv:!function(e){!fv()&&pv()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case av:!function(e){var t;fv()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&(null===(t=n.g)||void 0===t||t.NetInfo.addEventListener(t=>e(null===t||void 0===t?void 0:t.isConnected)))}(e)}}const $I={};class ek{static get(e){return $I[e]}static set(e,t){$I[e]=t}static delete(e){delete $I[e]}}function tk(e){let{publicKey:t,signature:n,payload:r}=e;var i;const s=nk(r.method),o=128|parseInt((null==(i=r.version)?void 0:i.toString())||"4"),a=function(e){const t=Mw.A.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),c="00"===r.era?new Uint8Array([0]):nk(r.era);if(1!==c.length&&2!==c.length)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),u=new Uint8Array([255&l,l>>8&255]),h=BigInt("0x".concat(function(e){return e.startsWith("0x")?e.slice(2):e}(r.tip))),d=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(h),f=new Uint8Array([0,...t,a,...n,...c,...u,...d,...s]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(f.length+1);return new Uint8Array([...p,o,...f])}function nk(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function rk(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=function(e){const t=Mw.A.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=tk({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=nk(e),n=(0,Kw.blake2b)(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}(Buffer.from(r).toString("hex"))}function ik(e){let{logger:t,name:n}=e;const r="string"==typeof t?(0,Gw.D5)({opts:{level:t,name:n}}).logger:t;return r.level="string"==typeof t?t:t.level,r}var sk=n(917),ok=n(8129),ak=n(1775),ck=Object.defineProperty,lk=(e,t,n)=>((e,t,n)=>t in e?ck(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class uk extends ak.H{constructor(e){super(),this.opts=e,lk(this,"protocol","wc"),lk(this,"version",2)}}var hk=Object.defineProperty,dk=(e,t,n)=>((e,t,n)=>t in e?hk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fk extends ak.H{constructor(e,t){super(),this.core=e,this.logger=t,dk(this,"records",new Map)}}class pk{constructor(e,t){this.logger=e,this.core=t}}class gk extends ak.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class mk extends ak.H{constructor(e){super()}}class yk{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class wk extends ak.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class vk extends ak.H{constructor(e,t){super(),this.core=e,this.logger=t}}class bk{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class Ek{constructor(e,t){this.projectId=e,this.logger=t}}class xk{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var Ak=Object.defineProperty,Sk=(e,t,n)=>((e,t,n)=>t in e?Ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);Jp();class Ik{constructor(e){this.opts=e,Sk(this,"protocol","wc"),Sk(this,"version",2)}}Qp.EventEmitter;class kk{constructor(e){this.client=e}}var Pk=n(8661),Ok=n(7312),Nk=n(632),Ck=n(2636);const Rk="core",Tk="".concat("wc","@2:").concat(Rk,":"),_k="error",Bk={database:":memory:"},jk="client_ed25519_seed",Uk=Zp.ONE_DAY,Lk=Zp.SIX_HOURS,Dk="wss://relay.walletconnect.org",Mk="relayer_message",Fk="relayer_message_ack",zk="relayer_connect",Hk="relayer_disconnect",qk="relayer_error",Vk="relayer_connection_stalled",Wk="relayer_publish",Kk="payload",Gk="connect",Qk="disconnect",Jk="error",Yk="2.23.0",Zk={link_mode:"link_mode",relay:"relay"},Xk="inbound",$k="outbound",eP="WALLETCONNECT_LINK_MODE_APPS",tP="subscription_created",nP="subscription_deleted",rP="subscription_sync",iP="subscription_resubscribed",sP=(Zp.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Zp.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Zp.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:0},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:0}}}),oP="pairing_create",aP="pairing_expire",cP="pairing_delete",lP="pairing_ping",uP="history_created",hP="history_updated",dP="history_deleted",fP="history_sync",pP="expirer_created",gP="expirer_deleted",mP="expirer_expired",yP="expirer_sync",wP="https://verify.walletconnect.org",vP=wP,bP="".concat(vP,"/v3"),EP=["https://verify.walletconnect.com",wP],xP="pairing_started",AP="pairing_uri_validation_success",SP="pairing_uri_not_expired",IP="store_new_pairing",kP="subscribing_pairing_topic",PP="subscribe_pairing_topic_success",OP="existing_pairing",NP="pairing_not_expired",CP="emit_inactive_pairing",RP="emit_session_proposal",TP="no_internet_connection",_P="malformed_pairing_uri",BP="active_pairing_already_exists",jP="subscribe_pairing_topic_failure",UP="pairing_expired",LP="proposal_listener_not_found",DP="session_approve_started",MP="session_namespaces_validation_success",FP="subscribing_session_topic",zP="subscribe_session_topic_success",HP="session_approve_publish_success",qP="store_session",VP="session_request_response_started",WP="session_request_response_validation_success",KP="session_request_response_publish_started",GP="no_internet_connection",QP="proposal_expired",JP="subscribe_session_topic_failure",YP="session_approve_namespace_validation_failure",ZP="proposal_not_found",XP="session_request_response_validation_failure",$P="session_request_response_publish_failure",eO="authenticated_session_approve_started",tO="create_authenticated_session_topic",nO="cacaos_verified",rO="store_authenticated_session",iO="subscribing_authenticated_session_topic",sO="subscribe_authenticated_session_topic_success",oO="publishing_authenticated_session_approve",aO="no_internet_connection",cO="invalid_cacao",lO="subscribe_authenticated_session_topic_failure",uO="authenticated_session_approve_publish_failure",hO="authenticated_session_pending_request_not_found";var dO=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(r+(s-f)),g=r;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=o-r;p!==o&&0===l[p];)p++;for(var g=c.repeat(n);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error("Non-".concat(t," character"))}}},fO=dO;const pO=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class gO{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class mO{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return wO(this,e)}}class yO{constructor(e){this.decoders=e}or(e){return wO(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const wO=(e,t)=>new yO((0,o.A)((0,o.A)({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class vO{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new gO(e,t,n),this.decoder=new mO(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const bO=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new vO(t,n,r,i)},EO=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=fO(r,n);return bO({prefix:t,name:n,encode:i,decode:e=>pO(s(e))})},xO=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return bO({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(r," character"));c=c<<n|t,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},AO=bO({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var SO=Object.freeze({__proto__:null,identity:AO});const IO=xO({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kO=Object.freeze({__proto__:null,base2:IO});const PO=xO({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var OO=Object.freeze({__proto__:null,base8:PO});const NO=EO({prefix:"9",name:"base10",alphabet:"0123456789"});var CO=Object.freeze({__proto__:null,base10:NO});const RO=xO({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),TO=xO({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _O=Object.freeze({__proto__:null,base16:RO,base16upper:TO});const BO=xO({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jO=xO({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),UO=xO({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),LO=xO({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),DO=xO({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MO=xO({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),FO=xO({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zO=xO({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),HO=xO({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var qO=Object.freeze({__proto__:null,base32:BO,base32upper:jO,base32pad:UO,base32padupper:LO,base32hex:DO,base32hexupper:MO,base32hexpad:FO,base32hexpadupper:zO,base32z:HO});const VO=EO({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),WO=EO({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var KO=Object.freeze({__proto__:null,base36:VO,base36upper:WO});const GO=EO({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),QO=EO({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var JO=Object.freeze({__proto__:null,base58btc:GO,base58flickr:QO});const YO=xO({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ZO=xO({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),XO=xO({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$O=xO({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eN=Object.freeze({__proto__:null,base64:YO,base64pad:ZO,base64url:XO,base64urlpad:$O});const tN=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),nN=tN.reduce((e,t,n)=>(e[n]=t,e),[]),rN=tN.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const iN=bO({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=nN[t],"")},decode:function(e){const t=[];for(const n of e){const e=rN[n.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(n));t.push(e)}return new Uint8Array(t)}});var sN=Object.freeze({__proto__:null,base256emoji:iN}),oN=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=lN;)n[r++]=255&t|aN,t/=128;for(;t&cN;)n[r++]=255&t|aN,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},aN=128,cN=-128,lN=Math.pow(2,31);var uN=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&dN)<<s:(r&dN)*Math.pow(2,s),s+=7}while(r>=hN);return e.bytes=o-n,i},hN=128,dN=127;var fN=Math.pow(2,7),pN=Math.pow(2,14),gN=Math.pow(2,21),mN=Math.pow(2,28),yN=Math.pow(2,35),wN=Math.pow(2,42),vN=Math.pow(2,49),bN=Math.pow(2,56),EN=Math.pow(2,63),xN={encode:oN,decode:uN,encodingLength:function(e){return e<fN?1:e<pN?2:e<gN?3:e<mN?4:e<yN?5:e<wN?6:e<vN?7:e<bN?8:e<EN?9:10}};const AN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xN.encode(e,t,n),t},SN=e=>xN.encodingLength(e),IN=(e,t)=>{const n=t.byteLength,r=SN(e),i=r+SN(n),s=new Uint8Array(i+n);return AN(e,s,0),AN(n,s,r),s.set(t,i),new kN(e,n,t,s)};class kN{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const PN=e=>{let{name:t,code:n,encode:r}=e;return new ON(t,n,r)};class ON{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?IN(this.code,t):t.then(e=>IN(this.code,e))}throw Error("Unknown type, must be binary type")}}const NN=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),CN=PN({name:"sha2-256",code:18,encode:NN("SHA-256")}),RN=PN({name:"sha2-512",code:19,encode:NN("SHA-512")});var TN=Object.freeze({__proto__:null,sha256:CN,sha512:RN});const _N=pO,BN={code:0,name:"identity",encode:_N,digest:e=>IN(0,_N(e))};var jN=Object.freeze({__proto__:null,identity:BN});new TextEncoder,new TextDecoder;const UN=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},SO),kO),OO),CO),_O),qO),KO),JO),eN),sN);function LN(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function DN(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}(0,o.A)((0,o.A)({},TN),jN);const MN=DN("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),FN=DN("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?LN(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),zN=(0,o.A)({utf8:MN,"utf-8":MN,hex:UN.base16,latin1:FN,ascii:FN,binary:FN},UN);var HN=Object.defineProperty,qN=(e,t,n)=>((e,t,n)=>t in e?HN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class VN{constructor(e,t){this.core=e,this.logger=t,qN(this,"keychain",new Map),qN(this,"name","keychain"),qN(this,"version","0.3"),qN(this,"initialized",!1),qN(this,"storagePrefix",Tk),qN(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),qN(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),qN(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),qN(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=RI("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}),qN(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,Gw.U5)(t,this.name)}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,xv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Av(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var WN=Object.defineProperty,KN=(e,t,n)=>((e,t,n)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class GN{constructor(e,t,n){this.core=e,this.logger=t,KN(this,"name","crypto"),KN(this,"keychain"),KN(this,"randomSessionIdentifier",FS()),KN(this,"initialized",!1),KN(this,"clientId"),KN(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),KN(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),KN(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=await this.getClientSeed(),t=qw.TZ(e),n=qw.UF(t.publicKey);return this.clientId=n,n}),KN(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=aS.utils.randomPrivateKey(),t=aS.getPublicKey(e);return{privateKey:(0,Vw.dI)(e,US),publicKey:(0,Vw.dI)(t,US)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),KN(this,"signJWT",async e=>{this.isInitialized();const t=await this.getClientSeed(),n=qw.TZ(t),r=this.randomSessionIdentifier,i=Uk;return await qw.FA(r,e,i,n)}),KN(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=aS.getSharedSecret((0,Vw.sH)(e,US),(0,Vw.sH)(t,US)),r=Wx(Kx,n,void 0,void 0,32);return(0,Vw.dI)(r,US)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),KN(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||zS(e);return await this.keychain.set(n,e),n}),KN(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),KN(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),KN(this,"encode",async(e,t,n)=>{this.isInitialized();const r=JS(n),i=(0,Pk.h)(t);if(ZS(r))return function(e,t){const n=qS(2),r=Bb(12),i=GS({type:n,sealed:(0,Vw.sH)(e,MS),iv:r});return t===DS?WS(i):i}(i,null===n||void 0===n?void 0:n.encoding);if(YS(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=qS(typeof e.type<"u"?e.type:0);if(1===VS(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,Vw.sH)(e.senderPublicKey,US):void 0,r=typeof e.iv<"u"?(0,Vw.sH)(e.iv,US):Bb(12),i=(0,Vw.sH)(e.symKey,US),s=GS({type:t,sealed:Mx(i,r).encrypt((0,Vw.sH)(e.message,MS)),iv:r,senderPublicKey:n});return e.encoding===DS?WS(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:null===n||void 0===n?void 0:n.encoding})}),KN(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=QS({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return JS({type:VS(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,Vw.dI)(n.senderPublicKey,US):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,n);if(ZS(r)){const e=function(e,t){const{sealed:n}=QS({encoded:e,encoding:t});return(0,Vw.dI)(n,MS)}(t,null===n||void 0===n?void 0:n.encoding);return(0,Pk.j)(e)}if(YS(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=(0,Vw.sH)(e.symKey,US),{sealed:n,iv:r}=QS({encoded:e.encoded,encoding:e.encoding}),i=Mx(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return(0,Vw.dI)(i,MS)}({symKey:this.getSymKey(e),encoded:t,encoding:null===n||void 0===n?void 0:n.encoding});return(0,Pk.j)(r)}catch(lk){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(lk)}}),KN(this,"getPayloadType",function(e){return VS(QS({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:LS}).type)}),KN(this,"getPayloadSenderPublicKey",function(e){const t=QS({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:LS});return t.senderPublicKey?(0,Vw.dI)(t.senderPublicKey,US):void 0}),this.core=e,this.logger=(0,Gw.U5)(t,this.name),this.keychain=n||new VN(this.core,this.logger)}get context(){return(0,Gw.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(jk)}catch(t){e=FS(),await this.keychain.set(jk,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=zN[t];if(!n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):LN(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var QN=Object.defineProperty,JN=Object.defineProperties,YN=Object.getOwnPropertyDescriptors,ZN=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,$N=Object.prototype.propertyIsEnumerable,eC=(e,t,n)=>t in e?QN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tC=(e,t,n)=>eC(e,"symbol"!=typeof t?t+"":t,n);class nC extends pk{constructor(e,t){super(e,t),this.logger=e,this.core=t,tC(this,"messages",new Map),tC(this,"messagesWithoutClientAck",new Map),tC(this,"name","messages"),tC(this,"version","0.3"),tC(this,"initialized",!1),tC(this,"storagePrefix",Tk),tC(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Sk){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(Sk)}finally{this.initialized=!0}}}),tC(this,"set",async(e,t,n)=>{this.isInitialized();const r=HS(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===Xk){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>JN(e,YN(t)))(((e,t)=>{for(var n in t||(t={}))XN.call(t,n)&&eC(e,n,t[n]);if(ZN)for(var n of ZN(t))$N.call(t,n)&&eC(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),tC(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),tC(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),tC(this,"has",(e,t)=>{this.isInitialized();return typeof this.get(e)[HS(t)]<"u"}),tC(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[HS(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()}),tC(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,Gw.U5)(e,this.name),this.core=t}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,xv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,xv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Av(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Av(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rC=Object.defineProperty,iC=Object.defineProperties,sC=Object.getOwnPropertyDescriptors,oC=Object.getOwnPropertySymbols,aC=Object.prototype.hasOwnProperty,cC=Object.prototype.propertyIsEnumerable,lC=(e,t,n)=>t in e?rC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uC=(e,t)=>{for(var n in t||(t={}))aC.call(t,n)&&lC(e,n,t[n]);if(oC)for(var n of oC(t))cC.call(t,n)&&lC(e,n,t[n]);return e},hC=(e,t)=>iC(e,sC(t)),dC=(e,t,n)=>lC(e,"symbol"!=typeof t?t+"":t,n);class fC extends gk{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,dC(this,"events",new Qp.EventEmitter),dC(this,"name","publisher"),dC(this,"queue",new Map),dC(this,"publishTimeout",(0,Zp.toMiliseconds)(Zp.ONE_MINUTE)),dC(this,"initialPublishTimeout",(0,Zp.toMiliseconds)(15*Zp.ONE_SECOND)),dC(this,"needsTransportRestart",!1),dC(this,"publish",async(e,t,n)=>{var r,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const c=(null===n||void 0===n?void 0:n.ttl)||Lk,l=(null===n||void 0===n?void 0:n.prompt)||!1,u=(null===n||void 0===n?void 0:n.tag)||0,h=(null===n||void 0===n?void 0:n.id)||(0,Nk.getBigIntRpcId)().toString(),d=eI($S().protocol),f={id:h,method:(null===n||void 0===n?void 0:n.publishMethod)||d.publish,params:uC({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:null===n||void 0===n?void 0:n.attestation},null===n||void 0===n?void 0:n.tvf)},p="Failed to publish payload, please try again. id:".concat(h," tag:").concat(u);try{jI(null==(r=f.params)?void 0:r.prompt)&&(null==(i=f.params)||delete i.prompt),jI(null==(s=f.params)?void 0:s.tag)&&(null==(o=f.params)||delete o.tag);const a=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=f.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(Wk,t),e())};this.relayer.events.on(Wk,t);const r=Iv(new Promise((e,t)=>{this.rpcPublish(f,n).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(h," tag:").concat(u));try{await r,this.events.removeListener(Wk,t)}catch(Ak){this.queue.set(h,{request:f,opts:n,attempt:1}),this.logger.warn(Ak,null===Ak||void 0===Ak?void 0:Ak.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:e,message:t,opts:n}}),await Iv(a,this.publishTimeout,p)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),null!=(a=null===n||void 0===n?void 0:n.internal)&&a.throwOnFailedPublish)throw g}finally{this.queue.delete(h)}}),dC(this,"publishCustom",async e=>{var t,n,r,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:h,tag:d,ttl:f=Zp.FIVE_MINUTES}=a,p=a.id||(0,Nk.getBigIntRpcId)().toString(),g=eI($S().protocol),m=u||g.publish,y={id:p,method:m,params:uC(hC(uC({},o),{ttl:f,prompt:h,tag:d,attestation:c}),l)},w="Failed to publish custom payload, please try again. id:".concat(p," tag:").concat(d);try{jI(null==(t=y.params)?void 0:t.prompt)&&(null==(n=y.params)||delete n.prompt),jI(null==(r=y.params)?void 0:r.tag)&&(null==(i=y.params)||delete i.tag);const e=new Promise(async e=>{const t=n=>{let{id:r}=n;var i;(null==(i=y.id)?void 0:i.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(Wk,t),e())};this.relayer.events.on(Wk,t);const n=Iv(new Promise((e,t)=>{this.rpcPublish(y,a).then(e).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})}),this.initialPublishTimeout,"Failed initial custom payload publish, retrying.... method:".concat(m," id:").concat(p," tag:").concat(d));try{await n,this.events.removeListener(Wk,t)}catch(wT){this.queue.set(p,{request:y,opts:a,attempt:1}),this.logger.warn(wT,null===wT||void 0===wT?void 0:wT.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:o,opts:a}}),await Iv(e,this.publishTimeout,w)}catch(Ak){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Ak),null!=(s=null===a||void 0===a?void 0:a.internal)&&s.throwOnFailedPublish)throw Ak}finally{this.queue.delete(p)}}),dC(this,"on",(e,t)=>{this.events.on(e,t)}),dC(this,"once",(e,t)=>{this.events.once(e,t)}),dC(this,"off",(e,t)=>{this.events.off(e,t)}),dC(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,Gw.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,Gw.oI)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Wk,uC(uC({},e),t)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var n;const r=e.attempt+1;this.queue.set(t,hC(uC({},e),{attempt:r})),this.logger.warn({},"Publisher: queue->publishing: ".concat(e.request.id,", tag: ").concat(null==(n=e.request.params)?void 0:n.tag,", attempt: ").concat(r)),await this.rpcPublish(e.request,e.opts),this.logger.warn({},"Publisher: queue->published: ".concat(e.request.id))})}registerEventListeners(){this.relayer.core.heartbeat.on(sk.li.pulse,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Vk);this.checkQueue()}),this.relayer.on(Fk,e=>{this.removeRequestFromQueue(e.id.toString())})}}var pC=Object.defineProperty,gC=(e,t,n)=>((e,t,n)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class mC{constructor(){gC(this,"map",new Map),gC(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),gC(this,"get",e=>this.map.get(e)||[]),gC(this,"exists",(e,t)=>this.get(e).includes(t)),gC(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),gC(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var yC=Object.defineProperty,wC=Object.defineProperties,vC=Object.getOwnPropertyDescriptors,bC=Object.getOwnPropertySymbols,EC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,AC=(e,t,n)=>t in e?yC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SC=(e,t)=>{for(var n in t||(t={}))EC.call(t,n)&&AC(e,n,t[n]);if(bC)for(var n of bC(t))xC.call(t,n)&&AC(e,n,t[n]);return e},IC=(e,t)=>wC(e,vC(t)),kC=(e,t,n)=>AC(e,"symbol"!=typeof t?t+"":t,n);class PC extends wk{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,kC(this,"subscriptions",new Map),kC(this,"topicMap",new mC),kC(this,"events",new Qp.EventEmitter),kC(this,"name","subscription"),kC(this,"version","0.3"),kC(this,"pending",new Map),kC(this,"cached",[]),kC(this,"initialized",!1),kC(this,"storagePrefix",Tk),kC(this,"subscribeTimeout",(0,Zp.toMiliseconds)(Zp.ONE_MINUTE)),kC(this,"initialSubscribeTimeout",(0,Zp.toMiliseconds)(15*Zp.ONE_SECOND)),kC(this,"clientId"),kC(this,"batchSubscribeTopicsLimit",500),kC(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),kC(this,"subscribe",async(e,t)=>{var n;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=$S(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};null!=(n=null===t||void 0===t?void 0:t.internal)&&n.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,r,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}}),kC(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),kC(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),kC(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),kC(this,"on",(e,t)=>{this.events.on(e,t)}),kC(this,"once",(e,t)=>{this.events.once(e,t)}),kC(this,"off",(e,t)=>{this.events.off(e,t)}),kC(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),kC(this,"start",async()=>{await this.onConnect()}),kC(this,"stop",async()=>{await this.onDisconnect()}),kC(this,"restart",async()=>{await this.restore(),await this.onRestart()}),kC(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),kC(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(sk.li.pulse,async()=>{await this.checkPending()}),this.events.on(tP,async e=>{const t=tP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(nP,async e=>{const t=nP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,Gw.U5)(t,this.name),this.clientId=""}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch(r){}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=$S(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=TI("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(r){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(r),r}}async rpcSubscribe(e,t,n){var r,i;const s=await this.getSubscriptionId(e);if(null!=(r=null===n||void 0===n?void 0:n.internal)&&r.skipSubscribe)return s;(!n||(null===n||void 0===n?void 0:n.transportType)===Zk.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:eI(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=null===n||void 0===n?void 0:n.internal)?void 0:i.throwOnFailedPublish;try{if((null===n||void 0===n?void 0:n.transportType)===Zk.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,Zp.toMiliseconds)(Zp.ONE_SECOND)),s;const t=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(tP,n),t(r.id))};this.events.on(tP,n);try{const r=await Iv(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)}).then(e)}),this.initialSubscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));this.events.removeListener(tP,n),t(r)}catch(r){}}),r=await Iv(t,this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!r&&a)throw new Error("Subscribing to ".concat(e," failed, please try again"));return r?s:null}catch(uk){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Vk),a)throw uk}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:eI(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Iv(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(n){this.relayer.events.emit(Vk)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:eI(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await Iv(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(r){this.relayer.events.emit(Vk)}return n}rpcUnsubscribe(e,t,n){const r={method:eI(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,IC(SC({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,SC({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,SC({},t)),this.topicMap.set(t.topic,e),this.events.emit(tP,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=RI("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(nP,IC(SC({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(rP)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(iP)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){const{message:e}=RI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(kj){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(kj)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>IC(SC({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,Zp.toMiliseconds)(Zp.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return HS(e+await this.getClientId())}}var OC=Object.defineProperty,NC=Object.getOwnPropertySymbols,CC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable,TC=(e,t,n)=>t in e?OC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_C=(e,t)=>{for(var n in t||(t={}))CC.call(t,n)&&TC(e,n,t[n]);if(NC)for(var n of NC(t))RC.call(t,n)&&TC(e,n,t[n]);return e},BC=(e,t,n)=>TC(e,"symbol"!=typeof t?t+"":t,n);class jC extends mk{constructor(e){var t;super(e),BC(this,"protocol","wc"),BC(this,"version",2),BC(this,"core"),BC(this,"logger"),BC(this,"events",new Qp.EventEmitter),BC(this,"provider"),BC(this,"messages"),BC(this,"subscriber"),BC(this,"publisher"),BC(this,"name","relayer"),BC(this,"transportExplicitlyClosed",!1),BC(this,"initialized",!1),BC(this,"connectionAttemptInProgress",!1),BC(this,"relayUrl"),BC(this,"projectId"),BC(this,"packageName"),BC(this,"bundleId"),BC(this,"hasExperiencedNetworkDisruption",!1),BC(this,"pingTimeout"),BC(this,"heartBeatTimeout",(0,Zp.toMiliseconds)(Zp.THIRTY_SECONDS+Zp.FIVE_SECONDS)),BC(this,"reconnectTimeout"),BC(this,"connectPromise"),BC(this,"reconnectInProgress",!1),BC(this,"requestsInFlight",[]),BC(this,"connectTimeout",(0,Zp.toMiliseconds)(15*Zp.ONE_SECOND)),BC(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||(0,Nk.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i="".concat(r,":").concat((null==(n=e.params)?void 0:n.tag)||"");this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(ck){throw this.logger.debug("Failed to Publish Request: ".concat(r)),ck}}),BC(this,"resetPingTimeout",()=>{dv()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(ck){this.logger.warn(ck,null===ck||void 0===ck?void 0:ck.message)}},this.heartBeatTimeout))}),BC(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),BC(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(zk)}),BC(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()}),BC(this,"onProviderErrorHandler",e=>{this.logger.fatal("Fatal socket error: ".concat(e.message)),this.events.emit(qk,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),BC(this,"registerProviderListeners",()=>{this.provider.on(Kk,this.onPayloadHandler),this.provider.on(Gk,this.onConnectHandler),this.provider.on(Qk,this.onDisconnectHandler),this.provider.on(Jk,this.onProviderErrorHandler)}),this.core=e.core,this.logger=ik({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new nC(this.logger,e.core),this.subscriber=new PC(this,this.logger),this.publisher=new fC(this,this.logger),this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||Dk,fv()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?this.packageName=mv():fv()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(this.bundleId=mv()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,null===e||void 0===e?void 0:e.message))}get context(){return(0,Gw.oI)(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Zk.relay},$k)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===(null===t||void 0===t?void 0:t.transportType))&&await this.toEstablishConnection();const s=typeof(null==(n=null===t||void 0===t?void 0:t.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(tP,c),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(tP,c)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,_C({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Iv(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl))}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ZI())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug("Batch of ".concat(t.length," message events sorted"));for(const r of t)try{await this.onMessageEvent(r)}catch(n){this.logger.warn(n,"Error while processing batch message event: "+(null===n||void 0===n?void 0:n.message))}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:Ov(Zp.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(Mk,e),await this.recordMessageEvent(e,Xk)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(t,"...")),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(Qk,n),await Iv(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch(e=>{t(e)}).finally(()=>{this.provider.off(Qk,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Qk,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(Qk,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(Sk){await this.subscriber.stop();const t=Sk;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(t));break}await new Promise(e=>setTimeout(e,(0,Zp.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if(dv())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(s){this.logger.warn(s,null===s||void 0===s?void 0:s.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ok.F(new Ck.A(bv({sdkVersion:Yk,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn("Ignoring invalid/empty message: ".concat(n)),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn("Ignoring message for unknown topic ".concat(t)),!0;const r=this.messages.has(t,n);return r&&this.logger.warn("Ignoring duplicate message: ".concat(n)),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,Nk.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:Zk.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(_C({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,Nk.isJsonRpcResponse)(e)&&this.events.emit(Fk,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Xk),this.events.emit(Mk,e))}async acknowledgePayload(e){const t=(0,Nk.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Kk,this.onPayloadHandler),this.provider.off(Gk,this.onConnectHandler),this.provider.off(Qk,this.onDisconnectHandler),this.provider.off(Jk,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ZI();XI(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(sk.li.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!pv()||!(0,Xp.getDocument)()||"visible"===(null==(e=(0,Xp.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(Fx){this.logger.warn(Fx,null===Fx||void 0===Fx?void 0:Fx.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Hk),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Zp.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function UC(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function LC(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const DC="[object Arguments]",MC="[object Object]";function FC(){}function zC(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function HC(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return qC(e,t,s,o)}return qC(e,t,s,o)}function qC(e,t,n,r){if(Object.is(e,t))return!0;let i=LC(e),s=LC(t);if(i===DC&&(i=MC),s===DC&&(s=MC),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=null!==n&&void 0!==n?n:new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!HC(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex(i=>HC(a,i,void 0,e,t,n,r));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!HC(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&qC(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&qC(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case MC:{if(!(qC(e.constructor,t.constructor,n,r)||zC(e)&&zC(t)))return!1;const i=[...Object.keys(e),...UC(e)],s=[...Object.keys(t),...UC(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!HC(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function VC(e,t){return function(e,t,n){return HC(e,t,void 0,void 0,void 0,void 0,n)}(e,t,FC)}var WC=Object.defineProperty,KC=Object.getOwnPropertySymbols,GC=Object.prototype.hasOwnProperty,QC=Object.prototype.propertyIsEnumerable,JC=(e,t,n)=>t in e?WC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YC=(e,t)=>{for(var n in t||(t={}))GC.call(t,n)&&JC(e,n,t[n]);if(KC)for(var n of KC(t))QC.call(t,n)&&JC(e,n,t[n]);return e},ZC=(e,t,n)=>JC(e,"symbol"!=typeof t?t+"":t,n);class XC extends yk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tk,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,ZC(this,"map",new Map),ZC(this,"version","0.3"),ZC(this,"cached",[]),ZC(this,"initialized",!1),ZC(this,"getKey"),ZC(this,"storagePrefix",Tk),ZC(this,"recentlyDeleted",[]),ZC(this,"recentlyDeletedLimit",200),ZC(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!jI(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),ZC(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),ZC(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),ZC(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>VC(t[n],e[n]))):this.values)),ZC(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=YC(YC({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),ZC(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,Gw.U5)(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=RI("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=RI("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=RI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(kj){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(kj)}}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var $C=Object.defineProperty,eR=(e,t,n)=>((e,t,n)=>t in e?$C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class tR{constructor(e,t){this.core=e,this.logger=t,eR(this,"name","pairing"),eR(this,"version","0.3"),eR(this,"events",new Qp),eR(this,"pairings"),eR(this,"initialized",!1),eR(this,"storagePrefix",Tk),eR(this,"ignoredPayloadTypes",[1]),eR(this,"registeredMethods",[]),eR(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),eR(this,"register",e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]}),eR(this,"create",async e=>{this.isInitialized();const t=FS(),n=await this.core.crypto.setSymKey(t),r=Ov(Zp.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=dI({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(oP,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:null===e||void 0===e?void 0:e.transportType,internal:null===e||void 0===e?void 0:e.internal}),{topic:n,uri:o}}),eR(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[xP]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=uI(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(AP),t.addTrace(SP),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace(OP),a.active)throw t.setError(BP),new Error("Pairing already exists: ".concat(n,". Please try again with a new connection URI."));t.addTrace(NP)}const c=s||Ov(Zp.FIVE_MINUTES),l={topic:n,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(n,c),await this.pairings.set(n,l),t.addTrace(IP),e.activatePairing&&await this.activate({topic:n}),this.events.emit(oP,l),t.addTrace(CP),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(kP);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(TP)}try{await this.core.relayer.subscribe(n,{relay:i})}catch(fT){throw t.setError(jP),fT}return t.addTrace(PP),l}),eR(this,"activate",async e=>{let{topic:t}=e;this.isInitialized();const n=Ov(Zp.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})}),eR(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=Sv();this.events.once(Cv("pairing_ping",e),e=>{let{error:t}=e;t?i(t):r()}),await n()}}),eR(this,"updateExpiry",async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})}),eR(this,"updateMetadata",async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})}),eR(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),eR(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",TI("USER_DISCONNECTED")),await this.deletePairing(t))}),eR(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return dI({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),eR(this,"sendRequest",async(e,t,n)=>{const r=(0,Nk.formatJsonRpcRequest)(t,n),i=await this.core.crypto.encode(e,r),s=sP[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),eR(this,"sendResult",async(e,t,n)=>{const r=(0,Nk.formatJsonRpcResult)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=sP[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),eR(this,"sendError",async(e,t,n)=>{const r=(0,Nk.formatJsonRpcError)(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=sP[s]?sP[s].res:sP.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),eR(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,TI("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),eR(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>Nv(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),eR(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),eR(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),eR(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(lP,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),eR(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("pairing_ping",n),{}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("pairing_ping",n),{error:t.error})},500)}),eR(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(cP,{id:n,topic:e})}catch(r){await this.sendError(n,e,r),this.logger.error(r)}}),eR(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=TI("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(ck){await this.sendError(n,e,ck),this.logger.error(ck)}}),eR(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(TI("WC_METHOD_UNSUPPORTED",e))}),eR(this,"isValidPair",(e,t)=>{var n;if(!WI(e)){const{message:n}=RI("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(_P),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(UI(e,!1))return!!t(e)||t(Uv(e))}catch(n){}return!1}(e.uri)){const{message:n}=RI("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(_P),new Error(n)}const r=uI(null===e||void 0===e?void 0:e.uri);if(null==(n=null===r||void 0===r?void 0:r.relay)||!n.protocol){const{message:e}=RI("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(_P),new Error(e)}if(null==r||!r.symKey){const{message:e}=RI("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(_P),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,Zp.toMiliseconds)(null===r||void 0===r?void 0:r.expiryTimestamp)<Date.now()){t.setError(UP);const{message:e}=RI("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),eR(this,"isValidPing",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),eR(this,"isValidDisconnect",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),eR(this,"isValidPairingTopic",async e=>{if(!UI(e,!1)){const{message:t}=RI("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=RI("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(Nv(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=RI("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}),this.core=e,this.logger=(0,Gw.U5)(t,this.name),this.pairings=new XC(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,Gw.oI)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Mk,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==Zk.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);(0,Nk.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,Nk.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(zr){this.logger.error(zr)}})}registerExpirerEvents(){this.core.expirer.on(mP,async e=>{const{topic:t}=Pv(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(aP,{topic:t}))})}}var nR=Object.defineProperty,rR=(e,t,n)=>((e,t,n)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class iR extends fk{constructor(e,t){super(e,t),this.core=e,this.logger=t,rR(this,"records",new Map),rR(this,"events",new Qp.EventEmitter),rR(this,"name","history"),rR(this,"version","0.3"),rR(this,"cached",[]),rR(this,"initialized",!1),rR(this,"storagePrefix",Tk),rR(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),rR(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Ov(Zp.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(uP,r)}),rR(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,Nk.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(hP,t))}),rR(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),rR(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(dP,n)}}),this.persist()}),rR(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),rR(this,"on",(e,t)=>{this.events.on(e,t)}),rR(this,"once",(e,t)=>{this.events.once(e,t)}),rR(this,"off",(e,t)=>{this.events.off(e,t)}),rR(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Gw.U5)(t,this.name)}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:(0,Nk.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=RI("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(fP)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=RI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(kj){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(kj)}}registerEventListeners(){this.events.on(uP,e=>{const t=uP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(hP,e=>{const t=hP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(dP,e=>{const t=dP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(sk.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,Zp.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(dP,t,!1),e=!0)}),e&&this.persist()}catch(kj){this.logger.warn(kj)}}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sR=Object.defineProperty,oR=(e,t,n)=>((e,t,n)=>t in e?sR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class aR extends vk{constructor(e,t){super(e,t),this.core=e,this.logger=t,oR(this,"expirations",new Map),oR(this,"events",new Qp.EventEmitter),oR(this,"name","expirer"),oR(this,"version","0.3"),oR(this,"cached",[]),oR(this,"initialized",!1),oR(this,"storagePrefix",Tk),oR(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),oR(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}}),oR(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(pP,{target:n,expiration:r})}),oR(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),oR(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(gP,{target:t,expiration:n})}}),oR(this,"on",(e,t)=>{this.events.on(e,t)}),oR(this,"once",(e,t)=>{this.events.once(e,t)}),oR(this,"off",(e,t)=>{this.events.off(e,t)}),oR(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Gw.U5)(t,this.name)}get context(){return(0,Gw.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return kv("topic",e)}(e);if("number"==typeof e)return function(e){return kv("id",e)}(e);const{message:t}=RI("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(yP)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=RI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(kj){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(kj)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=RI("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,Zp.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(mP,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(sk.li.pulse,()=>this.checkExpirations()),this.events.on(pP,e=>{const t=pP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(mP,e=>{const t=mP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(gP,e=>{const t=gP;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cR=Object.defineProperty,lR=(e,t,n)=>((e,t,n)=>t in e?cR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class uR extends bk{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,lR(this,"name","verify-api"),lR(this,"abortController"),lR(this,"isDevEnv"),lR(this,"verifyUrlV3",bP),lR(this,"storagePrefix",Tk),lR(this,"version",2),lR(this,"publicKey"),lR(this,"fetchPromise"),lR(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Zp.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),lR(this,"register",async e=>{if(!pv()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(n,"&decryptedId=").concat(r);try{const e=(0,Xp.getDocument)(),t=this.startAbortTimer(5*Zp.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,qw.Cq)(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),r(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug(r,"jwt attestation"),r}catch(uk){this.logger.warn(uk)}return""}),lR(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,qw.Cq)(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(n,i)}),lR(this,"fetchAttestation",async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const n=this.startAbortTimer(5*Zp.ONE_SECOND),r=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),lR(this,"getVerifyUrl",e=>{let t=e||vP;return EP.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(vP)),t=vP),t}),lR(this,"fetchPublicKey",async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(Zp.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),lR(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),lR(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),lR(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(ck){this.logger.error(ck),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(ck){this.logger.error(ck),this.logger.warn("error validating attestation")}}),lR(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),lR(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),lR(this,"validateAttestation",(e,t)=>{const n=XS(e,t.publicKey),r={hasExpired:(0,Zp.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=(0,Gw.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=jv(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,Gw.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Zp.toMiliseconds)(e))}}var hR=Object.defineProperty,dR=(e,t,n)=>((e,t,n)=>t in e?hR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fR extends Ek{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,dR(this,"context","echo"),dR(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=(0,Gw.U5)(t,this.context)}}var pR=Object.defineProperty,gR=Object.getOwnPropertySymbols,mR=Object.prototype.hasOwnProperty,yR=Object.prototype.propertyIsEnumerable,wR=(e,t,n)=>t in e?pR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vR=(e,t)=>{for(var n in t||(t={}))mR.call(t,n)&&wR(e,n,t[n]);if(gR)for(var n of gR(t))yR.call(t,n)&&wR(e,n,t[n]);return e},bR=(e,t,n)=>wR(e,"symbol"!=typeof t?t+"":t,n);class ER extends xk{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,bR(this,"context","event-client"),bR(this,"storagePrefix",Tk),bR(this,"storageVersion",.1),bR(this,"events",new Map),bR(this,"shouldPersist",!1),bR(this,"init",async()=>{if(!jv())try{const e={eventId:Bv(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:vv(this.core.relayer.protocol,this.core.relayer.version,Yk)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),bR(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=Bv(),o=this.core.projectId||"",a=Date.now(),c=vR({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c}),bR(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?vR(vR({},r),this.setMethods(r.eventId)):void 0}),bR(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),bR(this,"setEventListeners",()=>{this.core.heartbeat.on(sk.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,Zp.fromMiliseconds)(Date.now())-(0,Zp.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),bR(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),bR(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),bR(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),bR(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),bR(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,vR(vR({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),bR(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(zr){this.logger.warn(zr)}}),bR(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(Yk).concat(t),{method:"POST",body:JSON.stringify(e)})}),bR(this,"getAppDomain",()=>wv().url),this.logger=(0,Gw.U5)(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var xR=Object.defineProperty,AR=Object.getOwnPropertySymbols,SR=Object.prototype.hasOwnProperty,IR=Object.prototype.propertyIsEnumerable,kR=(e,t,n)=>t in e?xR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PR=(e,t)=>{for(var n in t||(t={}))SR.call(t,n)&&kR(e,n,t[n]);if(AR)for(var n of AR(t))IR.call(t,n)&&kR(e,n,t[n]);return e},OR=(e,t,n)=>kR(e,"symbol"!=typeof t?t+"":t,n);class NR extends uk{constructor(e){var t;super(e),OR(this,"protocol","wc"),OR(this,"version",2),OR(this,"name",Rk),OR(this,"relayUrl"),OR(this,"projectId"),OR(this,"customStoragePrefix"),OR(this,"events",new Qp.EventEmitter),OR(this,"logger"),OR(this,"heartbeat"),OR(this,"relayer"),OR(this,"crypto"),OR(this,"storage"),OR(this,"history"),OR(this,"expirer"),OR(this,"pairing"),OR(this,"verify"),OR(this,"echoClient"),OR(this,"linkModeSupportedApps"),OR(this,"eventClient"),OR(this,"initialized",!1),OR(this,"logChunkController"),OR(this,"on",(e,t)=>this.events.on(e,t)),OR(this,"once",(e,t)=>this.events.once(e,t)),OR(this,"off",(e,t)=>this.events.off(e,t)),OR(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),OR(this,"dispatchEnvelope",e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:Zk.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})});const n=this.getGlobalCore(null===e||void 0===e?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(ck){console.warn("Failed to copy global core",ck)}this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||Dk,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=(0,Gw.iP)({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:_k,name:Rk}),{logger:i,chunkLoggerController:s}=(0,Gw.D5)({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,Gw.U5)(i,this.name),this.heartbeat=new sk.VH,this.crypto=new GN(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new iR(this,this.logger),this.expirer=new aR(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new ok.A(PR(PR({},Bk),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new jC({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tR(this,this.logger),this.verify=new uR(this,this.logger,this.storage),this.echoClient=new fR(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ER(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new NR(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return(0,Gw.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(eP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(eP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(kj){throw this.logger.warn(kj,"Core Initialization Failure at epoch ".concat(Date.now())),this.logger.error(kj.message),kj}}getGlobalCore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(this.isGlobalCoreDisabled())return;const t="_walletConnectCore_".concat(e),n="".concat(t,"_count");return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn("WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ".concat(globalThis[n]," times.")),globalThis[t]}catch(Fx){return void console.warn("Failed to get global WalletConnect core",Fx)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n="_walletConnectCore_".concat((null==(t=e.opts)?void 0:t.customStoragePrefix)||"");globalThis[n]=e}catch(Sk){console.warn("Failed to set global WalletConnect core",Sk)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",REACT_APP_RECEIVE_ADDRESS:"0x953b9dE9c17Fd91cED9A64f87716013DcBF40d82"}.DISABLE_GLOBAL_CORE}catch(e){return!0}}}const CR=NR,RR="client",TR="".concat("wc","@").concat(2,":").concat(RR,":"),_R=RR,BR="error",jR="WALLETCONNECT_DEEPLINK_CHOICE",UR="Proposal expired",LR=Zp.SEVEN_DAYS,DR={wc_sessionPropose:{req:{ttl:Zp.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Zp.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Zp.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Zp.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Zp.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Zp.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Zp.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Zp.FIVE_MINUTES,prompt:!1,tag:1119}}},MR={min:Zp.FIVE_MINUTES,max:Zp.SEVEN_DAYS},FR="IDLE",zR="ACTIVE",HR={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},qR=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],VR="".concat("wc","@",1.5,":").concat("auth",":"),WR="".concat(VR,":PUB_KEY");var KR=Object.defineProperty,GR=Object.defineProperties,QR=Object.getOwnPropertyDescriptors,JR=Object.getOwnPropertySymbols,YR=Object.prototype.hasOwnProperty,ZR=Object.prototype.propertyIsEnumerable,XR=(e,t,n)=>t in e?KR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$R=(e,t)=>{for(var n in t||(t={}))YR.call(t,n)&&XR(e,n,t[n]);if(JR)for(var n of JR(t))ZR.call(t,n)&&XR(e,n,t[n]);return e},eT=(e,t)=>GR(e,QR(t)),tT=(e,t,n)=>XR(e,"symbol"!=typeof t?t+"":t,n);class nT extends kk{constructor(e){var t;super(e),t=this,tT(this,"name","engine"),tT(this,"events",new Qp),tT(this,"initialized",!1),tT(this,"requestQueue",{state:FR,queue:[]}),tT(this,"sessionRequestQueue",{state:FR,queue:[]}),tT(this,"emittedSessionRequests",new Lv({limit:500})),tT(this,"requestQueueDelay",Zp.ONE_SECOND),tT(this,"expectedPairingMethodMap",new Map),tT(this,"recentlyDeletedMap",new Map),tT(this,"recentlyDeletedLimit",200),tT(this,"relayMessageCache",[]),tT(this,"pendingSessions",new Map),tT(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(DR)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Zp.toMiliseconds)(this.requestQueueDelay)))}),tT(this,"connect",async e=>{var t;this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=eT($R({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const c=PI(e),l=PI(t),u={},h=Object.keys(c).concat(Object.keys(l));for(const d of h)u[d]={chains:Rv(null==(n=c[d])?void 0:n.chains,null==(r=l[d])?void 0:r.chains),methods:Rv(null==(i=c[d])?void 0:i.methods,null==(s=l[d])?void 0:s.methods),events:Rv(null==(o=c[d])?void 0:o.events,null==(a=l[d])?void 0:a.events)};return u}(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c,authentication:l,walletPay:u}=n,h=(null==(t=null===l||void 0===l?void 0:l[0])?void 0:t.ttl)||DR.wc_sessionPropose.req.ttl||Zp.FIVE_MINUTES;this.validateRequestExpiry(h);let d,f=r,p=!1;try{if(f){const e=this.client.core.pairing.pairings.get(f);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=e.active}}catch(xk){throw this.client.logger.error("connect() -> pairing.get(".concat(f,") failed")),xk}if(!f||!p){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});f=e,d=t}if(!f){const{message:e}=RI("NO_MATCHING_KEY","connect() pairing topic: ".concat(f));throw new Error(e)}const g=await this.client.core.crypto.generateKeyPair(),m=Ov(h),y=$R(eT($R($R({requiredNamespaces:i,optionalNamespaces:s,relays:null!==c&&void 0!==c?c:[{protocol:"irn"}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:f},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:(0,Nk.payloadId)()}),(l||u)&&{requests:{authentication:null===l||void 0===l?void 0:l.map(e=>{const{domain:t,chains:n,nonce:r,uri:i,exp:s,nbf:o,type:a,statement:c,requestId:l,resources:u,signatureTypes:h}=e;return{domain:t,chains:n,nonce:r,type:null!==a&&void 0!==a?a:"caip122",aud:i,version:"1",iat:(new Date).toISOString(),exp:s,nbf:o,statement:c,requestId:l,resources:u,signatureTypes:h}}),walletPay:u}}),w=Cv("session_connect",y.id),{reject:v,resolve:b,done:E}=Sv(h,UR),x=e=>{let{id:t}=e;t===y.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:UR,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(w,e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",x),t?v(t):n&&b(n)}),await this.setProposal(y.id,y),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}).catch(e=>{throw this.deleteProposal(y.id),e}),{uri:d,approval:E}}),tT(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(Fx){throw this.client.logger.error("pair() failed"),Fx}}),tT(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null===e||void 0===e?void 0:e.id)?void 0:t.toString(),trace:[DP]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw i.setError(GP),S}try{await this.isValidProposalId(null===e||void 0===e?void 0:e.id)}catch(S){throw this.client.logger.error("approve() -> proposal.get(".concat(null===e||void 0===e?void 0:e.id,") failed")),i.setError(ZP),S}try{await this.isValidApprove(e)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(YP),S}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:u,proposalRequestsResponses:h}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:f,proposer:p,requiredNamespaces:g,optionalNamespaces:m}=d;let y=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:f});y||(y=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:DP,properties:{topic:f,trace:[DP,MP]}}));const w=await this.client.core.crypto.generateKeyPair(),v=p.publicKey,b=await this.client.core.crypto.generateSharedKey(w,v),E=eT($R($R($R({relay:{protocol:null!==o&&void 0!==o?o:"irn"},namespaces:a,controller:{publicKey:w,metadata:this.client.metadata},expiry:Ov(LR)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),{proposalRequestsResponses:h}),x=Zk.relay;y.addTrace(FP);try{await this.client.core.relayer.subscribe(b,{transportType:x,internal:{skipSubscribe:!0}})}catch(S){throw y.setError(JP),S}y.addTrace(zP);const A=eT($R({},E),{topic:b,requiredNamespaces:g,optionalNamespaces:m,pairingTopic:f,acknowledged:!1,self:E.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:w,transportType:Zk.relay,authentication:null===h||void 0===h?void 0:h.authentication,walletPayResult:null===h||void 0===h?void 0:h.walletPay});await this.client.session.set(b,A),y.addTrace(qP);try{await this.sendApproveSession({sessionTopic:b,proposal:d,pairingProposalResponse:{relay:{protocol:null!==o&&void 0!==o?o:"irn"},responderPublicKey:w},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:$R({correlationId:s},this.getTVFApproveParams(A))}}),y.addTrace(HP)}catch(S){throw this.client.logger.error(S),this.client.session.delete(b,TI("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),S}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:p.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(b,Ov(LR)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),tT(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error("reject() -> proposal.get(".concat(t,") failed")),i}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:DR.wc_sessionPropose.reject}),await this.deleteProposal(t)}),tT(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(hk){throw this.client.logger.error("update() -> isValidUpdate() failed"),hk}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=Sv(Zp.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),o=(0,Nk.payloadId)(),a=(0,Nk.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(Cv("session_update",o),e=>{let{error:t}=e;t?s(t):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:r}}),tT(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(ck){throw this.client.logger.error("extend() -> isValidExtend() failed"),ck}const{topic:t}=e,n=(0,Nk.payloadId)(),{done:r,resolve:i,reject:s}=Sv(Zp.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(Cv("session_extend",n),e=>{let{error:t}=e;t?s(t):i()}),await this.setExpiry(t,Ov(LR)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),tT(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:t,request:n,topic:r,expiry:i=DR.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);(null===s||void 0===s?void 0:s.transportType)===Zk.relay&&await this.confirmOnlineStateOrThrow();const o=(0,Nk.payloadId)(),a=(0,Nk.getBigIntRpcId)().toString(),{done:c,resolve:l,reject:u}=Sv(i,"Request expired. Please try again.");this.events.once(Cv("session_request",o),e=>{let{error:t,result:n}=e;t?u(t):l(n)});const h="wc_sessionRequest",d=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(d)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:{request:eT($R({},n),{expiryTimestamp:Ov(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:d}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await c();const f={request:eT($R({},n),{expiryTimestamp:Ov(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(pv()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,jR);await Tv({id:o,topic:r,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),tT(this,"respond",async e=>{var t,n;this.isInitialized();const r=this.client.core.eventClient.createEvent({properties:{topic:(null===e||void 0===e?void 0:e.topic)||(null==(n=null==(t=null===e||void 0===e?void 0:e.response)?void 0:t.id)?void 0:n.toString()),trace:[VP]}});try{await this.isValidRespond(e)}catch(hk){throw r.addTrace(null===hk||void 0===hk?void 0:hk.message),r.setError(XP),hk}r.addTrace(WP);const{topic:i,response:s}=e,{id:o}=s,a=this.client.session.get(i);a.transportType===Zk.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);try{r.addTrace(KP),(0,Nk.isJsonRpcResult)(s)?await this.sendResult({id:o,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:c}):(0,Nk.isJsonRpcError)(s)&&await this.sendError({id:o,topic:i,error:s.error,appLink:c}),this.cleanupAfterResponse(e)}catch(hk){throw r.addTrace(null===hk||void 0===hk?void 0:hk.message),r.setError($P),hk}}),tT(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,Nk.payloadId)(),n=(0,Nk.getBigIntRpcId)().toString(),{done:r,resolve:i,reject:s}=Sv(Zp.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(Cv("session_ping",e),e=>{let{error:t}=e;t?s(t):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),tT(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=(0,Nk.getBigIntRpcId)().toString(),s=(0,Nk.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),tT(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:TI("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=RI("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),tT(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!Ev(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=AI(r),c=n[t];(!Ev(Zw(t,c),a)||!Ev(c.methods,i)||!Ev(c.events,o))&&(s=!1)}),s)}(t,e)))),tT(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),tT(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?Zk.link_mode:Zk.relay;i===Zk.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:h,nbf:d,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const w=await this.client.core.crypto.generateKeyPair(),v=zS(w);if(await Promise.all([this.client.auth.authKeys.set(WR,{responseTopic:v,publicKey:w}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:m})]),await this.client.core.relayer.subscribe(v,{transportType:i}),this.client.logger.info("sending request to new pairing topic: ".concat(m)),f.length>0){const{namespace:e}=Jw(s[0]);let t=nx(e,"request",f);cx(g)&&(t=ix(t,g.pop())),g.push(t)}const b=p&&p>DR.wc_sessionAuthenticate.req.ttl?p:DR.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:null!==u&&void 0!==u?u:"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:h,nbf:d,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ov(b)},x={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:Ov(DR.wc_sessionPropose.req.ttl),id:(0,Nk.payloadId)()},{done:A,resolve:S,reject:I}=Sv(b,"Request expired"),k=(0,Nk.payloadId)(),P=Cv("session_connect",x.id),O=Cv("session_request",k),N=async e=>{let{error:t,session:n}=e;this.events.off(O,C),t?I(t):n&&S({session:n})},C=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(k,{message:"fulfilled",code:0}),e.error){const t=TI("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(P,N),I(e.error.message))}await this.deleteProposal(x.id),this.events.off(P,N);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await YE({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),I(TI("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=cx(e.resources),r=[QE(e.iss)],i=JE(e.iss);if(n){const e=ox(n),t=ax(n);c.push(...e),r.push(...t)}for(const t of r)l.push("".concat(t,":").concat(i))}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let h;c.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:Ov(LR),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:OI([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,h),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),h=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:Zk.link_mode})),S({auths:o,session:h})};let R;this.events.once(P,N),this.events.once(O,C);try{if(r){const e=(0,Nk.formatJsonRpcRequest)("wc_sessionAuthenticate",E,k);this.client.core.history.set(m,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:DS});R=fI(t,m,n)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:k}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:x,expiry:DR.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(T){throw this.events.off(P,N),this.events.off(O,C),T}return await this.setProposal(x.id,x),await this.setAuthRequest(k,{request:eT($R({},E),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:null!==R&&void 0!==R?R:y,response:A}}),tT(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[eO]}});try{this.isInitialized()}catch(p){throw r.setError(aO),p}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(hO),new Error("Could not find pending auth request with id ".concat(t));const s=i.transportType||Zk.relay;s===Zk.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=zS(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const g of n){if(!await YE({cacao:g,projectId:this.client.core.projectId})){r.setError(cO);const e=TI("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}r.addTrace(nO);const{p:e}=g,n=cx(e.resources),i=[QE(e.iss)],s=JE(e.iss);if(n){const e=ox(n),t=ax(n);u.push(...e),i.push(...t)}for(const t of i)h.push("".concat(t,":").concat(s))}const d=await this.client.core.crypto.generateSharedKey(a,o);let f;if(r.addTrace(tO),(null===u||void 0===u?void 0:u.length)>0){f={topic:d,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:Ov(LR),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:OI([...new Set(u)],[...new Set(h)]),transportType:s},r.addTrace(iO);try{await this.client.core.relayer.subscribe(d,{transportType:s})}catch(p){throw r.setError(lO),p}r.addTrace(sO),await this.client.session.set(d,f),r.addTrace(rO),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(oO);try{await this.sendResult({topic:c,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(p){throw r.setError(uO),p}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:f}}),tT(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error("Could not find pending auth request with id ".concat(t));r.transportType===Zk.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=zS(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:DR.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),tT(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return ZE(t,n)}),tT(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(kj){this.client.logger.error(kj)}},50)}),tT(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info("Cleaning up ".concat(n.length," duplicate pairing(s)")),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(Fx){this.client.logger.error(Fx)}}),tT(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,TI("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(jR).catch(e=>this.client.logger.warn(e)),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=FR),await Promise.all(this.getPendingSessionRequests().filter(e=>e.topic===n).map(e=>this.deletePendingSessionRequest(e.id,TI("USER_DISCONNECTED")))),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),tT(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null===n||void 0===n||n.setError(QP)}catch(n){}await Promise.all([this.client.proposal.delete(e,TI("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),tT(this,"deletePendingSessionRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(t.sessionRequestQueue.state=FR,t.client.events.emit("session_request_expire",{id:e}))}),tT(this,"deletePendingAuthRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])}),tT(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),tT(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Ov(DR.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),tT(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=Zk.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),tT(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||Ov(DR.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),tT(this,"sendRequest",async e=>{const{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c,appLink:l,tvf:u,publishOpts:h={}}=e,d=(0,Nk.formatJsonRpcRequest)(r,i,a);let f;const p=!!l;try{const e=p?DS:LS;f=await this.client.core.crypto.encode(t,d,{encoding:e})}catch(dk){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(t," failed")),dk}let g;if(qR.includes(r)){const e=HS(JSON.stringify(d)),t=HS(f);g=await this.client.core.verify.register({id:t,decryptedId:e})}const m=$R($R({},DR[r].req),h);if(m.attestation=g,s&&(m.ttl=s),o&&(m.id=o),this.client.core.history.set(t,d),p){const e=fI(l,t,f);await n.g.Linking.openURL(e,this.client.name)}else m.tvf=eT($R({},u),{correlationId:d.id}),c?(m.internal=eT($R({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,f,m)):this.client.core.relayer.publish(t,f,m).catch(e=>this.client.logger.error(e));return d.id}),tT(this,"sendProposeSession",async e=>{const{proposal:t,publishOpts:n}=e,r=(0,Nk.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,r);const i=await this.client.core.crypto.encode(t.pairingTopic,r,{encoding:LS}),s=HS(JSON.stringify(r)),o=HS(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:eT($R({},n),{publishMethod:"wc_proposeSession",attestation:a})})}),tT(this,"sendApproveSession",async e=>{const{sessionTopic:t,pairingProposalResponse:n,proposal:r,sessionSettleRequest:i,publishOpts:s}=e,o=(0,Nk.formatJsonRpcResult)(r.id,n),a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:LS}),c=(0,Nk.formatJsonRpcRequest)("wc_sessionSettle",i,null===s||void 0===s?void 0:s.id),l=await this.client.core.crypto.encode(t,c,{encoding:LS});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:r.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:eT($R({},s),{publishMethod:"wc_approveSession"})})}),tT(this,"sendResult",async e=>{const{id:t,topic:r,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,c=(0,Nk.formatJsonRpcResult)(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?DS:LS;l=await this.client.core.crypto.encode(r,c,eT($R({},o||{}),{encoding:e}))}catch(f){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(r," failed")),f}let h,d;try{h=await this.client.core.history.get(r,t);const e=h.request;try{d=this.getTVFParams(t,e.params,i)}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed: ".concat(null===p||void 0===p?void 0:p.message))}}catch(f){throw this.client.logger.error("sendResult() -> history.get(".concat(r,", ").concat(t,") failed")),f}if(u){const e=fI(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,n=DR[e].res;n.tvf=eT($R({},d),{correlationId:t}),s?(n.internal=eT($R({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,l,n)):this.client.core.relayer.publish(r,l,n).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(c)}),tT(this,"sendError",async e=>{const{id:t,topic:r,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=e,c=(0,Nk.formatJsonRpcError)(t,i);let l;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?DS:LS;l=await this.client.core.crypto.encode(r,c,eT($R({},s||{}),{encoding:e}))}catch(mk){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(r," failed")),mk}let h;try{h=await this.client.core.history.get(r,t)}catch(mk){throw this.client.logger.error("sendError() -> history.get(".concat(r,", ").concat(t,") failed")),mk}if(u){const e=fI(a,r,l);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,t=o||DR[e].res;this.client.core.relayer.publish(r,l,t)}await this.client.core.history.resolve(c)}),tT(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;Nv(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{Nv(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),tT(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),tT(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),tT(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==zR){for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=zR;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(Fx){this.client.logger.warn(Fx)}}this.requestQueue.state=FR}else this.client.logger.info("Request queue already active, skipping...")}),tT(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info("Unsupported request method ".concat(o))}}),tT(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info("Unsupported response method ".concat(i))}}),tT(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=RI("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw new Error(n)}),tT(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),tT(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==e&&void 0!==e&&e.setError(LP)),this.isValidConnect($R({},n.params));const a=s.expiryTimestamp||Ov(DR.wc_sessionPropose.req.ttl),c=$R({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:r,hash:HS(JSON.stringify(n)),encryptedId:i,metadata:c.proposer.metadata});null!==e&&void 0!==e&&e.addTrace(RP),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(a){await this.sendError({id:o,topic:t,error:a,rpcOpts:DR.wc_sessionPropose.autoReject}),this.client.logger.error(a)}}),tT(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if((0,Nk.isJsonRpcResult)(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:c,pairingTopic:e,proposalId:r,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,Nk.isJsonRpcError)(t)){await this.deleteProposal(r);const e=Cv("session_connect",r);if(0===this.events.listenerCount(e))throw new Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(e,{error:t.error})}}),tT(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l,proposalRequestsResponses:u}=t.params,h=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!h)return this.client.logger.error("Pending session not found for topic ".concat(e));const d=this.client.proposal.get(h.proposalId),f=eT($R($R($R({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:i.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:Zk.relay,authentication:null===u||void 0===u?void 0:u.authentication,walletPayResult:null===u||void 0===u?void 0:u.walletPay});await this.client.session.set(f.topic,f),await this.setExpiry(f.topic,f.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:f.peer.metadata}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(f),await this.sendResult({id:t.id,topic:e,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:f}),this.events.emit(Cv("session_connect",h.proposalId),{session:f})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),tT(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;(0,Nk.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(Cv("session_approve",n),{})):(0,Nk.isJsonRpcError)(t)&&(await this.client.session.delete(e,TI("USER_DISCONNECTED")),this.events.emit(Cv("session_approve",n),{error:t.error}))}),tT(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t="".concat(e,"_session_update"),i=ek.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn("Discarding out of sync request - ".concat(r)),void this.sendError({id:r,topic:e,error:TI("INVALID_UPDATE_REQUEST")});this.isValidUpdate($R({topic:e},n));try{ek.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(ck){throw ek.delete(t),ck}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(i){await this.sendError({id:r,topic:e,error:i}),this.client.logger.error(i)}}),tT(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),tT(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=Cv("session_update",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("session_update",n),{}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("session_update",n),{error:t.error})}),tT(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Ov(LR)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(Sk){await this.sendError({id:n,topic:e,error:Sk}),this.client.logger.error(Sk)}}),tT(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=Cv("session_extend",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("session_extend",n),{}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("session_extend",n),{error:t.error})}),tT(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(Sk){await this.sendError({id:n,topic:e,error:Sk}),this.client.logger.error(Sk)}}),tT(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=Cv("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners 2176"));(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("session_ping",n),{}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("session_ping",n),{error:t.error})},500)}),tT(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{await this.isValidDisconnect({topic:e,reason:t.params}),this.cleanupPendingSentRequestsForTopic({topic:e,error:TI("USER_DISCONNECTED")}),await this.deleteSession({topic:e,id:n})}catch(Sk){this.client.logger.error(Sk)}}),tT(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest($R({topic:i},u));const e=this.client.session.get(i),s={id:l,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:HS(JSON.stringify((0,Nk.formatJsonRpcRequest)("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===Zk.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(mk){await this.sendError({id:l,topic:i,error:mk}),this.client.logger.error(mk)}}),tT(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=Cv("session_request",n);if(0===this.events.listenerCount(r))throw new Error("emitting ".concat(r," without any listeners"));(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("session_request",n),{result:t.result}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("session_request",n),{error:t.error})}),tT(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t="".concat(e,"_session_event_").concat(r.event.name),i=ek.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info("Discarding out of sync request - ".concat(n));this.isValidEmit($R({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),ek.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),tT(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,Nk.isJsonRpcResult)(t)?this.events.emit(Cv("session_request",n),{result:t.result}):(0,Nk.isJsonRpcError)(t)&&this.events.emit(Cv("session_request",n),{error:t.error})}),tT(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=r.params,l=await this.getVerifyContext({attestationId:i,hash:HS(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===Zk.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:l})}catch(a){this.client.logger.error(a);const e=r.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(r.params.requester.metadata,o),s={type:1,receiverPublicKey:e,senderPublicKey:t};await this.sendError({id:r.id,topic:n,error:a,encodeOpts:s,rpcOpts:DR.wc_sessionAuthenticate.autoReject,appLink:i})}}),tT(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),tT(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=FR,this.processSessionRequestQueue()},(0,Zp.toMiliseconds)(this.requestQueueDelay))}),tT(this,"cleanupPendingSentRequestsForTopic",e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter(e=>e.topic===t&&"wc_sessionRequest"===e.request.method).forEach(e=>{this.events.emit(Cv("session_request",e.request.id),{error:n})})}),tT(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===zR)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(Fx){this.client.logger.error(Fx)}else this.client.logger.info("session request queue is empty.")}),tT(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},"Skipping emitting `session_request` event for duplicate request. id: ".concat(e.id)):(this.sessionRequestQueue.state=zR,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),tT(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,Nk.formatJsonRpcRequest)("wc_sessionPropose",eT($R({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),tT(this,"isValidConnect",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(jI(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&_I(e)&&e.length&&e.forEach(e=>{n=VI(e)}),n}(o,!0)){const{message:e}=RI("MISSING_OR_INVALID","connect() relays: ".concat(o));throw new Error(e)}if(n&&!jI(n)&&0!==BI(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(r&&!jI(r)&&0!==BI(r)&&this.validateNamespaces(r,"optionalNamespaces"),i&&!jI(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!jI(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(s),", required/optional namespaces: ").concat(JSON.stringify(e)))}}),tT(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&BI(e)){const i=HI(e,t);i&&(r=i);const s=FI(e,t,n);s&&(r=s)}else r=RI("MISSING_OR_INVALID","".concat(t,", ").concat(n," should be an object with data"));return r}(e,"connect()",t);if(n)throw new Error(n.message)}),tT(this,"isValidApprove",async e=>{if(!WI(e))throw new Error(RI("MISSING_OR_INVALID","approve() params: ".concat(e)).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=qI(n,"approve()");if(a)throw new Error(a.message);const c=JI(o.requiredNamespaces,n,"approve()");if(c)throw new Error(c.message);if(!UI(r,!0)){const{message:e}=RI("MISSING_OR_INVALID","approve() relayProtocol: ".concat(r));throw new Error(e)}if(i&&!jI(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!jI(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(s),", approved namespaces: ").concat(Array.from(e).join(", ")))}}),tT(this,"isValidReject",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","reject() params: ".concat(e));throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!LI(e.code,!1)||!e.message||!UI(e.message,!1))}(n)){const{message:e}=RI("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(n)));throw new Error(e)}}),tT(this,"isValidSessionSettleRequest",e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!VI(t)){const{message:e}=RI("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return UI(null===e||void 0===e?void 0:e.publicKey,!1)||(n=RI("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=qI(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Nv(i)){const{message:e}=RI("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),tT(this,"isValidUpdate",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","update() params: ".concat(e));throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=qI(n,"update()");if(i)throw new Error(i.message);const s=JI(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),tT(this,"isValidExtend",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","extend() params: ".concat(e));throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),tT(this,"isValidRequest",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","request() params: ".concat(e));throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!KI(s,r)){const{message:e}=RI("MISSING_OR_INVALID","request() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(jI(e)||!UI(e.method,!1))}(n)){const{message:e}=RI("MISSING_OR_INVALID","request() ".concat(JSON.stringify(n)));throw new Error(e)}if(!GI(s,r,n.method)){const{message:e}=RI("MISSING_OR_INVALID","request() method: ".concat(n.method));throw new Error(e)}this.validateRequestExpiry(i)}),tT(this,"isValidRespond",async e=>{var t;if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","respond() params: ".concat(e));throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(zr){throw null!=(t=null===e||void 0===e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),zr}if(!function(e){return!(jI(e)||jI(e.result)&&jI(e.error)||!LI(e.id,!1)||!UI(e.jsonrpc,!1))}(r)){const{message:e}=RI("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(r)));throw new Error(e)}const i=this.client.pendingRequest.get(r.id);if(i.topic!==n){const{message:e}=RI("MISMATCHED_TOPIC","Request response topic mismatch. reqId: ".concat(r.id,", expected topic: ").concat(i.topic,", received topic: ").concat(n));throw new Error(e)}}),tT(this,"isValidPing",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),tT(this,"isValidEmit",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","emit() params: ".concat(e));throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!KI(i,r)){const{message:e}=RI("MISSING_OR_INVALID","emit() chainId: ".concat(r));throw new Error(e)}if(!function(e){return!(jI(e)||!UI(e.name,!1))}(n)){const{message:e}=RI("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}if(!QI(i,r,n.name)){const{message:e}=RI("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw new Error(e)}}),tT(this,"isValidDisconnect",async e=>{if(!WI(e)){const{message:t}=RI("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),tT(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!UI(n,!1))throw new Error("uri is required parameter");if(!UI(r,!1))throw new Error("domain is required parameter");if(!UI(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>Jw(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Jw(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),tT(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||vP,validation:"UNKNOWN",origin:i.url||""}};try{if(s===Zk.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.warn(a)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(o))),o}),tT(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=RI("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(n," for key ").concat(Object.keys(e)[r]));throw new Error(i)}})}),tT(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),tT(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),tT(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=RI("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw new Error(n)}}),tT(this,"isLinkModeEnabled",(e,t)=>{var r,i,s,o,a,c,l,u,h;return!(!e||t!==Zk.link_mode)&&(!0===(null==(i=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)&&void 0!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&""!==(null==(u=null===e||void 0===e?void 0:e.redirect)?void 0:u.universal)&&!0===(null==(h=null===e||void 0===e?void 0:e.redirect)?void 0:h.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")}),tT(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=null===e||void 0===e?void 0:e.redirect)?void 0:n.universal:void 0}),tT(this,"handleLinkModeMessage",e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=_v(t,"topic")||"",r=decodeURIComponent(_v(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:Zk.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})}),tT(this,"registerLinkModeListeners",async()=>{var e;if(jv()||fv()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==n.g?void 0:n.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),tT(this,"getTVFApproveParams",e=>{try{const t=SI(e.namespaces),n=function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...e.methods)}),[...new Set(t)]}(e.namespaces),r=function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...e.events)}),[...new Set(t)]}(e.namespaces),i=e.sessionProperties;return{approvedChains:t,approvedMethods:n,approvedEvents:r,sessionProperties:i,scopedProperties:e.scopedProperties}}catch(Fx){return this.client.logger.warn(Fx,"Error getting TVF approve params"),{}}}),tT(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(a){this.client.logger.warn(a,"Error getting TVF params")}return o}),tT(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=(null===e||void 0===e?void 0:e.data)||(null==(t=null===e||void 0===e?void 0:e[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch(n){}return!1}),tT(this,"extractTxHashesFromResult",(t,n)=>{var r;try{if(!n)return[];const i=t.method,s=HR[i];if("sui_signTransaction"===i)return[RE(n.transactionBytes)];if("near_signTransaction"===i)return[TE(n)];if("near_signTransactions"===i)return n.map(e=>TE(e));if("xrpl_signTransactionFor"===i||"xrpl_signTransaction"===i)return[null==(r=n.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===i)return[rk({transaction:t.params.transactionPayload,signature:n.signature})];if("algo_signTxn"===i)return _I(n)?n.map(e=>_E(e)):[_E(n)];if("cosmos_signDirect"===i)return[jE(n)];if("wallet_sendCalls"===i)return function(t){var n,r;const i=[];try{if("string"==typeof t)return i.push(t),i;if("object"!=typeof t)return i;null!=t&&t.id&&i.push(t.id);const e=null==(r=null==(n=null===t||void 0===t?void 0:t.capabilities)?void 0:n.caip345)?void 0:r.transactionHashes;e&&i.push(...e)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return i}(n);if("string"==typeof n)return[n];const o=n[s.key];if(_I(o))return"solana_signAllTransactions"===i?o.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return Mw.A.encode(s)}(e)):o;if("string"==typeof o)return[o]}catch(Sk){this.client.logger.warn(Sk,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,i]of Object.entries(n))for(const t of i)try{await this.onProviderMessageEvent({topic:r,message:t,publishedAt:Date.now()})}catch(e){this.client.logger.warn("Error processing pending message event for topic: ".concat(r,", message: ").concat(t))}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=RI("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Mk,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(WR)?this.client.auth.authKeys.get(WR):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===Zk.link_mode?DS:LS});(0,Nk.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:HS(n)})):(0,Nk.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):(this.client.logger.error("onRelayMessage() -> unknown payload: ".concat(JSON.stringify(e))),await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i})),await this.client.core.relayer.messages.ack(t,n)}catch(zr){this.client.logger.error("onRelayMessage() -> failed to process an inbound message: ".concat(n)),this.client.logger.error(zr)}}registerExpirerEvents(){this.client.core.expirer.on(mP,async e=>{const{topic:t,id:n}=Pv(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,RI("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,RI("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(oP,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(cP,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!UI(e,!1)){const{message:t}=RI("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=RI("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(Nv(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=RI("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}async isValidSessionTopic(e){if(!UI(e,!1)){const{message:t}=RI("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=RI("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw new Error(t)}if(Nv(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=RI("EXPIRED","session topic: ".concat(e));throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=RI("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(UI(e,!1)){const{message:t}=RI("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw new Error(t)}{const{message:t}=RI("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=RI("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=RI("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw new Error(t)}if(Nv(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=RI("EXPIRED","proposal id: ".concat(e));throw new Error(t)}}validateRequestExpiry(e){if(e&&!function(e,t){return LI(e,!1)&&e<=t.max&&e>=t.min}(e,MR)){const{message:t}=RI("MISSING_OR_INVALID","request() expiry: ".concat(e,". Expiry must be a number (in seconds) between ").concat(MR.min," and ").concat(MR.max));throw new Error(t)}}}class rT extends XC{constructor(e,t){super(e,t,"proposal",TR),this.core=e,this.logger=t}}class iT extends XC{constructor(e,t){super(e,t,"session",TR),this.core=e,this.logger=t}}class sT extends XC{constructor(e,t){super(e,t,"request",TR,e=>e.id),this.core=e,this.logger=t}}class oT extends XC{constructor(e,t){super(e,t,"authKeys",VR,()=>WR),this.core=e,this.logger=t}}class aT extends XC{constructor(e,t){super(e,t,"pairingTopics",VR),this.core=e,this.logger=t}}class cT extends XC{constructor(e,t){super(e,t,"requests",VR,e=>e.id),this.core=e,this.logger=t}}var lT=Object.defineProperty,uT=(e,t,n)=>((e,t,n)=>t in e?lT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class hT{constructor(e,t){this.core=e,this.logger=t,uT(this,"authKeys"),uT(this,"pairingTopics"),uT(this,"requests"),this.authKeys=new oT(this.core,this.logger),this.pairingTopics=new aT(this.core,this.logger),this.requests=new cT(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var dT=Object.defineProperty,fT=(e,t,n)=>((e,t,n)=>t in e?dT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class pT extends Ik{constructor(e){super(e),fT(this,"protocol","wc"),fT(this,"version",2),fT(this,"name",_R),fT(this,"metadata"),fT(this,"core"),fT(this,"logger"),fT(this,"events",new Qp.EventEmitter),fT(this,"engine"),fT(this,"session"),fT(this,"proposal"),fT(this,"pendingRequest"),fT(this,"auth"),fT(this,"signConfig"),fT(this,"on",(e,t)=>this.events.on(e,t)),fT(this,"once",(e,t)=>this.events.once(e,t)),fT(this,"off",(e,t)=>this.events.off(e,t)),fT(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),fT(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),fT(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"update",async e=>{try{return await this.engine.update(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"request",async e=>{try{return await this.engine.request(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"find",e=>{try{return this.engine.find(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(Fx){throw this.logger.error(Fx.message),Fx}}),fT(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(Sk){throw this.logger.error(Sk.message),Sk}}),fT(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}}),fT(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}}),this.name=(null===e||void 0===e?void 0:e.name)||_R,this.metadata=yv(null===e||void 0===e?void 0:e.metadata),this.signConfig=null===e||void 0===e?void 0:e.signConfig;const t=ik({logger:(null===e||void 0===e?void 0:e.logger)||BR,name:this.name});this.logger=t,this.core=(null===e||void 0===e?void 0:e.core)||new CR(e),this.session=new iT(this.core,this.logger),this.proposal=new rT(this.core,this.logger),this.pendingRequest=new sT(this.core,this.logger),this.engine=new nT(this),this.auth=new hT(this.core,this.logger)}static async init(e){const t=new pT(e);return await t.initialize(),t}get context(){return(0,Gw.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const gT=pT;var mT=n(6526);function yT(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function wT(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function vT(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const bT="[object RegExp]",ET="[object String]",xT="[object Number]",AT="[object Boolean]",ST="[object Arguments]",IT="[object Symbol]",kT="[object Date]",PT="[object Map]",OT="[object Set]",NT="[object Array]",CT="[object ArrayBuffer]",RT="[object Object]",TT="[object DataView]",_T="[object Uint8Array]",BT="[object Uint8ClampedArray]",jT="[object Uint16Array]",UT="[object Uint32Array]",LT="[object Int8Array]",DT="[object Int16Array]",MT="[object Int32Array]",FT="[object Float32Array]",zT="[object Float64Array]";function HT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const s=null===i||void 0===i?void 0:i(e,t,n,r);if(null!=s)return s;if(yT(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=qT(e[s],s,n,r,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[s,o]of e)t.set(s,qT(o,s,n,r,i));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const s of e)t.add(qT(s,void 0,n,r,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(HT(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let s=0;s<e.length;s++)t[s]=qT(e[s],s,n,r,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),VT(t,e,n,r,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),VT(t,e,n,r,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),VT(t,e,n,r,i),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,VT(t,e,n,r,i),t}if("object"==typeof e&&function(e){switch(vT(e)){case ST:case NT:case CT:case TT:case AT:case kT:case FT:case zT:case LT:case DT:case MT:case PT:case xT:case RT:case bT:case OT:case ET:case IT:case _T:case BT:case jT:case UT:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),VT(t,e,n,r,i),t}return e}function VT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...wT(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=qT(t[a],a,n,r,i))}}function WT(e,t){return function(e,t){return qT(e,void 0,e,new Map,t)}(e,(n,r,i,s)=>{const o=null===t||void 0===t?void 0:t(n,r,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case xT:case ET:case AT:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return VT(t,e),t}case ST:{const t={};return VT(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}function KT(e){return WT(e)}function GT(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===vT(e)}function QT(e){return"object"==typeof e&&null!==e}function JT(){}function YT(e){return HT(e)}function ZT(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];return!(null==n||null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function XT(e,t,n,r){if(yT(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(r.has(t))return function(e){if(yT(e))return e;if(Array.isArray(e)||HT(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const t=new n(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const t=new n(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const n=Object.create(t);return Object.assign(n,e)}return e}(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++){var i;t[e]=null!==(i=t[e])&&void 0!==i?i:void 0}}const s=[...Object.keys(t),...wT(t)];for(let a=0;a<s.length;a++){const i=s[a];let c=t[i],l=e[i];if(GT(c)&&(c=(0,o.A)({},c)),GT(l)&&(l=(0,o.A)({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=KT(c)),Array.isArray(c))if("object"==typeof l&&null!=l){const e=[],t=Reflect.ownKeys(l);for(let n=0;n<t.length;n++){const r=t[n];e[r]=l[r]}l=e}else l=[];const u=n(l,c,i,e,t,r);null!=u?e[i]=u:Array.isArray(c)||QT(l)&&QT(c)?e[i]=XT(l,c,n,r):null==l&&ZT(c)?e[i]=XT({},c,n,r):null==l&&YT(c)?e[i]=KT(c):(void 0===l||void 0!==c)&&(e[i]=c)}return e}function $T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.slice(0,-1),s=n[n.length-1];let o=e;for(let a=0;a<i.length;a++)o=XT(o,i[a],s,new Map);return o}(e,...n,JT)}const e_="error",t_="universal_provider",n_="".concat("wc","@2:").concat(t_,":"),r_="https://rpc.walletconnect.org/v1/",i_="generic",s_="".concat(r_,"bundler"),o_="call_status",a_="default_chain_changed";var c_=Object.defineProperty,l_=Object.defineProperties,u_=Object.getOwnPropertyDescriptors,h_=Object.getOwnPropertySymbols,d_=Object.prototype.hasOwnProperty,f_=Object.prototype.propertyIsEnumerable,p_=(e,t,n)=>t in e?c_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g_=(e,t)=>{for(var n in t||(t={}))d_.call(t,n)&&p_(e,n,t[n]);if(h_)for(var n of h_(t))f_.call(t,n)&&p_(e,n,t[n]);return e},m_=(e,t)=>l_(e,u_(t));function y_(e,t,n){var r;const i=Jw(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||"".concat(r_,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(n)}function w_(e){return e.map(e=>"".concat(e.split(":")[0],":").concat(e.split(":")[1]))}function v_(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;var r,i;return(null==(r=null===n||void 0===n?void 0:n.chains)?void 0:r.length)&&(null==(i=null===n||void 0===n?void 0:n.chains)?void 0:i.length)>0}))}function b_(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $T(v_(E_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),v_(E_(e)))}function E_(e){var t,n,r,i,s;const o={};if(!BI(e))return o;for(const[a,c]of Object.entries(e)){const e=II(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],h=c.rpcMap||{},d=kI(a);o[d]=m_(g_(g_({},o[d]),c),{chains:Rv(e,null==(t=o[d])?void 0:t.chains),methods:Rv(l,null==(n=o[d])?void 0:n.methods),events:Rv(u,null==(r=o[d])?void 0:r.events)}),(BI(h)||BI((null==(i=o[d])?void 0:i.rpcMap)||{}))&&(o[d].rpcMap=g_(g_({},h),null==(s=o[d])?void 0:s.rpcMap))}return o}function x_(e){return e.includes(":")?e.split(":")[2]:e}function A_(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=II(n)?[n]:r.chains?r.chains:w_(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function S_(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const I_={},k_=e=>I_[e],P_=(e,t)=>{I_[e]=t};var O_=Object.defineProperty,N_=Object.getOwnPropertySymbols,C_=Object.prototype.hasOwnProperty,R_=Object.prototype.propertyIsEnumerable,T_=(e,t,n)=>t in e?O_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__=(e,t)=>{for(var n in t||(t={}))C_.call(t,n)&&T_(e,n,t[n]);if(N_)for(var n of N_(t))R_.call(t,n)&&T_(e,n,t[n]);return e};const B_="eip155",j_=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],U_=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,L_=e=>e&&e.startsWith("0x")?e:"0x".concat(BigInt(e).toString(16)),D_=e=>Object.keys(e).filter(e=>j_.includes(e)).reduce((t,n)=>(t[n]=M_(e[n]),t),{}),M_=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch(t){return!1}}(e)?JSON.parse(e):e;var F_=Object.defineProperty,z_=(e,t,n)=>((e,t,n)=>t in e?F_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let H_;class q_{constructor(e){z_(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return H_||(H_=new q_(e)),H_}}var V_=Object.defineProperty,W_=Object.defineProperties,K_=Object.getOwnPropertyDescriptors,G_=Object.getOwnPropertySymbols,Q_=Object.prototype.hasOwnProperty,J_=Object.prototype.propertyIsEnumerable,Y_=(e,t,n)=>t in e?V_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;async function Z_(e,t){const n=Jw(e.result.capabilities.caip345.caip2),r=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(e=>async function(e,t,n){return await n(parseInt(e)).request((0,Nk.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}(n.reference,e,t))),s=i.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);i.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));const o=!s.length||s.some(e=>!e),a=s.every(e=>"0x1"===(null===e||void 0===e?void 0:e.status)),c=s.every(e=>"0x0"===(null===e||void 0===e?void 0:e.status)),l=s.some(e=>"0x0"===(null===e||void 0===e?void 0:e.status));let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:u}}async function X_(e){let{sendCalls:t,storage:n}=e;const r=await n.getItem(o_);await n.setItem(o_,((e,t)=>W_(e,K_(t)))(((e,t)=>{for(var n in t||(t={}))Q_.call(t,n)&&Y_(e,n,t[n]);if(G_)for(var n of G_(t))J_.call(t,n)&&Y_(e,n,t[n]);return e})({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:Ov(86400)}}))}async function $_(e){let{resultId:t,storage:n}=e;const r=await n.getItem(o_),i=null===r||void 0===r?void 0:r[t];if(i&&!Nv(i.expiry))return i;await async function(e){let{resultId:t,storage:n}=e;const r=await n.getItem(o_);if(r){delete r[t],await n.setItem(o_,r);for(const e in r)Nv(r[e].expiry)&&delete r[e];await n.setItem(o_,r)}}({resultId:t,storage:n})}var eB=Object.defineProperty,tB=Object.defineProperties,nB=Object.getOwnPropertyDescriptors,rB=Object.getOwnPropertySymbols,iB=Object.prototype.hasOwnProperty,sB=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?eB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aB=(e,t)=>{for(var n in t||(t={}))iB.call(t,n)&&oB(e,n,t[n]);if(rB)for(var n of rB(t))sB.call(t,n)&&oB(e,n,t[n]);return e},cB=(e,t)=>tB(e,nB(t)),lB=(e,t,n)=>oB(e,"symbol"!=typeof t?t+"":t,n);class uB{constructor(e){lB(this,"name","eip155"),lB(this,"client"),lB(this,"chainId"),lB(this,"namespace"),lB(this,"httpProviders"),lB(this,"events"),lB(this,"storage"),this.namespace=e.namespace,this.events=k_("events"),this.client=k_("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=q_.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(a_,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||y_("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Ok.F(new mT.V(n,k_("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var n;const r=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=cB(aB({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:"0x".concat(r);const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain("".concat(i));else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error("Failed to switch to chain 'eip155:".concat(i,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain("".concat(i))}return null}isChainApproved(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}async getCapabilities(e){var t,n,r,i,s;const o=null==(n=null==(t=e.request)?void 0:t.params)?void 0:n[0],a=(null==(i=null==(r=e.request)?void 0:r.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=null===c||void 0===c?void 0:c.sessionProperties)?void 0:s.capabilities)||{},u="".concat(o).concat(a.join(",")),h=null===l||void 0===l?void 0:l[u];if(h)return h;let d;try{d=((e,t,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=e,s={};if(!BI(i)&&!BI(r))return;const o=D_(r);for(const a of n){const e=U_(a);if(!e)continue;s[L_(e)]=o;const n=null===i||void 0===i?void 0:i["".concat(B_,":").concat(e)];if(n){const r=null===n||void 0===n?void 0:n["".concat(B_,":").concat(e,":").concat(t)];s[L_(e)]=__(__({},s[L_(e)]),D_(r||n))}}for(const[a,c]of Object.entries(s))0===Object.keys(c).length&&delete s[a];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(p){console.warn("Failed to extract capabilities from session",p)}if(d)return d;const f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:cB(aB({},c.sessionProperties||{}),{capabilities:cB(aB({},l||{}),{[u]:f})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return f}async getCallStatus(e){var t,n,r;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,t)}}const o=null==(n=i.sessionProperties)?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(hk){console.warn("Failed to fetch call status from custom bundler",hk,o)}const a=await $_({resultId:null==(r=e.request.params)?void 0:r[0],storage:this.storage});if(a)try{return await Z_(a,this.getHttpProvider.bind(this))}catch(hk){console.warn("Failed to fetch call status from stored send calls",hk,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var n;const r=new URL(e),i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Nk.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(n=t.request.params)?void 0:n[0]]))});if(!i.ok)throw new Error("Failed to fetch user operation receipt - ".concat(i.status));return await i.json()}getBundlerUrl(e,t){return"".concat(s_,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}async sendCalls(e){var t,n,r;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=null===i||void 0===i?void 0:i.id,a=(null===i||void 0===i?void 0:i.capabilities)||{},c=null==(n=null===a||void 0===a?void 0:a.caip345)?void 0:n.caip2,l=null==(r=null===a||void 0===a?void 0:a.caip345)?void 0:r.transactionHashes;return!o||!c||!(null!=l&&l.length)||await X_({sendCalls:{request:s,result:i},storage:this.storage}),i}}var hB=Object.defineProperty,dB=(e,t,n)=>((e,t,n)=>t in e?hB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class fB{constructor(e){dB(this,"name",i_),dB(this,"client"),dB(this,"httpProviders"),dB(this,"events"),dB(this,"namespace"),dB(this,"chainId"),this.namespace=e.namespace,this.events=k_("events"),this.client=k_("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const n=this.chainId;this.chainId=e,this.events.emit(a_,{currentCaipChainId:"".concat(this.name,":").concat(e),previousCaipChainId:"".concat(this.name,":").concat(n)})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Jw(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;const n={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,r;const i=Jw(e),s=null==(r=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:r["".concat(i.namespace,":").concat(i.reference)];n[i.reference]=this.createHttpProvider(e,s)}),n}getHttpProvider(e){const t=Jw(e).reference,n=this.httpProviders[t];if(typeof n>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return n}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||y_(e,this.namespace,this.client.core.projectId);if(!n)throw new Error("No RPC url provided for chainId: ".concat(e));return new Ok.F(new mT.A(n,k_("disableProviderPing")))}}var pB=Object.defineProperty,gB=Object.defineProperties,mB=Object.getOwnPropertyDescriptors,yB=Object.getOwnPropertySymbols,wB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,bB=(e,t,n)=>t in e?pB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EB=(e,t)=>{for(var n in t||(t={}))wB.call(t,n)&&bB(e,n,t[n]);if(yB)for(var n of yB(t))vB.call(t,n)&&bB(e,n,t[n]);return e},xB=(e,t)=>gB(e,mB(t)),AB=(e,t,n)=>bB(e,"symbol"!=typeof t?t+"":t,n);class SB{constructor(e){var t,n;AB(this,"client"),AB(this,"namespaces"),AB(this,"optionalNamespaces"),AB(this,"sessionProperties"),AB(this,"scopedProperties"),AB(this,"events",new Qp),AB(this,"rpcProviders",{}),AB(this,"session"),AB(this,"providerOpts"),AB(this,"logger"),AB(this,"uri"),AB(this,"disableProviderPing",!1),AB(this,"connectParams"),this.providerOpts=e,this.logger=ik({logger:null!=(t=e.logger)?t:e_,name:null!=(n=this.providerOpts.name)?n:t_}),this.disableProviderPing=(null===e||void 0===e?void 0:e.disableProviderPing)||!1}static async init(e){const t=new SB(e);return await t.initialize(),t}async request(e,t,n){const[r,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:EB({},e),chainId:"".concat(r,":").concat(i),topic:this.session.topic,expiry:n})}sendAsync(e,t,n,r){const i=(new Date).getTime();this.request(e,n,r).then(e=>t(null,(0,Nk.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:TI("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:r}=await this.client.authenticate(e,t);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();if(this.session=i.session,this.session){const e=A_(this.session.namespaces);this.namespaces=b_(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){var t,n;const{uri:r,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:null==(t=this.connectParams)?void 0:t.authentication,walletPay:null==(n=this.connectParams)?void 0:n.walletPay});r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();this.session=s;const o=A_(s.namespaces);return this.namespaces=b_(this.namespaces,o),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(Sk){if(!/Please call connect/.test(Sk.message))throw Sk}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!_I(t))return;for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info("Inactive pairings cleared: ".concat(t.length))}catch(t){this.logger.warn(t,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await gT.init({core:this.providerOpts.core,logger:this.providerOpts.logger||e_,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(Sk){throw this.logger.error(Sk,"Failed to get session"),new Error("The provided session: ".concat(null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic," doesn't exist in the Sign client"))}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(e=>kI(e)))];P_("client",this.client),P_("events",this.events),P_("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!n.length)return[];const r=[];return n.forEach(e=>{const n=t.namespaces[e].accounts;r.push(...n)}),r}(e,this.session);if(0===(null===t||void 0===t?void 0:t.length))return;const n=w_(t),r=b_(this.namespaces,this.optionalNamespaces),i=xB(EB({},r[e]),{accounts:t,chains:n});if("eip155"===e)this.rpcProviders[e]=new uB({namespace:i});else this.rpcProviders[e]=new fB({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:n}=e;n===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:n,topic:r}=e;if(r!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=n;if("accountsChanged"===i.name){const e=i.data;e&&_I(e)&&this.events.emit("accountsChanged",e.map(x_))}else if("chainChanged"===i.name){const e=n.chainId,t=n.event.data,r=kI(e),i=S_(e)!==S_(t)?"".concat(r,":").concat(S_(t)):e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",e=>{let{topic:t,params:n}=e;var r,i;if(t!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:s}=n,o=null==(i=this.client)?void 0:i.session.get(t);this.session=xB(EB({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",xB(EB({},TI("USER_DISCONNECTED")),{data:e.topic})))}),this.on(a_,e=>{this.onChainChanged(xB(EB({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[i_]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:n={},sessionProperties:r,scopedProperties:i}=e;this.optionalNamespaces=b_(t,n),this.sessionProperties=r,this.scopedProperties=i}validateChain(e){const[t,n]=(null===e||void 0===e?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map(e=>kI(e)).includes(t))throw new Error("Namespace '".concat(t,"' is not configured. Please call connect() first with namespace config."));if(t&&n)return[t,n];const r=kI(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let{currentCaipChainId:t,previousCaipChainId:n,internal:r=!1}=e;if(!this.namespaces)return;const[i,s]=this.validateChain(t);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:t,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange(e){let{namespace:t,currentCaipChainId:n,previousCaipChainId:r}=e;var i,s;try{if(r===n)return;const e=null==(s=null==(i=this.session)?void 0:i.namespaces[t])?void 0:s.accounts;if(!e)return;const o=e.filter(e=>e.includes("".concat(n,":"))).map(x_);if(!_I(o))return;this.events.emit("accountsChanged",o)}catch(zr){this.logger.warn(zr,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const n=this.namespaces[e]?e:"".concat(e,":").concat(t),r={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=t):this.namespaces[n]=r}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var n;const r=(null==(n=this.session)?void 0:n.topic)||"";await this.client.core.storage.setItem("".concat(n_,"/").concat(e).concat(r),t)}async getFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem("".concat(n_,"/").concat(e).concat(n))}async deleteFromStore(e){var t;const n=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem("".concat(n_,"/").concat(e).concat(n))}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(n_)&&await this.client.core.storage.removeItem(e)}catch(t){this.logger.warn(t,"Failed to cleanup storage")}}}const IB=SB,kB="".concat("wc","@2:").concat("ethereum_provider",":"),PB=["eth_sendTransaction","personal_sign"],OB=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],NB=["chainChanged","accountsChanged"],CB=["chainChanged","accountsChanged","message","disconnect","connect"];var RB=Object.defineProperty,TB=Object.defineProperties,_B=Object.getOwnPropertyDescriptors,BB=Object.getOwnPropertySymbols,jB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,LB=(e,t,n)=>t in e?RB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DB=(e,t)=>{for(var n in t||(t={}))jB.call(t,n)&&LB(e,n,t[n]);if(BB)for(var n of BB(t))UB.call(t,n)&&LB(e,n,t[n]);return e},MB=(e,t)=>TB(e,_B(t)),FB=(e,t,n)=>LB(e,"symbol"!=typeof t?t+"":t,n);function zB(e){return Number(e[0].split(":")[1])}function HB(e){return"0x".concat(e.toString(16))}class qB{constructor(){FB(this,"events",new Qp.EventEmitter),FB(this,"namespace","eip155"),FB(this,"accounts",[]),FB(this,"signer"),FB(this,"chainId",1),FB(this,"modal"),FB(this,"rpc"),FB(this,"STORAGE_KEY",kB),FB(this,"on",(e,t)=>(this.events.on(e,t),this)),FB(this,"once",(e,t)=>(this.events.once(e,t),this)),FB(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),FB(this,"off",(e,t)=>(this.events.off(e,t),this)),FB(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new qB;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,n){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),n)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:r}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!_I(t))throw new Error("Invalid chains");const c={chains:t,methods:r||PB,events:s||NB,rpcMap:DB({},t.length?{[zB(t)]:a[zB(t)]}:{})},l=null===s||void 0===s?void 0:s.filter(e=>!NB.includes(e)),u=null===r||void 0===r?void 0:r.filter(e=>!PB.includes(e));if(!n&&!o&&!i&&(null==l||!l.length)&&(null==u||!u.length))return{required:t.length?c:void 0};const h=(null===l||void 0===l?void 0:l.length)&&(null===u||void 0===u?void 0:u.length)||!n,d={chains:[...new Set(h?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:OB))],events:[...new Set(c.events.concat(null!=o&&o.length?o:CB))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?d:void 0}}(this.rpc);try{const t=await new Promise(async(t,i)=>{var s,o;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(o=this.modal)||o.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}));const a=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(MB(DB({namespaces:DB({},n&&{[this.namespace]:n})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:null===e||void 0===e?void 0:e.pairingTopic,scopedProperties:a})).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))})});if(!t)return;const i=Yw(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:HB(this.chainId)})}catch(ck){throw this.signer.logger.error(ck),ck}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:null===e||void 0===e?void 0:e.chains});try{const n=await new Promise(async(n,r)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),r(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(MB(DB({},e),{chains:this.rpc.chains}),t).then(e=>{n(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),r(new Error(e.message))})}),r=n.session;if(r){const e=Yw(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:HB(this.chainId)})}return n}catch(Sk){throw this.signer.logger.error(Sk),Sk}finally{null==(n=this.modal)||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",HB(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",MB(DB({},TI("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}formatChainId(e){return"".concat(this.namespace,":").concat(e)}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",HB(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:"".concat(t,":").concat(n),address:r}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=null===e||void 0===e?void 0:e.chains)?t:[],i=null!=(n=null===e||void 0===e?void 0:e.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?(null===e||void 0===e?void 0:e.methods)||PB:[],a=r.length?(null===e||void 0===e?void 0:e.events)||NB:[],c=(null===e||void 0===e?void 0:e.optionalMethods)||[],l=(null===e||void 0===e?void 0:e.optionalEvents)||[],u=(null===e||void 0===e?void 0:e.rpcMap)||this.buildRpcMap(s,e.projectId),h=(null===e||void 0===e?void 0:e.qrModalOptions)||void 0;return{chains:null===r||void 0===r?void 0:r.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach(e=>{n[e]=this.getRpcUrl(e,t)}),n}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?zB(this.rpc.chains):zB(this.rpc.optionalChains),this.signer=await IB.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const r=await(async()=>{const{createAppKit:e}=await n.e(5685).then(n.bind(n,5685));return e})(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return nj}),s=i(MB(DB({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");e=r(MB(DB({},s),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:!0===(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)}))}catch(Sk){throw console.warn(Sk),new Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(Sk){throw this.signer.logger.error(Sk),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&_I(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)})),n&&_I(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null===n||void 0===n?void 0:n.map(e=>this.formatChainId(e)),n.forEach(e=>{this.rpc.rpcMap[e]=(null===r||void 0===r?void 0:r[e])||this.getRpcUrl(e)}))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||"".concat("https://rpc.walletconnect.org/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId")),t=this.session.namespaces["".concat(this.namespace,":").concat(e)]?this.session.namespaces["".concat(this.namespace,":").concat(e)]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:null===t||void 0===t?void 0:t.accounts),this.setAccounts(null===t||void 0===t?void 0:t.accounts)}catch(Fx){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(Fx),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var VB=Object.defineProperty,WB=Object.defineProperties,KB=Object.getOwnPropertyDescriptors,GB=Object.getOwnPropertySymbols,QB=Object.prototype.hasOwnProperty,JB=Object.prototype.propertyIsEnumerable,YB=(e,t,n)=>t in e?VB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZB=(e,t)=>{for(var n in t||(t={}))QB.call(t,n)&&YB(e,n,t[n]);if(GB)for(var n of GB(t))JB.call(t,n)&&YB(e,n,t[n]);return e},XB=(e,t)=>WB(e,KB(t));function $B(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const ej=e=>{const[t,n]=e.split(":");return tj({id:n,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function tj(e){return ZB({formatters:void 0,fees:void 0,serializers:void 0},e)}var nj=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,n,r,i,s,o,a;const c=null==(t=e.chains)?void 0:t.map(ej).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");const l=c.find(t=>{var n;return t.id===(null==(n=e.defaultChain)?void 0:n.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:$B(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:XB(ZB({},e.metadata),{name:(null==(n=e.metadata)?void 0:n.name)||"WalletConnect",description:(null==(r=e.metadata)?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(a=e.desktopWallets)&&a.length){const t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],n=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],r=t.filter(e=>!n.includes(e.id));r.length&&(u.customWallets=r)}return u},defineChain:tj});const rj=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,s);return s},ij=e=>e;const sj=e=>{const n=(e=>e?rj(e):rj)(e),r=e=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ij;const r=t.useSyncExternalStore(e.subscribe,t.useCallback(()=>n(e.getState()),[e,n]),t.useCallback(()=>n(e.getInitialState()),[e,n]));return t.useDebugValue(r),r}(n,e);return Object.assign(r,n),r},oj=e=>e?sj(e):sj,aj="0x55d398326f99059fF775485246999027B3197955",cj=["function balanceOf(address) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],lj=oj((e,t)=>({provider:null,signer:null,address:null,wcProvider:null,isConnected:!1,bnbBalance:"0",usdtBalance:"0",connectWallet:async()=>{let n,r=null;if(console.log("Connection Start"),window.ethereum){console.log("window.ethereum"),n=new Sp(window.ethereum);try{await window.ethereum.request({method:"eth_requestAccounts"})}catch(o){console.log(o)}window.ethereum.on("accountsChanged",async e=>{e.length,t().disconnectWallet()}),window.ethereum.on("chainChanged",async()=>{t().disconnectWallet()}),window.ethereum.on("disconnect",()=>{t().disconnectWallet()})}else console.log("Not window.ethereum, using WalletConnect"),r=await qB.init({projectId:"0afc422585c9b7c7ce9ef5418cb641fa",chains:[56],showQrModal:!0}),await r.enable(),n=new Sp(r);const i=await n.getSigner(),s=await i.getAddress();e({provider:n,signer:i,wcProvider:r,address:s,isConnected:!0}),await t().fetchBalances(s)},disconnectWallet:async()=>{const{wcProvider:n}=t();try{n&&await n.disconnect()}catch(r){console.error("WalletConnect disconnect error:",r)}e({provider:null,signer:null,address:null,wcProvider:null,isConnected:!1,bnbBalance:"0",usdtBalance:"0"})},fetchBalances:async n=>{const{provider:r}=t();if(r&&n)try{console.log("Fetch Balance");const t=new wp("https://bsc-dataseed.binance.org/"),r=await t.getBalance(n),i=Kp(r,18),s=new ic(aj,cj,t),o=await s.decimals(),a=Kp(await s.balanceOf(n),o);console.log("Balance : ",i),console.log("USDT Balance : ",a),e({bnbBalance:i,usdtBalance:a})}catch(i){console.error("Balance fetch error:",i)}},sendUSDT:async(e,n)=>{const{signer:r}=t();if(!r)throw new Error("Wallet not connected");const i=new ic(aj,cj,r),s=Gp(n,await i.decimals()),o=await i.transfer(e,s);return await o.wait(),o.hash},getTxStatus:async e=>{const{provider:n}=t();if(!n)return{status:"no_provider"};try{const t=await n.getTransactionReceipt(e);if(!t)return"pending";return 1===t.status?"success":"failed"}catch(r){return"error"}}})),uj=lj;function hj(e){let{message:n,duration:r=2e3,onClose:i,isError:s}=e;return(0,t.useEffect)(()=>{if(!n)return;const e=setTimeout(()=>{i()},r);return()=>clearTimeout(e)},[n,r,i]),n?(0,At.jsx)("div",{style:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:s?"red":"green",color:"white",borderRadius:"6px",boxShadow:"0 2px 6px rgba(0,0,0,0.2)",zIndex:9999},children:n}):null}function dj(){const e=ge(),[n,r]=(0,t.useState)(!0),i="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",s=de(),o=new URLSearchParams(s.search).get("r"),[a,c]=(0,t.useState)(""),[l,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(!1),[y,w]=(0,t.useState)(0),{connectWallet:v,address:b,isConnected:E,usdtBalance:x,bnbBalance:A,sendUSDT:S,fetchBalances:I}=uj(),[k,P]=(0,t.useState)("");return(0,t.useEffect)(()=>{window.init_iconsax&&window.init_iconsax()},[]),(0,t.useEffect)(()=>{const e=window.ethereum;e?e.isTrust?(console.log("\u2705 Opened inside Trust Wallet"),r(!0)):e.isMetaMask?(console.log("\u2705 Opened inside MetaMask browser"),r(!0)):e.isCoinbaseWallet?(console.log("\u2705 Opened inside Coinbase Wallet browser"),r(!0)):(console.log("\u2705 Wallet provider found, unknown type"),r(!0)):(console.log("\ud83c\udf10 Probably a normal browser (Chrome, Safari, etc.)"),r(!1))},[]),(0,t.useEffect)(()=>{c(o)},[o]),(0,t.useEffect)(()=>{!async function(){if(E)try{let t=i+"getUser/"+b;const n=await fetch(t);"No Data"!==(await n.json()).data?e("/wallet"):(d(!0),console.log("Not a user"))}catch(kj){return void d(!0)}else d(!1)}()},[b,E,e,i]),(0,At.jsxs)(At.Fragment,{children:[n&&b&&h?(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("header",{className:"main-header",children:(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{children:"Signup"})})})}),(0,At.jsx)("section",{className:"section-lg-t-space section-b-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"auth-prograssbar",children:(0,At.jsxs)("div",{className:"progress",role:"progressbar",children:[(0,At.jsxs)("div",{className:"progress-bar progress-bar-wrapper overflow-visible",style:{width:"27%"},children:["Connected : ",String(b).slice(0,10),"....",String(b).slice(-10)]}),(0,At.jsx)("img",{className:"img-fluid coin",src:"assets/images/gif/coin.gif",alt:"coin"})]})}),(0,At.jsxs)("div",{className:"auth-form pt-0",children:[(0,At.jsx)("div",{className:"auth-head",children:(0,At.jsx)("h4",{className:"fw-medium title-color text-center text-uppercase",children:"About You"})}),(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("label",{className:"form-label mb-2",htmlFor:"Inputname",children:"Referred By"}),(0,At.jsxs)("div",{className:"form-input",children:[(0,At.jsxs)("label",{className:"form-control",children:[String(a).slice(0,10),".....",String(a).slice(-10)]}),(0,At.jsx)("i",{className:"iconsax","data-icon":"user-2"})]})]}),(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("label",{className:"form-label mb-2",htmlFor:"Inputname",children:"Your Name"}),(0,At.jsxs)("div",{className:"form-input",children:[(0,At.jsx)("input",{type:"text",className:"form-control",id:"Inputname",placeholder:"Enter your username",value:l,onChange:e=>u(e.target.value)}),(0,At.jsx)("i",{className:"iconsax","data-icon":"user-2"})]})]}),(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("label",{className:"form-label",htmlFor:"validationDefault01",children:"Wallet Balance"}),(0,At.jsxs)("div",{className:"d-flex gap-2",children:[(0,At.jsx)("div",{className:"form-input w-100",children:(0,At.jsxs)("label",{className:"form-control without-icon",children:["USDT : ",String(x).slice(0,7)]})}),(0,At.jsx)("div",{className:"form-input w-100",children:(0,At.jsxs)("label",{className:"form-control without-icon",children:["BNB :",String(A).slice(0,7)]})})]})]}),(0,At.jsxs)("div",{className:"form-group",children:[(0,At.jsx)("label",{className:"form-label mb-2",htmlFor:"Inputname",children:"Subscription Amount($)"}),(0,At.jsxs)("div",{className:"form-input",children:[(0,At.jsx)("input",{type:"number",className:"form-control",id:"InputAmount",placeholder:"Ex. 25 or multiple of 25",value:y,onChange:e=>w(e.target.value)}),(0,At.jsx)("i",{className:"iconsax","data-icon":"document-text-1"})]})]})]}),g?(0,At.jsx)("div",{className:"text-center",children:(0,At.jsx)("img",{src:"/loading.gif",alt:"Loading",width:55})}):(0,At.jsx)("button",{className:"btn theme-btn w-100 auth-btn",onClick:()=>async function(){if(m(!0),!b)return P("Please Connect Wallet"),p(!0),void m(!1);if(!a)return P("Please come back here by a refer link"),p(!0),void m(!1);console.log(a);try{let e=i+"getUser/"+a;const t=await fetch(e),n=await t.json();if(console.log(n.data),console.log(n.extra),"No Data"===n.data)return P("Invalid Refer Address"),p(!0),void m(!1)}catch(kj){return P("Invalid Refer Address"),p(!0),void m(!1)}if(l.length<4)return P("Please Enter Name"),p(!0),void m(!1);try{if(parseInt(y)<=0)return P("Enter Amount"),p(!0),void m(!1)}catch(kj){return P("Enter Amount"),p(!0),void m(!1)}if(parseInt(y)%1!==0)return P("Amount 25 or multiple of 25"),p(!0),void m(!1);if(parseFloat(y)>parseFloat(x))return P("You have not enough balance"),p(!0),void m(!1);if(parseFloat(A)<=0)return P("BNB Required for GAS Fee"),p(!0),void m(!1);var t="";try{t=await S("0x953b9dE9c17Fd91cED9A64f87716013DcBF40d82",y.toString())}catch(o){return console.error(o),P("Transaction Error"),p(!0),void m(!1)}const n=i+"signup",r={spn:a,name:l,public:b,amt:y,txn:t},s={"Content-Type":"application/json"};try{const t=await fetch(n,{method:"POST",headers:s,body:JSON.stringify(r)});if(!t.ok)throw m(!1),new Error("HTTP error! status: ".concat(t.status));"Sponsor Not Exists"!==(await t.json()).data[0].uid?(m(!1),I(b),e("/wallet")):(P("Sponsor Not Exists"),p(!0),m(!1),console.log("Sponsor Not Exists"))}catch(c){console.log("Others Error!"),m(!1)}}(),children:"Submit"})]})})]}):(0,At.jsx)(At.Fragment,{children:(0,At.jsxs)("section",{className:"section-b-space section-lg-t-space",children:[(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsxs)("div",{className:"empty-page no-connection",children:[(0,At.jsx)("img",{className:"img-fluid",src:"/wallets.png",alt:"no-connection"}),(0,At.jsx)("h2",{children:"Oops! your connection seems off..."}),(0,At.jsx)("h5",{className:"mt-2",children:'Click the "Connect" button down below to check again for connection.'})]})}),(0,At.jsx)("div",{className:"fixed-btn",children:(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsx)("button",{className:"btn theme-btn w-100",onClick:v,children:"Connect"})})})]})}),(0,At.jsx)(hj,{message:k,onClose:()=>P(""),isError:f})]})}function fj(e){let{activeTab:n,setActiveTab:r}=e;const[i,s]=(0,t.useState)(""),{address:o}=uj(),a="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/";return(0,t.useEffect)(()=>{window.init_iconsax&&window.init_iconsax()},[]),(0,t.useEffect)(()=>{!async function(){try{let e=a+"getUser/"+o;const t=await fetch(e),n=await t.json();"No Data"!==n.data&&s(n.data[0].NAMES)}catch(kj){console.log("Error")}}()},[o,a]),(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("header",{className:"header",children:(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsxs)("div",{className:"head-content",children:[(0,At.jsx)("a",{href:"#sidebar",className:"sidebar-btn","data-bs-toggle":"offcanvas",children:(0,At.jsx)("i",{className:"iconsax","data-icon":"text-align-left"})}),(0,At.jsxs)("div",{className:"header-location",children:[(0,At.jsx)("img",{className:"img-fluid profile-icon",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/provider-vector-img.svg",alt:"location"}),(0,At.jsx)("div",{className:"location-content",children:(0,At.jsxs)("h5",{children:["Hello, ",i]})})]}),(0,At.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,At.jsx)("img",{src:"/logo.png",alt:"Nexus Logo"})})]})})}),(0,At.jsxs)("div",{class:"offcanvas sidebar-offcanvas offcanvas-start",tabindex:"-1",id:"sidebar",children:[(0,At.jsx)("div",{class:"offcanvas-header sidebar-header",children:(0,At.jsxs)("div",{class:"sidebar-logo",children:[(0,At.jsx)("img",{class:"img-fluid logo",src:"../../assets/images/logo/logo.png",alt:"logo"}),(0,At.jsx)("img",{class:"img-fluid logo-dark",src:"/logo.png",alt:"logo"})]})}),(0,At.jsx)("div",{class:"offcanvas-body",children:(0,At.jsxs)("ul",{class:"profile-list",children:[(0,At.jsx)("li",{children:(0,At.jsxs)("a",{class:"setting-box",onClick:()=>{r("home");const e=document.getElementById("sidebar"),t=window.bootstrap.Offcanvas.getInstance(e);t&&t.hide()},children:[(0,At.jsx)("div",{class:"setting-icon",children:(0,At.jsx)("i",{class:"iconsax main-icon","data-icon":"user-2",children:" "})}),(0,At.jsxs)("div",{class:"setting-content",children:[(0,At.jsx)("h5",{children:"Deposit History"}),(0,At.jsx)("i",{class:"iconsax arrow","data-icon":"chevron-right"})]})]})}),(0,At.jsx)("li",{children:(0,At.jsxs)("a",{class:"setting-box",onClick:()=>{r("withdrawalH");const e=document.getElementById("sidebar"),t=window.bootstrap.Offcanvas.getInstance(e);t&&t.hide()},children:[(0,At.jsx)("div",{class:"setting-icon",children:(0,At.jsx)("img",{class:"img-fluid main-icon main-img",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/provider-app.svg",alt:"provider-app"})}),(0,At.jsxs)("div",{class:"setting-content",children:[(0,At.jsx)("h5",{children:"Withdrawal History"}),(0,At.jsx)("i",{class:"iconsax arrow","data-icon":"chevron-right"})]})]})}),(0,At.jsx)("li",{children:(0,At.jsxs)("a",{class:"setting-box",onClick:()=>{r("home");const e=document.getElementById("sidebar"),t=window.bootstrap.Offcanvas.getInstance(e);t&&t.hide()},children:[(0,At.jsx)("div",{class:"setting-icon",children:(0,At.jsx)("img",{class:"img-fluid main-icon main-img",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/servicemen-app.svg",alt:"servicemen-app"})}),(0,At.jsxs)("div",{class:"setting-content",children:[(0,At.jsx)("h5",{children:"Achievement History"}),(0,At.jsx)("i",{class:"iconsax arrow","data-icon":"chevron-right"})]})]})})]})})]})]})}function pj(e){let{activeTab:t,setActiveTab:n}=e;return(0,At.jsx)("div",{className:"navbar-menu",children:(0,At.jsxs)("ul",{children:[(0,At.jsx)("li",{className:"home"===t?"active":"",children:(0,At.jsxs)("a",{onClick:()=>n("home"),children:[(0,At.jsxs)("div",{className:"icon",children:[(0,At.jsx)("img",{className:"unactive",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/home.svg",alt:"home"}),(0,At.jsx)("img",{className:"active",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/home-fill.svg",alt:"home"})]}),(0,At.jsx)("h5",{className:"active",children:"Home"})]})}),(0,At.jsx)("li",{className:"referral"===t?"active":"",children:(0,At.jsxs)("a",{onClick:()=>n("referral"),children:[(0,At.jsxs)("div",{className:"icon",children:[(0,At.jsx)("img",{className:"unactive",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/booking.svg",alt:"booking"}),(0,At.jsx)("img",{className:"active",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/booking-fill.svg",alt:"booking"})]}),(0,At.jsx)("h5",{children:"Referral"})]})}),(0,At.jsx)("li",{children:(0,At.jsx)("a",{onClick:()=>n("packages"),className:"scanner-btn",children:(0,At.jsx)("img",{className:"active",style:{color:"white"},src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/wallet-open.svg",alt:"p8"})})}),(0,At.jsx)("li",{className:"wallet"===t?"active":"",children:(0,At.jsxs)("a",{onClick:()=>n("wallet"),children:[(0,At.jsxs)("div",{className:"icon",children:[(0,At.jsx)("img",{className:"unactive",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/wallet-open.svg",alt:"wallet"}),(0,At.jsx)("img",{className:"active",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/wallet-fill.svg",alt:"wallet"})]}),(0,At.jsx)("h5",{children:"Wallet"})]})}),(0,At.jsx)("li",{className:"community"===t?"active":"",children:(0,At.jsxs)("a",{onClick:()=>n("community"),children:[(0,At.jsxs)("div",{className:"icon",children:[(0,At.jsx)("img",{className:"unactive",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/profile.svg",alt:"profile"}),(0,At.jsx)("img",{className:"active",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/profile-fill.svg",alt:"profile"})]}),(0,At.jsx)("h5",{children:"Community"})]})})]})})}const gj=oj((e,t)=>({incomeData:null,fetchIncomeData:async t=>{if(t)try{const n="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",r=await fetch(n+"getDashboardBalance/"+t),i=await r.json();if("No Data"!==i.data)return e({incomeData:i.data}),i.data}catch(kj){console.log("Error fetching dashboard data:",kj)}}})),mj=gj;function yj(){const e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",{fetchIncomeData:n,incomeData:r}=mj(),{address:i,fetchBalances:s,getTxStatus:o,usdtBalance:a,bnbBalance:c}=uj(),[l,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{window.init_iconsax&&window.init_iconsax()},[]),(0,t.useEffect)(()=>{n(i)},[n,i]);return(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("section",{className:"section-lg-t-space",children:(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsxs)("div",{className:"wallet-balance-box",children:[(0,At.jsx)("img",{className:"img-fluid wallet-icon",src:"https://themes.pixelstrap.com/pwa/fixit/assets/images/svg/wallet-open.svg",alt:"p8"}),(0,At.jsxs)("div",{className:"wallet-details",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h5",{children:"Account Balance."}),(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].balance}):"..."]})]}),f?(0,At.jsx)("div",{className:"text-center",children:(0,At.jsx)("img",{src:"/loading.gif",alt:"Loading",width:55})}):(0,At.jsx)("a",{className:"btn-sm theme-btn withdraw-btn theme-color",onClick:()=>async function(){if(!i)return;p(!0);const t=(await n(i))[0].balance;if(parseFloat(t)>=10){const a=t-10*t/100,c=e+"withdrawal",l={publicKey:i,amount:t,txn:"Pending Txn"},h={"Content-Type":"application/json"};try{const t=await fetch(c,{method:"POST",headers:h,body:JSON.stringify(l)});if(!t.ok)throw p(!1),u("Withdrawal Failed!"),d(!0),new Error("HTTP error! status: ".concat(t.status));const f=(await t.json()).data[0].withSl,g=e+"withdrawUsdt",m={to:i,amount:a},y={"Content-Type":"application/json"};try{const t=await fetch(g,{method:"POST",headers:y,body:JSON.stringify(m)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const o=await t.json();if(console.log(o.msg),"success"===o.msg){const t=o.txHash,n=e+"withdrawal_update",i={withSl:f,txn:t},s={"Content-Type":"application/json"};try{const e=await fetch(n,{method:"POST",headers:s,body:JSON.stringify(i)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));await e.json()}catch(r){console.log(r),p(!1),u("Withdrawal Failed!"),d(!0)}}n(i),s(i),p(!1),u("Withdrawal Success"),d(!1)}catch(o){console.log(o),p(!1),u("Withdrawal Failed!"),d(!0)}}catch(o){console.log("Others Error!"),p(!1)}}else p(!1),u("Minimum Withdrawal $10"),d(!0)}(),children:"Withdraw"})]})]})})}),(0,At.jsx)("section",{className:"section-b-space",children:(0,At.jsx)("div",{className:"custom-container",children:(0,At.jsxs)("div",{className:"row g-3",children:[(0,At.jsx)("div",{className:"col-7",children:(0,At.jsxs)("a",{href:"earnings.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"money-in"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Total Investment"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].totalInv}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-5",children:(0,At.jsxs)("a",{href:"booking.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"receipt-minus-1"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Total Earning"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].totInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-5",children:(0,At.jsxs)("a",{href:"service-list.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Trading Profit"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].shareInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-7",children:(0,At.jsxs)("a",{href:"servicemen-list.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Referral Bonus"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].spnInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-7",children:(0,At.jsxs)("a",{href:"earnings.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Community Bonus"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].commInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-5",children:(0,At.jsxs)("a",{href:"booking.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"MFA Bonus"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].leaderInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-5",children:(0,At.jsxs)("a",{href:"service-list.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"One Time Bonus"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].achInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})}),(0,At.jsx)("div",{className:"col-7",children:(0,At.jsxs)("a",{href:"servicemen-list.html",className:"provider-counter-box",children:[(0,At.jsx)("i",{className:"iconsax counter-icon","data-icon":"grid-apps"}),(0,At.jsxs)("div",{className:"provider-counter-details",children:[(0,At.jsx)("h6",{children:"Royalty Bonus"}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsxs)("h4",{children:["$",r?(0,At.jsx)(At.Fragment,{children:r[0].partnerInc}):"..."]}),(0,At.jsx)("i",{className:"iconsax arrow-icon","data-icon":"arrow-right"})]})]})]})})]})})}),(0,At.jsx)("section",{className:"box-background section-b-space",children:(0,At.jsx)("ul",{className:"booking-list",children:(0,At.jsx)("li",{className:"booking-box",children:(0,At.jsxs)("div",{className:"booking-details",children:[(0,At.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,At.jsxs)("div",{className:"service-content",children:[(0,At.jsx)("div",{className:"d-flex align-items-center gap-2 mb-1",children:(0,At.jsxs)("h5",{className:"theme-color fw-medium",children:["Refer Link : https://nexusglobaltrader.com/sign?r=",String(i).slice(0,10),"......",(0,At.jsx)("button",{class:"btn btn-sm outline-btn w-20",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),u("Share Link Copied!"),d(!1)}catch(t){console.error("Failed to copy: ",t)}})("https://nexusglobaltrader.com/#/sign?r=".concat(i)),children:"Copy"})]})}),(0,At.jsx)("a",{href:"pending-booking-details.html",children:(0,At.jsx)("h4",{className:"title-color fw-medium",children:"Income Limit Status"})}),(0,At.jsxs)("div",{className:"d-flex align-items-center gap-2 mt-1",children:[(0,At.jsxs)("h3",{className:"title-color fw-bold ",children:["Limit $",r?(0,At.jsx)(At.Fragment,{children:r[0].capp}):"..."]}),(0,At.jsxs)("h6",{className:"success-color fw-medium",children:["(Earned"," ",r?(0,At.jsx)(At.Fragment,{children:r[0].incPerc}):"...","%)"]})]})]}),(0,At.jsx)("div",{className:"service-img",children:(0,At.jsx)("img",{className:"img-fluid img",src:"/growth.gif",alt:"1"})})]}),(0,At.jsxs)("div",{className:"line-box",children:[(0,At.jsx)("div",{className:"dot1"}),(0,At.jsx)("div",{className:"dot2"})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[(0,At.jsx)("h6",{className:"fw-medium content-color",children:"Registration"}),(0,At.jsx)("h6",{className:"fw-medium title-color",children:r?(0,At.jsx)(At.Fragment,{children:r[0].date}):"..."})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsx)("h6",{className:"fw-medium content-color",children:"MFA Achievement"}),(0,At.jsx)("h6",{className:"booking-tag pending-bg",children:r?(0,At.jsx)(At.Fragment,{children:parseFloat(r[0].leaderInc)>0?"Achieved":"Not Achieved"}):"..."})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsx)("h6",{className:"fw-medium content-color",children:"One Time Bonus"}),(0,At.jsx)("h6",{className:"booking-tag pending-bg",children:r?(0,At.jsx)(At.Fragment,{children:parseFloat(r[0].achInc)>0?"Achieved":"Not Achieved"}):"..."})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-1",children:[(0,At.jsx)("h6",{className:"fw-medium content-color",children:"Royalty Status"}),(0,At.jsx)("h6",{className:"booking-tag pending-bg",children:r?(0,At.jsx)(At.Fragment,{children:parseFloat(r[0].partnerInc)>0?"Achieved":"Not Achieved"}):"..."})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[(0,At.jsx)("h4",{className:"title-color fw-medium",children:"USDT Balance"}),(0,At.jsx)("h4",{className:"title-color fw-medium",children:a})]}),(0,At.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[(0,At.jsx)("h4",{className:"title-color fw-medium",children:"BNB Balance"}),(0,At.jsx)("h4",{className:"title-color fw-medium",children:c})]}),(0,At.jsx)("ul",{className:"booking-provider-list",children:(0,At.jsxs)("li",{className:"booking-provider-box",children:[(0,At.jsx)("div",{className:"provider-image",children:(0,At.jsx)("img",{className:"img-fluid provider-pic",src:"/p-star.gif",alt:"p17"})}),(0,At.jsxs)("div",{className:"provider-content",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h6",{className:"content-color fw-medium",children:"0xf2sf2sf..."}),(0,At.jsx)("h5",{className:"name fw-medium title-color mt-1",children:"Power Leg"})]}),(0,At.jsx)("h6",{className:"fw-normal title-color ps-2",children:"$7878"})]})]})}),(0,At.jsx)("ul",{className:"booking-provider-list",children:(0,At.jsxs)("li",{className:"booking-provider-box",children:[(0,At.jsx)("div",{className:"provider-image",children:(0,At.jsx)("img",{className:"img-fluid provider-pic",src:"/w-star.gif",alt:"p17"})}),(0,At.jsxs)("div",{className:"provider-content",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h6",{className:"content-color fw-medium",children:"0xdfgdg45fgg..."}),(0,At.jsx)("h5",{className:"name fw-medium title-color mt-1",children:"Weeker Leg"})]}),(0,At.jsx)("h6",{className:"fw-normal title-color ps-2",children:"$1252"})]})]})})]})})})}),(0,At.jsx)("div",{className:"panel-space"}),(0,At.jsx)(hj,{message:l,onClose:()=>u(""),isError:h})]})}function wj(){const[e,n]=(0,t.useState)([]),{address:r}=uj();return(0,t.useEffect)(()=>{!async function(){try{let e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/getDirect/"+r;const t=await fetch(e),i=await t.json();n(i.data)}catch(kj){return void console.log("Error!")}}()},[r]),(0,At.jsx)(At.Fragment,{children:(0,At.jsx)("section",{className:" section-b-space section-lg-t-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{style:{textAlign:"center",color:"white"},children:"My Referral"})}),(0,At.jsx)("ul",{className:"commission-details-list",children:e.length>0?(0,At.jsx)(At.Fragment,{children:e.map((e,t)=>(0,At.jsx)("li",{className:"commission-details-box",children:(0,At.jsxs)("div",{className:"booking-id-head",children:[(0,At.jsxs)("div",{children:[(0,At.jsxs)("h5",{className:"fw-medium title-color",children:[String(e.publicKey).slice(0,10),"....",String(e.publicKey).slice(-10)]}),(0,At.jsx)("h6",{className:"fw-normal content-color mt-1",children:e.NAMES}),(0,At.jsx)("h6",{className:"fw-normal content-color mt-1",children:e.DATES})]}),(0,At.jsxs)("h6",{className:"booking-id",children:["$",e.amount]})]})},e.MEMJOIN_SL))}):"No Data"})]})})})}function vj(){const[e,n]=(0,t.useState)([]),{address:r}=uj();return(0,t.useEffect)(()=>{!async function(){try{let e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/getDownline/"+r;const t=await fetch(e),i=await t.json();n(i.data)}catch(kj){return void console.log("Error!")}}()},[r]),(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("section",{className:" section-b-space section-lg-t-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{style:{textAlign:"center",color:"white"},children:"My Community"})}),(0,At.jsx)("ul",{className:"commission-details-list",children:e.length>0?(0,At.jsx)(At.Fragment,{children:e.map((e,t)=>(0,At.jsx)("li",{className:"commission-details-box",children:(0,At.jsxs)("div",{className:"booking-id-head",children:[(0,At.jsxs)("h6",{className:"booking-id",children:["Level:",e.lvl]}),(0,At.jsxs)("div",{children:[(0,At.jsxs)("h5",{className:"fw-medium title-color",children:["$",e.busi]}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:["Team: ",e.team]})]})]})},e.lvl))}):"No Data"})]})}),(0,At.jsx)("div",{className:"panel-space"})]})}function bj(){const[e,n]=(0,t.useState)([]),{address:r}=uj();return(0,t.useEffect)(()=>{!async function(){try{let e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/getMyPackages/"+r;const t=await fetch(e),i=await t.json();n(i.data)}catch(kj){return void console.log("Error!")}}()},[r]),(0,At.jsx)(At.Fragment,{children:(0,At.jsx)("section",{className:" section-b-space section-lg-t-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{style:{textAlign:"center",color:"white"},children:"My Deposits"})}),(0,At.jsx)("ul",{className:"commission-details-list",children:e.length>0?(0,At.jsx)(At.Fragment,{children:e.map((e,t)=>(0,At.jsx)("li",{className:"commission-details-box",children:(0,At.jsxs)("div",{className:"booking-id-head",children:[(0,At.jsxs)("div",{children:[(0,At.jsxs)("h5",{className:"fw-medium title-color",children:["Txn. : ",String(e.txn).slice(0,10),"....",String(e.txn).slice(-10)]}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:["Status : ",e.status]}),(0,At.jsx)("h6",{className:"fw-normal content-color mt-1",children:e.DATES})]}),(0,At.jsxs)("h6",{className:"booking-id",children:["$",e.AMOUNT]})]})},e.Activation_sl))}):"No Data"})]})})})}function Ej(){const[e,n]=(0,t.useState)([]),{address:r}=uj();return(0,t.useEffect)(()=>{!async function(){try{let e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/getIncomeStatement/"+r+"/All";const t=await fetch(e),i=await t.json();n(i.data)}catch(kj){return void console.log("Error!")}}()},[r]),(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("section",{className:" section-b-space section-lg-t-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{style:{textAlign:"center",color:"white"},children:"Income Statement"})}),(0,At.jsx)("ul",{className:"commission-details-list",children:e.length>0?(0,At.jsx)(At.Fragment,{children:e.map((e,t)=>(0,At.jsx)("li",{className:"commission-details-box",children:(0,At.jsxs)("div",{className:"booking-id-head",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h5",{className:"fw-medium title-color",children:e.FOLIO}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:[String(e.DETAILS).slice(0,20),"...."]}),(0,At.jsx)("h6",{className:"fw-normal content-color mt-1",children:e.DATES})]}),(0,At.jsxs)("h6",{className:"booking-id",children:["$",e.CREDIT]})]})},e.Member_sl))}):"No Data"})]})}),(0,At.jsx)("div",{className:"panel-space"})]})}function xj(){const[e,n]=(0,t.useState)([]),{address:r}=uj();return(0,t.useEffect)(()=>{!async function(){try{let e="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/getIncomeStatement/"+r+"/Withdrawal";const t=await fetch(e),i=await t.json();n(i.data)}catch(kj){return void console.log("Error!")}}()},[r]),(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)("section",{className:" section-b-space section-lg-t-space",children:(0,At.jsxs)("div",{className:"custom-container",children:[(0,At.jsx)("div",{className:"header-panel",children:(0,At.jsx)("h3",{style:{textAlign:"center",color:"white"},children:"Withdrawal Statement"})}),(0,At.jsx)("ul",{className:"commission-details-list",children:e.length>0?(0,At.jsx)(At.Fragment,{children:e.map((e,t)=>(0,At.jsx)("li",{className:"commission-details-box",children:(0,At.jsxs)("div",{className:"booking-id-head",children:[(0,At.jsxs)("div",{children:[(0,At.jsx)("h5",{className:"fw-medium title-color",children:e.dates}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:["Txn. : ",String(e.TXN).slice(0,16),"...."]}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:["Amount : ",e.AMOUNT]}),(0,At.jsxs)("h6",{className:"fw-normal content-color mt-1",children:["Admin Ch. : ",e.ADMIN_CH]})]}),(0,At.jsxs)("h6",{className:"booking-id",children:["$",e.NET]})]})},e.WITHDRA_SL))}):"No Data"})]})}),(0,At.jsx)("div",{className:"panel-space"})]})}function Aj(){const e=ge(),n="https://trade-buddy-e63f6f3dce63.herokuapp.com/nexusapi/",[r,i]=(0,t.useState)(0),[s,o]=(0,t.useState)(""),[a,c]=(0,t.useState)("home"),{address:l,isConnected:u,signer:h,bnbBalance:d,usdtBalance:f,fetchBalances:p,getTxStatus:g,disconnectWallet:m}=uj();return(0,t.useEffect)(()=>{!async function(){u||e("/")}()},[u,e]),(0,t.useEffect)(()=>{!async function(){try{let t=n+"pending_activation/"+l;console.log(t);const r=await fetch(t),i=await r.json();if("No Data"!==i.data)for(const s of i.data)try{const t=await g(s.txn);if("success"===t){console.log(s.txn);const t=n+"booking",r={txn:s.txn,type:"success"},i={"Content-Type":"application/json"};try{const e=await fetch(t,{method:"POST",headers:i,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(e){console.log("Error!")}}else if("failed"===t){const t=n+"booking",r={txn:s.txn,type:"fail"},i={"Content-Type":"application/json"};try{const e=await fetch(t,{method:"POST",headers:i,body:JSON.stringify(r)});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status))}catch(e){console.log("Error!")}}}catch(kj){console.log("Error!")}}catch(kj){return void console.log("Error!")}}()},[l,g]),(0,At.jsxs)(At.Fragment,{children:[(0,At.jsx)(fj,{activeTab:a,setActiveTab:c}),"home"===a&&(0,At.jsx)(yj,{}),"referral"===a&&(0,At.jsx)(wj,{}),"community"===a&&(0,At.jsx)(vj,{}),"packages"===a&&(0,At.jsx)(bj,{}),"wallet"===a&&(0,At.jsx)(Ej,{}),"withdrawalH"===a&&(0,At.jsx)(xj,{}),(0,At.jsx)(pj,{activeTab:a,setActiveTab:c})]})}const Sj=function(){return(0,At.jsx)(ft,{children:(0,At.jsxs)(Be,{children:[(0,At.jsx)(Te,{path:"/",element:(0,At.jsx)(St,{})}),(0,At.jsx)(Te,{path:"/wallet",element:(0,At.jsx)(Aj,{})}),(0,At.jsx)(Te,{path:"/sign",element:(0,At.jsx)(dj,{})})]})})},Ij=e=>{e&&e instanceof Function&&n.e(6453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,At.jsx)(t.StrictMode,{children:(0,At.jsx)(Sj,{})})),Ij()})()})();
//# sourceMappingURL=main.f8dfb524.js.map